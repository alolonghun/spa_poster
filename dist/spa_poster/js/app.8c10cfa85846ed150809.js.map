{"version":3,"sources":["webpack:///spa_poster/js/app.8c10cfa85846ed150809.js","webpack:///./src/config/html2canvas.js","webpack:///./src/images/qrcode.png","webpack:///src/pages/photograph.vue","webpack:///src/App.vue","webpack:///./src/App.vue?ce4b","webpack:///./src/main.js","webpack:///./src/App.vue?963c","webpack:///./src/config/rem.js","webpack:///./src/router/index.js","webpack:///./src/pages/photograph.vue?44b8","webpack:///./src/config/methods.js","webpack:///./src/images/bg.jpg","webpack:///./src/pages/photograph.vue?ca0a"],"names":["webpackJsonp","04Iu","module","__webpack_exports__","__webpack_require__","global","require","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default","n","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__","__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default","f","exports","define","g","window","self","this","html2canvas","e","t","r","s","o","u","a","i","Error","code","l","call","length","1","_dereq_","root","error","type","RangeError","errors","map","array","fn","result","mapDomain","string","parts","split","replace","regexSeparators","join","ucs2decode","value","extra","output","counter","charCodeAt","push","ucs2encode","stringFromCharCode","basicToDigit","codePoint","base","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","floor","damp","baseMinusTMin","tMax","skew","decode","input","out","basic","j","index","oldi","w","baseMinusT","inputLength","initialN","bias","initialBias","lastIndexOf","delimiter","maxInt","tMin","splice","encode","handledCPCount","basicLength","m","q","currentValue","handledCPCountPlusOne","qMinusT","toUnicode","regexPunycode","test","slice","toLowerCase","toASCII","regexNonASCII","freeExports","nodeType","freeModule","freeGlobal","punycode","key","overflow","not-basic","invalid-input","Math","String","fromCharCode","version","ucs2","amd","hasOwnProperty","2","restoreOwnerScroll","ownerDocument","x","y","defaultView","pageXOffset","pageYOffset","scrollTo","cloneCanvasContents","canvas","clonedCanvas","width","height","getContext","putImageData","getImageData","log","cloneNode","node","javascriptEnabled","clone","document","createTextNode","nodeValue","child","firstChild","nodeName","appendChild","nextSibling","_scrollTop","scrollTop","_scrollLeft","scrollLeft","initNode","containerDocument","options","documentElement","container","createElement","className","style","visibility","position","left","top","border","scrolling","body","resolve","documentClone","contentWindow","onload","interval","setInterval","childNodes","clearInterval","navigator","userAgent","scrollY","scrollX","open","write","replaceChild","adoptNode","close","./log","3","Color","b","fromArray","namedColor","rgb","rgba","hex6","hex3","prototype","darken","amount","round","isTransparent","isBlack","Array","isArray","min","_hex3","match","parseInt","_hex6","substring","_rgb","Number","_rgba","toString","color","colors","isColor","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","4","nodeList","html2canvasCloneIndex","logging","start","Date","now","async","allowTaint","removeContainer","imageTimeout","renderer","CanvasRenderer","strict","proxy","reject","innerWidth","innerHeight","loadUrlDocument","absoluteUrl","then","renderWindow","undefined","setAttribute","html2canvasNodeAttribute","renderDocument","onrendered","windowWidth","windowHeight","html2canvasIndex","createWindowClone","attributeName","selector","querySelector","removeAttribute","clonedWindow","onclone","support","Support","imageLoader","ImageLoader","bounds","getBounds","right","bottom","NodeParser","ready","crop","scale","origBounds","cropBounds","cleanupContainer","parentNode","removeChild","croppedCanvas","x1","max","x2","y1","y2","drawImage","url","link","href","NodeContainer","utils","html2canvasExport","./clone","./imageloader","./nodecontainer","./nodeparser","./proxy","./renderers/canvas","./support","./utils","5","DummyImageContainer","src","promise","image","Image","onerror","smallImage","complete","6","Font","family","size","baseline","middle","img","span","fontFamily","fontSize","margin","padding","verticalAlign","offsetTop","lineHeight","lineWidth","7","FontMetrics","data","getMetrics","./font","8","FrameContainer","sameOrigin","URL","proxyLoad","./core","9","GradientContainer","imageData","colorStops","x0","y0","TYPES","LINEAR","RADIAL","REGEXP_COLORSTOP","10","ImageContainer","cors","tainted","crossOrigin","11","origin","getOrigin","location","ProxyImageContainer","SVGContainer","SVGNodeContainer","LinearGradientContainer","WebkitGradientContainer","bind","findImages","nodes","images","reduce","imageNodes","concat","args","method","forEach","addImage","loadImage","findBackgroundImage","parseBackgroundImages","filter","hasImageBackground","callback","newImage","imageExists","isSVG","svg","isSameOrigin","useCORS","isInline","some","protocol","hostname","port","getPromise","timeout","get","found","fetch","all","timer","race","res","setTimeout","clearTimeout","./dummyimagecontainer","./framecontainer","./imagecontainer","./lineargradientcontainer","./proxyimagecontainer","./svgcontainer","./svgnodecontainer","./webkitgradientcontainer","12","apply","arguments","hasDirection","REGEXP_DIRECTION","reverse","ratio","parseFloat","isNaN","colorStop","colorStopMatch","unit","stop","find","count","./color","./gradientcontainer","13","logger","console","Function","14","parent","stack","borders","clip","backgroundClip","offsetBounds","visible","computedStyles","styles","backgroundImages","transformData","transformMatrix","isPseudoElement","opacity","selectionValue","option","selectedIndex","text","parseMatrix","trim","matrix3d","matrixInverse","c","d","det","val","isPercentage","indexOf","removePx","str","asFloat","parseBackgrounds","cloneTo","getOpacity","cssFloat","assignStack","children","isElementVisible","Node","TEXT_NODE","css","hasAttribute","getAttribute","attribute","computedStyle","before","prefixedCss","prefixes","prefix","substr","toUpperCase","getComputedStyle","cssInt","fontWeight","weight","parseClip","matches","CLIP","cssList","property","parseBackgroundSize","targetRatio","currentRatio","parseBackgroundPosition","backgroundSize","parseBackgroundRepeat","parseTextShadows","textShadow","results","shadows","TEXT_SHADOW_PROPERTY","TEXT_SHADOW_VALUES","offsetX","offsetY","blur","parseTransform","hasTransform","offset","parseBounds","matrix","parseTransformMatrix","transform","MATRIX_PROPERTY","inverseTransform","getValue","tagName","placeholder","15","element","range","renderQueue","StackingContext","background","rectangle","canvasBackground","visibile","createPseudoHideStyles","disableAnimations","flatten","getChildren","getPseudoElements","fontMetrics","calculateOverflowClips","isElement","createStackingContexts","sortStackingContexts","parse","renderIndex","asyncRenderer","paint","hasParentClip","toCamelCase","ClearTransform","calculateBorders","nodeBounds","borderPoints","radius","pathBounds","borderSide","bx","by","bw","bh","drawSide","c1","c2","c3","c4","topLeftOuter","topLeftInner","topRightOuter","topRightInner","pathArgs","drawSidePath","topLeft","topRight","bottomRightOuter","bottomRightInner","bottomRight","bottomLeftOuter","bottomLeftInner","bottomLeft","getCurvePoints","r1","r2","kappa","sqrt","ox","oy","xm","ym","bezierCurve","calculateCurvePoints","borderRadius","tlh","tlv","trh","trv","brh","brv","blh","blv","topWidth","rightHeight","bottomWidth","leftHeight","subdivide","startControl","endControl","end","lerp","ab","bc","cd","abbc","bccd","dest","curveTo","borderArgs","curveToReversed","borderData","radius1","radius2","outer1","inner1","outer2","inner2","curve1","curve2","parseCorner","corner1","corner2","negativeZIndex","positiveZIndex","zIndex0","inlineLevel","isStackingContext","hasText","noLetterSpacing","getBorderRadiusData","side","arr","asInt","renderableNode","ELEMENT_NODE","isPositionedForStacking","isPositioned","isFloating","isInlineBlock","not","context","isTextNode","zIndexSort","contexts","hasOpacity","getWidth","nonIgnoredElement","nodeContainer","arrays","stripQuotes","content","first","getWords","characters","word","words","onWordBoundary","isWordBoundary","characterCode","hasUnicode","TextContainer","PseudoElementContainer","appendToDOM","parseBorders","cssClip","cleanDOM","queue","asyncTimer","createStyles","PSEUDO_HIDE_ELEMENT_CLASS_BEFORE","PSEUDO_HIDE_ELEMENT_CLASS_AFTER","hidePseudoElements","innerHTML","getPseudoElement","after","display","isImage","pseudoNode","pseudoContainer","item","parentContainer","newStackingContext","hasOwnStacking","getParentStack","isRootElement","isBodyWithTransparentRoot","sort","parseTextBounds","textList","rangeBounds","getRangeBounds","replacementNode","splitText","getWrapperBounds","wrapper","backupText","createRange","setStart","setEnd","getBoundingClientRect","negativeZindex","descendantElements","descendantNonFloats","nonInlineNonPositionedDescendants","nonPositionedFloats","inFlow","stackLevel0","positiveZindex","ctx","restore","paintText","paintNode","setOpacity","save","setTransform","paintCheckbox","paintRadio","paintElement","renderBackground","mask","renderShadows","renderBorders","imgContainer","renderImage","imageContainer","paintFormValue","checked","font","circleStroke","circle","ceil","message","textContent","applyTextTransform","wordRendering","letterRendering","character","fontVariantLigatures","fontShadow","clearShadow","renderTextDecoration","metrics","borderColorTransforms","inset","colorTransform","parseBackgroundClip","./fontmetrics","./pseudoelementcontainer","./stackingcontext","./textcontainer","16","Proxy","proxyUrl","supportsCORS","XMLHttpRequest","createCallback","createProxyUrl","XHR","jsonp","response","decode64","ProxyURL","supportsCORSImage","cleanup","proxyCount","random","encodeURIComponent","documentFromHTML","html","doc","parser","DOMParser","parseFromString","implementation","createHTMLDocument","ee","host","head","insertBefore","./xhr","17","18","getHideClass","19","Renderer","paddingLeft","paddingTop","paddingRight","paddingBottom","renderBackgroundColor","renderBackgroundImage","shape","boxShadow","shadow","renderBorder","dash","setLineDash","path","strokeStyle","stroke","drawShape","backgroundImage","renderBackgroundRepeating","gradientImage","renderBackgroundGradient","backgroundRepeatShape","renderBackgroundRepeat","20","dpi","taintCtx","textBaseline","variables","hasEntries","setFillStyle","fillStyle","fillRect","beginPath","arc","PI","closePath","fill","strokeColor","parseShadow","propertyFilters","px","pxPropertyNames","properties","info","drawShadow","shadowOffsetX","shadowOffsetY","shadowColor","shadowBlur","taints","sx","sy","sw","sh","dx","dy","dw","dh","shapes","borderClip","canvasBorderCCW","maskShape","point","rect","variant","setVariable","globalAlpha","translate","fillText","backgroundPosition","borderLeft","borderTop","createPattern","resizeImage","gradient","createLinearGradient","addColorStop","../lineargradientcontainer","../log","../renderer","21","ownStacking","parentStack","22","testRangeBounds","testCORS","testSVG","testElement","rangeHeight","selectNode","toDataURL","23","hasFabric","inlineFormatting","fabric","loadSVGFromString","createCanvas","removeContentType","objects","StaticCanvas","lowerCanvasEl","setWidth","setHeight","add","util","groupSVGElements","renderAll","atob","24","_native","XMLSerializer","serializeToString","parseSVGDocument","25","capitalize","p1","p2","26","base64","encoded1","encoded2","encoded3","encoded4","byte1","byte2","byte3","chars","len","clientRect","offsetWidth","offsetHeight","offsetParent","offsetLeft","definition","prefix_i","block","quote","whitespace","mode","numParen","appendResult","27","28","xhr","status","responseText","statusText","send","4526","5mn2","p","7xSy","$","__WEBPACK_IMPORTED_MODULE_1_mint_ui__","btnShow","methods","selectPhoto","$this","wx","chooseImage","sizeType","sourceType","success","localIds","uploadImage","localId","isShowProgressTips","serverId","outerWidth","h","outerHeight","attr","taintTest","devicePixelRatio","dataUrl","newImg","empty","append","duration","iconClass","fail","err","alert","doShot","DICR","name","EzSJ","M93x","injectStyle","ssrContext","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_App_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_2687bf1d_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_App_vue__","normalizeComponent","__vue_styles__","Component","NHnr","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1_mint_ui___default","__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_style_css__","__WEBPACK_IMPORTED_MODULE_3__App__","__WEBPACK_IMPORTED_MODULE_4__router__","__WEBPACK_IMPORTED_MODULE_5_jquery__","__WEBPACK_IMPORTED_MODULE_6__config_rem__","__WEBPACK_IMPORTED_MODULE_7_axios__","__WEBPACK_IMPORTED_MODULE_7_axios___default","__WEBPACK_IMPORTED_MODULE_8__config_methods__","config","productionTip","axios","$md","use","dataType","params","WXConfigInit","msg","catch","el","router","template","components","App","ORVr","render","_vm","_h","$createElement","_c","_self","attrs","id","staticRenderFns","esExports","UAgs","clientHeight","clientWidth","UhSw","YaEn","__WEBPACK_IMPORTED_MODULE_1_vue_router__","__WEBPACK_IMPORTED_MODULE_2__pages_photograph__","routes","component","hNm4","staticClass","_m","_v","on","click","jFya","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","weixinObj","debug","appId","timestamp","nonceStr","noncestr","signature","jsApiList","nSZi","vs20","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_photograph_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_8ff347ca_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_photograph_vue__"],"mappings":"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","file":"spa_poster/js/app.8c10cfa85846ed150809.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ \"04Iu\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global, module) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__ = __webpack_require__(\"IYkF\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__ = __webpack_require__(\"rVsN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__ = __webpack_require__(\"hRKE\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof__);\nvar require;var require;\n\n\n/*\n  html2canvas 0.5.0-beta4 <http://html2canvas.hertzen.com>\n  Copyright (c) 2017 Niklas von Hertzen\n  2017-06-14 Custom build by Erik Koopmans, featuring latest bugfixes and features\n\n  Released under MIT License\n*/\n\n(function (f) {\n    if ((typeof exports === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(exports)) === \"object\" && typeof module !== \"undefined\") {\n        module.exports = f();\n    } else if (typeof define === \"function\" && __webpack_require__(\"XbS6\")) {\n        define([], f);\n    } else {\n        var g;if (typeof window !== \"undefined\") {\n            g = window;\n        } else if (typeof global !== \"undefined\") {\n            g = global;\n        } else if (typeof self !== \"undefined\") {\n            g = self;\n        } else {\n            g = this;\n        }g.html2canvas = f();\n    }\n})(function () {\n    var define, module, exports;return function e(t, n, r) {\n        function s(o, u) {\n            if (!n[o]) {\n                if (!t[o]) {\n                    var a = typeof require == \"function\" && require;if (!u && a) return require(o, !0);if (i) return i(o, !0);var f = new Error(\"Cannot find module '\" + o + \"'\");throw f.code = \"MODULE_NOT_FOUND\", f;\n                }var l = n[o] = { exports: {} };t[o][0].call(l.exports, function (e) {\n                    var n = t[o][1][e];return s(n ? n : e);\n                }, l, l.exports, e, t, n, r);\n            }return n[o].exports;\n        }var i = typeof require == \"function\" && require;for (var o = 0; o < r.length; o++) {\n            s(r[o]);\n        }return s;\n    }({ 1: [function (_dereq_, module, exports) {\n            (function (global) {\n                /*! https://mths.be/punycode v1.4.1 by @mathias */\n                ;(function (root) {\n\n                    /** Detect free variables */\n                    var freeExports = (typeof exports === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(exports)) == 'object' && exports && !exports.nodeType && exports;\n                    var freeModule = (typeof module === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(module)) == 'object' && module && !module.nodeType && module;\n                    var freeGlobal = (typeof global === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(global)) == 'object' && global;\n                    if (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal || freeGlobal.self === freeGlobal) {\n                        root = freeGlobal;\n                    }\n\n                    /**\n                     * The `punycode` object.\n                     * @name punycode\n                     * @type Object\n                     */\n                    var punycode,\n\n\n                    /** Highest positive signed 32-bit float value */\n                    maxInt = 2147483647,\n                        // aka. 0x7FFFFFFF or 2^31-1\n\n                    /** Bootstring parameters */\n                    base = 36,\n                        tMin = 1,\n                        tMax = 26,\n                        skew = 38,\n                        damp = 700,\n                        initialBias = 72,\n                        initialN = 128,\n                        // 0x80\n                    delimiter = '-',\n                        // '\\x2D'\n\n                    /** Regular expressions */\n                    regexPunycode = /^xn--/,\n                        regexNonASCII = /[^\\x20-\\x7E]/,\n                        // unprintable ASCII chars + non-ASCII chars\n                    regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g,\n                        // RFC 3490 separators\n\n                    /** Error messages */\n                    errors = {\n                        'overflow': 'Overflow: input needs wider integers to process',\n                        'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n                        'invalid-input': 'Invalid input'\n                    },\n\n\n                    /** Convenience shortcuts */\n                    baseMinusTMin = base - tMin,\n                        floor = Math.floor,\n                        stringFromCharCode = String.fromCharCode,\n\n\n                    /** Temporary variable */\n                    key;\n\n                    /*--------------------------------------------------------------------------*/\n\n                    /**\n                     * A generic error utility function.\n                     * @private\n                     * @param {String} type The error type.\n                     * @returns {Error} Throws a `RangeError` with the applicable error message.\n                     */\n                    function error(type) {\n                        throw new RangeError(errors[type]);\n                    }\n\n                    /**\n                     * A generic `Array#map` utility function.\n                     * @private\n                     * @param {Array} array The array to iterate over.\n                     * @param {Function} callback The function that gets called for every array\n                     * item.\n                     * @returns {Array} A new array of values returned by the callback function.\n                     */\n                    function map(array, fn) {\n                        var length = array.length;\n                        var result = [];\n                        while (length--) {\n                            result[length] = fn(array[length]);\n                        }\n                        return result;\n                    }\n\n                    /**\n                     * A simple `Array#map`-like wrapper to work with domain name strings or email\n                     * addresses.\n                     * @private\n                     * @param {String} domain The domain name or email address.\n                     * @param {Function} callback The function that gets called for every\n                     * character.\n                     * @returns {Array} A new string of characters returned by the callback\n                     * function.\n                     */\n                    function mapDomain(string, fn) {\n                        var parts = string.split('@');\n                        var result = '';\n                        if (parts.length > 1) {\n                            // In email addresses, only the domain name should be punycoded. Leave\n                            // the local part (i.e. everything up to `@`) intact.\n                            result = parts[0] + '@';\n                            string = parts[1];\n                        }\n                        // Avoid `split(regex)` for IE8 compatibility. See #17.\n                        string = string.replace(regexSeparators, '\\x2E');\n                        var labels = string.split('.');\n                        var encoded = map(labels, fn).join('.');\n                        return result + encoded;\n                    }\n\n                    /**\n                     * Creates an array containing the numeric code points of each Unicode\n                     * character in the string. While JavaScript uses UCS-2 internally,\n                     * this function will convert a pair of surrogate halves (each of which\n                     * UCS-2 exposes as separate characters) into a single code point,\n                     * matching UTF-16.\n                     * @see `punycode.ucs2.encode`\n                     * @see <https://mathiasbynens.be/notes/javascript-encoding>\n                     * @memberOf punycode.ucs2\n                     * @name decode\n                     * @param {String} string The Unicode input string (UCS-2).\n                     * @returns {Array} The new array of code points.\n                     */\n                    function ucs2decode(string) {\n                        var output = [],\n                            counter = 0,\n                            length = string.length,\n                            value,\n                            extra;\n                        while (counter < length) {\n                            value = string.charCodeAt(counter++);\n                            if (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n                                // high surrogate, and there is a next character\n                                extra = string.charCodeAt(counter++);\n                                if ((extra & 0xFC00) == 0xDC00) {\n                                    // low surrogate\n                                    output.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n                                } else {\n                                    // unmatched surrogate; only append this code unit, in case the next\n                                    // code unit is the high surrogate of a surrogate pair\n                                    output.push(value);\n                                    counter--;\n                                }\n                            } else {\n                                output.push(value);\n                            }\n                        }\n                        return output;\n                    }\n\n                    /**\n                     * Creates a string based on an array of numeric code points.\n                     * @see `punycode.ucs2.decode`\n                     * @memberOf punycode.ucs2\n                     * @name encode\n                     * @param {Array} codePoints The array of numeric code points.\n                     * @returns {String} The new Unicode string (UCS-2).\n                     */\n                    function ucs2encode(array) {\n                        return map(array, function (value) {\n                            var output = '';\n                            if (value > 0xFFFF) {\n                                value -= 0x10000;\n                                output += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n                                value = 0xDC00 | value & 0x3FF;\n                            }\n                            output += stringFromCharCode(value);\n                            return output;\n                        }).join('');\n                    }\n\n                    /**\n                     * Converts a basic code point into a digit/integer.\n                     * @see `digitToBasic()`\n                     * @private\n                     * @param {Number} codePoint The basic numeric code point value.\n                     * @returns {Number} The numeric value of a basic code point (for use in\n                     * representing integers) in the range `0` to `base - 1`, or `base` if\n                     * the code point does not represent a value.\n                     */\n                    function basicToDigit(codePoint) {\n                        if (codePoint - 48 < 10) {\n                            return codePoint - 22;\n                        }\n                        if (codePoint - 65 < 26) {\n                            return codePoint - 65;\n                        }\n                        if (codePoint - 97 < 26) {\n                            return codePoint - 97;\n                        }\n                        return base;\n                    }\n\n                    /**\n                     * Converts a digit/integer into a basic code point.\n                     * @see `basicToDigit()`\n                     * @private\n                     * @param {Number} digit The numeric value of a basic code point.\n                     * @returns {Number} The basic code point whose value (when used for\n                     * representing integers) is `digit`, which needs to be in the range\n                     * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n                     * used; else, the lowercase form is used. The behavior is undefined\n                     * if `flag` is non-zero and `digit` has no uppercase form.\n                     */\n                    function digitToBasic(digit, flag) {\n                        //  0..25 map to ASCII a..z or A..Z\n                        // 26..35 map to ASCII 0..9\n                        return digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n                    }\n\n                    /**\n                     * Bias adaptation function as per section 3.4 of RFC 3492.\n                     * https://tools.ietf.org/html/rfc3492#section-3.4\n                     * @private\n                     */\n                    function adapt(delta, numPoints, firstTime) {\n                        var k = 0;\n                        delta = firstTime ? floor(delta / damp) : delta >> 1;\n                        delta += floor(delta / numPoints);\n                        for (; /* no initialization */delta > baseMinusTMin * tMax >> 1; k += base) {\n                            delta = floor(delta / baseMinusTMin);\n                        }\n                        return floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n                    }\n\n                    /**\n                     * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n                     * symbols.\n                     * @memberOf punycode\n                     * @param {String} input The Punycode string of ASCII-only symbols.\n                     * @returns {String} The resulting string of Unicode symbols.\n                     */\n                    function decode(input) {\n                        // Don't use UCS-2\n                        var output = [],\n                            inputLength = input.length,\n                            out,\n                            i = 0,\n                            n = initialN,\n                            bias = initialBias,\n                            basic,\n                            j,\n                            index,\n                            oldi,\n                            w,\n                            k,\n                            digit,\n                            t,\n\n                        /** Cached calculation results */\n                        baseMinusT;\n\n                        // Handle the basic code points: let `basic` be the number of input code\n                        // points before the last delimiter, or `0` if there is none, then copy\n                        // the first basic code points to the output.\n\n                        basic = input.lastIndexOf(delimiter);\n                        if (basic < 0) {\n                            basic = 0;\n                        }\n\n                        for (j = 0; j < basic; ++j) {\n                            // if it's not a basic code point\n                            if (input.charCodeAt(j) >= 0x80) {\n                                error('not-basic');\n                            }\n                            output.push(input.charCodeAt(j));\n                        }\n\n                        // Main decoding loop: start just after the last delimiter if any basic code\n                        // points were copied; start at the beginning otherwise.\n\n                        for (index = basic > 0 ? basic + 1 : 0; index < inputLength;) /* no final expression */{\n\n                            // `index` is the index of the next character to be consumed.\n                            // Decode a generalized variable-length integer into `delta`,\n                            // which gets added to `i`. The overflow checking is easier\n                            // if we increase `i` as we go, then subtract off its starting\n                            // value at the end to obtain `delta`.\n                            for (oldi = i, w = 1, k = base;; /* no condition */k += base) {\n\n                                if (index >= inputLength) {\n                                    error('invalid-input');\n                                }\n\n                                digit = basicToDigit(input.charCodeAt(index++));\n\n                                if (digit >= base || digit > floor((maxInt - i) / w)) {\n                                    error('overflow');\n                                }\n\n                                i += digit * w;\n                                t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n\n                                if (digit < t) {\n                                    break;\n                                }\n\n                                baseMinusT = base - t;\n                                if (w > floor(maxInt / baseMinusT)) {\n                                    error('overflow');\n                                }\n\n                                w *= baseMinusT;\n                            }\n\n                            out = output.length + 1;\n                            bias = adapt(i - oldi, out, oldi == 0);\n\n                            // `i` was supposed to wrap around from `out` to `0`,\n                            // incrementing `n` each time, so we'll fix that now:\n                            if (floor(i / out) > maxInt - n) {\n                                error('overflow');\n                            }\n\n                            n += floor(i / out);\n                            i %= out;\n\n                            // Insert `n` at position `i` of the output\n                            output.splice(i++, 0, n);\n                        }\n\n                        return ucs2encode(output);\n                    }\n\n                    /**\n                     * Converts a string of Unicode symbols (e.g. a domain name label) to a\n                     * Punycode string of ASCII-only symbols.\n                     * @memberOf punycode\n                     * @param {String} input The string of Unicode symbols.\n                     * @returns {String} The resulting Punycode string of ASCII-only symbols.\n                     */\n                    function encode(input) {\n                        var n,\n                            delta,\n                            handledCPCount,\n                            basicLength,\n                            bias,\n                            j,\n                            m,\n                            q,\n                            k,\n                            t,\n                            currentValue,\n                            output = [],\n\n                        /** `inputLength` will hold the number of code points in `input`. */\n                        inputLength,\n\n                        /** Cached calculation results */\n                        handledCPCountPlusOne,\n                            baseMinusT,\n                            qMinusT;\n\n                        // Convert the input in UCS-2 to Unicode\n                        input = ucs2decode(input);\n\n                        // Cache the length\n                        inputLength = input.length;\n\n                        // Initialize the state\n                        n = initialN;\n                        delta = 0;\n                        bias = initialBias;\n\n                        // Handle the basic code points\n                        for (j = 0; j < inputLength; ++j) {\n                            currentValue = input[j];\n                            if (currentValue < 0x80) {\n                                output.push(stringFromCharCode(currentValue));\n                            }\n                        }\n\n                        handledCPCount = basicLength = output.length;\n\n                        // `handledCPCount` is the number of code points that have been handled;\n                        // `basicLength` is the number of basic code points.\n\n                        // Finish the basic string - if it is not empty - with a delimiter\n                        if (basicLength) {\n                            output.push(delimiter);\n                        }\n\n                        // Main encoding loop:\n                        while (handledCPCount < inputLength) {\n\n                            // All non-basic code points < n have been handled already. Find the next\n                            // larger one:\n                            for (m = maxInt, j = 0; j < inputLength; ++j) {\n                                currentValue = input[j];\n                                if (currentValue >= n && currentValue < m) {\n                                    m = currentValue;\n                                }\n                            }\n\n                            // Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n                            // but guard against overflow\n                            handledCPCountPlusOne = handledCPCount + 1;\n                            if (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n                                error('overflow');\n                            }\n\n                            delta += (m - n) * handledCPCountPlusOne;\n                            n = m;\n\n                            for (j = 0; j < inputLength; ++j) {\n                                currentValue = input[j];\n\n                                if (currentValue < n && ++delta > maxInt) {\n                                    error('overflow');\n                                }\n\n                                if (currentValue == n) {\n                                    // Represent delta as a generalized variable-length integer\n                                    for (q = delta, k = base;; /* no condition */k += base) {\n                                        t = k <= bias ? tMin : k >= bias + tMax ? tMax : k - bias;\n                                        if (q < t) {\n                                            break;\n                                        }\n                                        qMinusT = q - t;\n                                        baseMinusT = base - t;\n                                        output.push(stringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0)));\n                                        q = floor(qMinusT / baseMinusT);\n                                    }\n\n                                    output.push(stringFromCharCode(digitToBasic(q, 0)));\n                                    bias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n                                    delta = 0;\n                                    ++handledCPCount;\n                                }\n                            }\n\n                            ++delta;\n                            ++n;\n                        }\n                        return output.join('');\n                    }\n\n                    /**\n                     * Converts a Punycode string representing a domain name or an email address\n                     * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n                     * it doesn't matter if you call it on a string that has already been\n                     * converted to Unicode.\n                     * @memberOf punycode\n                     * @param {String} input The Punycoded domain name or email address to\n                     * convert to Unicode.\n                     * @returns {String} The Unicode representation of the given Punycode\n                     * string.\n                     */\n                    function toUnicode(input) {\n                        return mapDomain(input, function (string) {\n                            return regexPunycode.test(string) ? decode(string.slice(4).toLowerCase()) : string;\n                        });\n                    }\n\n                    /**\n                     * Converts a Unicode string representing a domain name or an email address to\n                     * Punycode. Only the non-ASCII parts of the domain name will be converted,\n                     * i.e. it doesn't matter if you call it with a domain that's already in\n                     * ASCII.\n                     * @memberOf punycode\n                     * @param {String} input The domain name or email address to convert, as a\n                     * Unicode string.\n                     * @returns {String} The Punycode representation of the given domain name or\n                     * email address.\n                     */\n                    function toASCII(input) {\n                        return mapDomain(input, function (string) {\n                            return regexNonASCII.test(string) ? 'xn--' + encode(string) : string;\n                        });\n                    }\n\n                    /*--------------------------------------------------------------------------*/\n\n                    /** Define the public API */\n                    punycode = {\n                        /**\n                         * A string representing the current Punycode.js version number.\n                         * @memberOf punycode\n                         * @type String\n                         */\n                        'version': '1.4.1',\n                        /**\n                         * An object of methods to convert from JavaScript's internal character\n                         * representation (UCS-2) to Unicode code points, and back.\n                         * @see <https://mathiasbynens.be/notes/javascript-encoding>\n                         * @memberOf punycode\n                         * @type Object\n                         */\n                        'ucs2': {\n                            'decode': ucs2decode,\n                            'encode': ucs2encode\n                        },\n                        'decode': decode,\n                        'encode': encode,\n                        'toASCII': toASCII,\n                        'toUnicode': toUnicode\n                    };\n\n                    /** Expose `punycode` */\n                    // Some AMD build optimizers, like r.js, check for specific condition patterns\n                    // like the following:\n                    if (typeof define == 'function' && __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(define.amd) == 'object' && define.amd) {\n                        define('punycode', function () {\n                            return punycode;\n                        });\n                    } else if (freeExports && freeModule) {\n                        if (module.exports == freeExports) {\n                            // in Node.js, io.js, or RingoJS v0.8.0+\n                            freeModule.exports = punycode;\n                        } else {\n                            // in Narwhal or RingoJS v0.7.0-\n                            for (key in punycode) {\n                                punycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n                            }\n                        }\n                    } else {\n                        // in Rhino or a web browser\n                        root.punycode = punycode;\n                    }\n                })(this);\n            }).call(this, typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {});\n        }, {}], 2: [function (_dereq_, module, exports) {\n            var log = _dereq_('./log');\n\n            function restoreOwnerScroll(ownerDocument, x, y) {\n                if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n                    ownerDocument.defaultView.scrollTo(x, y);\n                }\n            }\n\n            function cloneCanvasContents(canvas, clonedCanvas) {\n                try {\n                    if (clonedCanvas) {\n                        clonedCanvas.width = canvas.width;\n                        clonedCanvas.height = canvas.height;\n                        clonedCanvas.getContext(\"2d\").putImageData(canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n                    }\n                } catch (e) {\n                    log(\"Unable to copy canvas content from\", canvas, e);\n                }\n            }\n\n            function cloneNode(node, javascriptEnabled) {\n                var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n\n                var child = node.firstChild;\n                while (child) {\n                    if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n                        clone.appendChild(cloneNode(child, javascriptEnabled));\n                    }\n                    child = child.nextSibling;\n                }\n\n                if (node.nodeType === 1) {\n                    clone._scrollTop = node.scrollTop;\n                    clone._scrollLeft = node.scrollLeft;\n                    if (node.nodeName === \"CANVAS\") {\n                        cloneCanvasContents(node, clone);\n                    } else if (node.nodeName === \"TEXTAREA\" || node.nodeName === \"SELECT\") {\n                        clone.value = node.value;\n                    }\n                }\n\n                return clone;\n            }\n\n            function initNode(node) {\n                if (node.nodeType === 1) {\n                    node.scrollTop = node._scrollTop;\n                    node.scrollLeft = node._scrollLeft;\n\n                    var child = node.firstChild;\n                    while (child) {\n                        initNode(child);\n                        child = child.nextSibling;\n                    }\n                }\n            }\n\n            module.exports = function (ownerDocument, containerDocument, width, height, options, x, y) {\n                var documentElement = cloneNode(ownerDocument.documentElement, options.javascriptEnabled);\n                var container = containerDocument.createElement(\"iframe\");\n\n                container.className = \"html2canvas-container\";\n                container.style.visibility = \"hidden\";\n                container.style.position = \"fixed\";\n                container.style.left = \"-10000px\";\n                container.style.top = \"0px\";\n                container.style.border = \"0\";\n                container.width = width;\n                container.height = height;\n                container.scrolling = \"no\"; // ios won't scroll without it\n                containerDocument.body.appendChild(container);\n\n                return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve) {\n                    var documentClone = container.contentWindow.document;\n\n                    /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n                     if window url is about:blank, we can assign the url to current by writing onto the document\n                     */\n                    container.contentWindow.onload = container.onload = function () {\n                        var interval = setInterval(function () {\n                            if (documentClone.body.childNodes.length > 0) {\n                                initNode(documentClone.documentElement);\n                                clearInterval(interval);\n                                if (options.type === \"view\") {\n                                    container.contentWindow.scrollTo(x, y);\n                                    if (/(iPad|iPhone|iPod)/g.test(navigator.userAgent) && (container.contentWindow.scrollY !== y || container.contentWindow.scrollX !== x)) {\n                                        documentClone.documentElement.style.top = -y + \"px\";\n                                        documentClone.documentElement.style.left = -x + \"px\";\n                                        documentClone.documentElement.style.position = 'absolute';\n                                    }\n                                }\n                                resolve(container);\n                            }\n                        }, 50);\n                    };\n\n                    documentClone.open();\n                    documentClone.write(\"<!DOCTYPE html><html></html>\");\n                    // Chrome scrolls the parent document for some reason after the write to the cloned window???\n                    restoreOwnerScroll(ownerDocument, x, y);\n                    documentClone.replaceChild(documentClone.adoptNode(documentElement), documentClone.documentElement);\n                    documentClone.close();\n                });\n            };\n        }, { \"./log\": 13 }], 3: [function (_dereq_, module, exports) {\n            // http://dev.w3.org/csswg/css-color/\n\n            function Color(value) {\n                this.r = 0;\n                this.g = 0;\n                this.b = 0;\n                this.a = null;\n                var result = this.fromArray(value) || this.namedColor(value) || this.rgb(value) || this.rgba(value) || this.hex6(value) || this.hex3(value);\n            }\n\n            Color.prototype.darken = function (amount) {\n                var a = 1 - amount;\n                return new Color([Math.round(this.r * a), Math.round(this.g * a), Math.round(this.b * a), this.a]);\n            };\n\n            Color.prototype.isTransparent = function () {\n                return this.a === 0;\n            };\n\n            Color.prototype.isBlack = function () {\n                return this.r === 0 && this.g === 0 && this.b === 0;\n            };\n\n            Color.prototype.fromArray = function (array) {\n                if (Array.isArray(array)) {\n                    this.r = Math.min(array[0], 255);\n                    this.g = Math.min(array[1], 255);\n                    this.b = Math.min(array[2], 255);\n                    if (array.length > 3) {\n                        this.a = array[3];\n                    }\n                }\n\n                return Array.isArray(array);\n            };\n\n            var _hex3 = /^#([a-f0-9]{3})$/i;\n\n            Color.prototype.hex3 = function (value) {\n                var match = null;\n                if ((match = value.match(_hex3)) !== null) {\n                    this.r = parseInt(match[1][0] + match[1][0], 16);\n                    this.g = parseInt(match[1][1] + match[1][1], 16);\n                    this.b = parseInt(match[1][2] + match[1][2], 16);\n                }\n                return match !== null;\n            };\n\n            var _hex6 = /^#([a-f0-9]{6})$/i;\n\n            Color.prototype.hex6 = function (value) {\n                var match = null;\n                if ((match = value.match(_hex6)) !== null) {\n                    this.r = parseInt(match[1].substring(0, 2), 16);\n                    this.g = parseInt(match[1].substring(2, 4), 16);\n                    this.b = parseInt(match[1].substring(4, 6), 16);\n                }\n                return match !== null;\n            };\n\n            var _rgb = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\n\n            Color.prototype.rgb = function (value) {\n                var match = null;\n                if ((match = value.match(_rgb)) !== null) {\n                    this.r = Number(match[1]);\n                    this.g = Number(match[2]);\n                    this.b = Number(match[3]);\n                }\n                return match !== null;\n            };\n\n            var _rgba = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\n\n            Color.prototype.rgba = function (value) {\n                var match = null;\n                if ((match = value.match(_rgba)) !== null) {\n                    this.r = Number(match[1]);\n                    this.g = Number(match[2]);\n                    this.b = Number(match[3]);\n                    this.a = Number(match[4]);\n                }\n                return match !== null;\n            };\n\n            Color.prototype.toString = function () {\n                return this.a !== null && this.a !== 1 ? \"rgba(\" + [this.r, this.g, this.b, this.a].join(\",\") + \")\" : \"rgb(\" + [this.r, this.g, this.b].join(\",\") + \")\";\n            };\n\n            Color.prototype.namedColor = function (value) {\n                value = value.toLowerCase();\n                var color = colors[value];\n                if (color) {\n                    this.r = color[0];\n                    this.g = color[1];\n                    this.b = color[2];\n                } else if (value === \"transparent\") {\n                    this.r = this.g = this.b = this.a = 0;\n                    return true;\n                }\n\n                return !!color;\n            };\n\n            Color.prototype.isColor = true;\n\n            // JSON.stringify([].slice.call($$('.named-color-table tr'), 1).map(function(row) { return [row.childNodes[3].textContent, row.childNodes[5].textContent.trim().split(\",\").map(Number)] }).reduce(function(data, row) {data[row[0]] = row[1]; return data}, {}))\n            var colors = {\n                \"aliceblue\": [240, 248, 255],\n                \"antiquewhite\": [250, 235, 215],\n                \"aqua\": [0, 255, 255],\n                \"aquamarine\": [127, 255, 212],\n                \"azure\": [240, 255, 255],\n                \"beige\": [245, 245, 220],\n                \"bisque\": [255, 228, 196],\n                \"black\": [0, 0, 0],\n                \"blanchedalmond\": [255, 235, 205],\n                \"blue\": [0, 0, 255],\n                \"blueviolet\": [138, 43, 226],\n                \"brown\": [165, 42, 42],\n                \"burlywood\": [222, 184, 135],\n                \"cadetblue\": [95, 158, 160],\n                \"chartreuse\": [127, 255, 0],\n                \"chocolate\": [210, 105, 30],\n                \"coral\": [255, 127, 80],\n                \"cornflowerblue\": [100, 149, 237],\n                \"cornsilk\": [255, 248, 220],\n                \"crimson\": [220, 20, 60],\n                \"cyan\": [0, 255, 255],\n                \"darkblue\": [0, 0, 139],\n                \"darkcyan\": [0, 139, 139],\n                \"darkgoldenrod\": [184, 134, 11],\n                \"darkgray\": [169, 169, 169],\n                \"darkgreen\": [0, 100, 0],\n                \"darkgrey\": [169, 169, 169],\n                \"darkkhaki\": [189, 183, 107],\n                \"darkmagenta\": [139, 0, 139],\n                \"darkolivegreen\": [85, 107, 47],\n                \"darkorange\": [255, 140, 0],\n                \"darkorchid\": [153, 50, 204],\n                \"darkred\": [139, 0, 0],\n                \"darksalmon\": [233, 150, 122],\n                \"darkseagreen\": [143, 188, 143],\n                \"darkslateblue\": [72, 61, 139],\n                \"darkslategray\": [47, 79, 79],\n                \"darkslategrey\": [47, 79, 79],\n                \"darkturquoise\": [0, 206, 209],\n                \"darkviolet\": [148, 0, 211],\n                \"deeppink\": [255, 20, 147],\n                \"deepskyblue\": [0, 191, 255],\n                \"dimgray\": [105, 105, 105],\n                \"dimgrey\": [105, 105, 105],\n                \"dodgerblue\": [30, 144, 255],\n                \"firebrick\": [178, 34, 34],\n                \"floralwhite\": [255, 250, 240],\n                \"forestgreen\": [34, 139, 34],\n                \"fuchsia\": [255, 0, 255],\n                \"gainsboro\": [220, 220, 220],\n                \"ghostwhite\": [248, 248, 255],\n                \"gold\": [255, 215, 0],\n                \"goldenrod\": [218, 165, 32],\n                \"gray\": [128, 128, 128],\n                \"green\": [0, 128, 0],\n                \"greenyellow\": [173, 255, 47],\n                \"grey\": [128, 128, 128],\n                \"honeydew\": [240, 255, 240],\n                \"hotpink\": [255, 105, 180],\n                \"indianred\": [205, 92, 92],\n                \"indigo\": [75, 0, 130],\n                \"ivory\": [255, 255, 240],\n                \"khaki\": [240, 230, 140],\n                \"lavender\": [230, 230, 250],\n                \"lavenderblush\": [255, 240, 245],\n                \"lawngreen\": [124, 252, 0],\n                \"lemonchiffon\": [255, 250, 205],\n                \"lightblue\": [173, 216, 230],\n                \"lightcoral\": [240, 128, 128],\n                \"lightcyan\": [224, 255, 255],\n                \"lightgoldenrodyellow\": [250, 250, 210],\n                \"lightgray\": [211, 211, 211],\n                \"lightgreen\": [144, 238, 144],\n                \"lightgrey\": [211, 211, 211],\n                \"lightpink\": [255, 182, 193],\n                \"lightsalmon\": [255, 160, 122],\n                \"lightseagreen\": [32, 178, 170],\n                \"lightskyblue\": [135, 206, 250],\n                \"lightslategray\": [119, 136, 153],\n                \"lightslategrey\": [119, 136, 153],\n                \"lightsteelblue\": [176, 196, 222],\n                \"lightyellow\": [255, 255, 224],\n                \"lime\": [0, 255, 0],\n                \"limegreen\": [50, 205, 50],\n                \"linen\": [250, 240, 230],\n                \"magenta\": [255, 0, 255],\n                \"maroon\": [128, 0, 0],\n                \"mediumaquamarine\": [102, 205, 170],\n                \"mediumblue\": [0, 0, 205],\n                \"mediumorchid\": [186, 85, 211],\n                \"mediumpurple\": [147, 112, 219],\n                \"mediumseagreen\": [60, 179, 113],\n                \"mediumslateblue\": [123, 104, 238],\n                \"mediumspringgreen\": [0, 250, 154],\n                \"mediumturquoise\": [72, 209, 204],\n                \"mediumvioletred\": [199, 21, 133],\n                \"midnightblue\": [25, 25, 112],\n                \"mintcream\": [245, 255, 250],\n                \"mistyrose\": [255, 228, 225],\n                \"moccasin\": [255, 228, 181],\n                \"navajowhite\": [255, 222, 173],\n                \"navy\": [0, 0, 128],\n                \"oldlace\": [253, 245, 230],\n                \"olive\": [128, 128, 0],\n                \"olivedrab\": [107, 142, 35],\n                \"orange\": [255, 165, 0],\n                \"orangered\": [255, 69, 0],\n                \"orchid\": [218, 112, 214],\n                \"palegoldenrod\": [238, 232, 170],\n                \"palegreen\": [152, 251, 152],\n                \"paleturquoise\": [175, 238, 238],\n                \"palevioletred\": [219, 112, 147],\n                \"papayawhip\": [255, 239, 213],\n                \"peachpuff\": [255, 218, 185],\n                \"peru\": [205, 133, 63],\n                \"pink\": [255, 192, 203],\n                \"plum\": [221, 160, 221],\n                \"powderblue\": [176, 224, 230],\n                \"purple\": [128, 0, 128],\n                \"rebeccapurple\": [102, 51, 153],\n                \"red\": [255, 0, 0],\n                \"rosybrown\": [188, 143, 143],\n                \"royalblue\": [65, 105, 225],\n                \"saddlebrown\": [139, 69, 19],\n                \"salmon\": [250, 128, 114],\n                \"sandybrown\": [244, 164, 96],\n                \"seagreen\": [46, 139, 87],\n                \"seashell\": [255, 245, 238],\n                \"sienna\": [160, 82, 45],\n                \"silver\": [192, 192, 192],\n                \"skyblue\": [135, 206, 235],\n                \"slateblue\": [106, 90, 205],\n                \"slategray\": [112, 128, 144],\n                \"slategrey\": [112, 128, 144],\n                \"snow\": [255, 250, 250],\n                \"springgreen\": [0, 255, 127],\n                \"steelblue\": [70, 130, 180],\n                \"tan\": [210, 180, 140],\n                \"teal\": [0, 128, 128],\n                \"thistle\": [216, 191, 216],\n                \"tomato\": [255, 99, 71],\n                \"turquoise\": [64, 224, 208],\n                \"violet\": [238, 130, 238],\n                \"wheat\": [245, 222, 179],\n                \"white\": [255, 255, 255],\n                \"whitesmoke\": [245, 245, 245],\n                \"yellow\": [255, 255, 0],\n                \"yellowgreen\": [154, 205, 50]\n            };\n\n            module.exports = Color;\n        }, {}], 4: [function (_dereq_, module, exports) {\n            var Support = _dereq_('./support');\n            var CanvasRenderer = _dereq_('./renderers/canvas');\n            var ImageLoader = _dereq_('./imageloader');\n            var NodeParser = _dereq_('./nodeparser');\n            var NodeContainer = _dereq_('./nodecontainer');\n            var log = _dereq_('./log');\n            var utils = _dereq_('./utils');\n            var createWindowClone = _dereq_('./clone');\n            var loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\n            var getBounds = utils.getBounds;\n\n            var html2canvasNodeAttribute = \"data-html2canvas-node\";\n            var html2canvasCloneIndex = 0;\n\n            function html2canvas(nodeList, options) {\n                var index = html2canvasCloneIndex++;\n                options = options || {};\n                if (options.logging) {\n                    log.options.logging = true;\n                    log.options.start = Date.now();\n                }\n\n                options.async = typeof options.async === \"undefined\" ? true : options.async;\n                options.allowTaint = typeof options.allowTaint === \"undefined\" ? false : options.allowTaint;\n                options.removeContainer = typeof options.removeContainer === \"undefined\" ? true : options.removeContainer;\n                options.javascriptEnabled = typeof options.javascriptEnabled === \"undefined\" ? false : options.javascriptEnabled;\n                options.imageTimeout = typeof options.imageTimeout === \"undefined\" ? 10000 : options.imageTimeout;\n                options.renderer = typeof options.renderer === \"function\" ? options.renderer : CanvasRenderer;\n                options.strict = !!options.strict;\n\n                if (typeof nodeList === \"string\") {\n                    if (typeof options.proxy !== \"string\") {\n                        return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject(\"Proxy must be used when rendering url\");\n                    }\n                    var width = options.width != null ? options.width : window.innerWidth;\n                    var height = options.height != null ? options.height : window.innerHeight;\n                    return loadUrlDocument(absoluteUrl(nodeList), options.proxy, document, width, height, options).then(function (container) {\n                        return renderWindow(container.contentWindow.document.documentElement, container, options, width, height);\n                    });\n                }\n\n                var node = (nodeList === undefined ? [document.documentElement] : nodeList.length ? nodeList : [nodeList])[0];\n                node.setAttribute(html2canvasNodeAttribute + index, index);\n                return renderDocument(node.ownerDocument, options, node.ownerDocument.defaultView.innerWidth, node.ownerDocument.defaultView.innerHeight, index).then(function (canvas) {\n                    if (typeof options.onrendered === \"function\") {\n                        log(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\");\n                        options.onrendered(canvas);\n                    }\n                    return canvas;\n                });\n            }\n\n            html2canvas.CanvasRenderer = CanvasRenderer;\n            html2canvas.NodeContainer = NodeContainer;\n            html2canvas.log = log;\n            html2canvas.utils = utils;\n\n            var html2canvasExport = typeof document === \"undefined\" || typeof __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default.a !== \"function\" || typeof document.createElement(\"canvas\").getContext !== \"function\" ? function () {\n                return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject(\"No canvas support\");\n            } : html2canvas;\n\n            module.exports = html2canvasExport;\n\n            if (typeof define === 'function' && define.amd) {\n                define('html2canvas', [], function () {\n                    return html2canvasExport;\n                });\n            }\n\n            function renderDocument(document, options, windowWidth, windowHeight, html2canvasIndex) {\n                return createWindowClone(document, document, windowWidth, windowHeight, options, document.defaultView.pageXOffset, document.defaultView.pageYOffset).then(function (container) {\n                    log(\"Document cloned\");\n                    var attributeName = html2canvasNodeAttribute + html2canvasIndex;\n                    var selector = \"[\" + attributeName + \"='\" + html2canvasIndex + \"']\";\n                    document.querySelector(selector).removeAttribute(attributeName);\n                    var clonedWindow = container.contentWindow;\n                    var node = clonedWindow.document.querySelector(selector);\n                    var oncloneHandler = typeof options.onclone === \"function\" ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(options.onclone(clonedWindow.document)) : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(true);\n                    return oncloneHandler.then(function () {\n                        return renderWindow(node, container, options, windowWidth, windowHeight);\n                    });\n                });\n            }\n\n            function renderWindow(node, container, options, windowWidth, windowHeight) {\n                var clonedWindow = container.contentWindow;\n                var support = new Support(clonedWindow.document);\n                var imageLoader = new ImageLoader(options, support);\n                var bounds = getBounds(node);\n                var width = options.type === \"view\" ? windowWidth : bounds.right + 1;\n                var height = options.type === \"view\" ? windowHeight : bounds.bottom + 1;\n                var renderer = new options.renderer(width, height, imageLoader, options, document);\n                var parser = new NodeParser(node, renderer, support, imageLoader, options);\n                return parser.ready.then(function () {\n                    log(\"Finished rendering\");\n                    var canvas;\n\n                    if (options.type === \"view\") {\n                        canvas = crop(renderer.canvas, { width: renderer.canvas.width, height: renderer.canvas.height, top: 0, left: 0, x: 0, y: 0 });\n                    } else if (node === clonedWindow.document.body || node === clonedWindow.document.documentElement || options.canvas != null) {\n                        canvas = renderer.canvas;\n                    } else if (options.scale) {\n                        var origBounds = { width: options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: 0, y: 0 };\n                        var cropBounds = {};\n                        for (var key in origBounds) {\n                            if (origBounds.hasOwnProperty(key)) {\n                                cropBounds[key] = origBounds[key] * options.scale;\n                            }\n                        }\n                        canvas = crop(renderer.canvas, cropBounds);\n                        canvas.style.width = origBounds.width + 'px';\n                        canvas.style.height = origBounds.height + 'px';\n                    } else {\n                        canvas = crop(renderer.canvas, { width: options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: 0, y: 0 });\n                    }\n\n                    cleanupContainer(container, options);\n                    return canvas;\n                });\n            }\n\n            function cleanupContainer(container, options) {\n                if (options.removeContainer) {\n                    container.parentNode.removeChild(container);\n                    log(\"Cleaned up container\");\n                }\n            }\n\n            function crop(canvas, bounds) {\n                var croppedCanvas = document.createElement(\"canvas\");\n                var x1 = Math.min(canvas.width - 1, Math.max(0, bounds.left));\n                var x2 = Math.min(canvas.width, Math.max(1, bounds.left + bounds.width));\n                var y1 = Math.min(canvas.height - 1, Math.max(0, bounds.top));\n                var y2 = Math.min(canvas.height, Math.max(1, bounds.top + bounds.height));\n                croppedCanvas.width = bounds.width;\n                croppedCanvas.height = bounds.height;\n                var width = x2 - x1;\n                var height = y2 - y1;\n                log(\"Cropping canvas at:\", \"left:\", bounds.left, \"top:\", bounds.top, \"width:\", width, \"height:\", height);\n                log(\"Resulting crop with width\", bounds.width, \"and height\", bounds.height, \"with x\", x1, \"and y\", y1);\n                croppedCanvas.getContext(\"2d\").drawImage(canvas, x1, y1, width, height, bounds.x, bounds.y, width, height);\n                return croppedCanvas;\n            }\n\n            function documentWidth(doc) {\n                return Math.max(Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth), Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth), Math.max(doc.body.clientWidth, doc.documentElement.clientWidth));\n            }\n\n            function documentHeight(doc) {\n                return Math.max(Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight), Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight), Math.max(doc.body.clientHeight, doc.documentElement.clientHeight));\n            }\n\n            function absoluteUrl(url) {\n                var link = document.createElement(\"a\");\n                link.href = url;\n                link.href = link.href;\n                return link;\n            }\n        }, { \"./clone\": 2, \"./imageloader\": 11, \"./log\": 13, \"./nodecontainer\": 14, \"./nodeparser\": 15, \"./proxy\": 16, \"./renderers/canvas\": 20, \"./support\": 22, \"./utils\": 26 }], 5: [function (_dereq_, module, exports) {\n            var log = _dereq_('./log');\n            var smallImage = _dereq_('./utils').smallImage;\n\n            function DummyImageContainer(src) {\n                this.src = src;\n                log(\"DummyImageContainer for\", src);\n                if (!this.promise || !this.image) {\n                    log(\"Initiating DummyImageContainer\");\n                    DummyImageContainer.prototype.image = new Image();\n                    var image = this.image;\n                    DummyImageContainer.prototype.promise = new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n                        image.onload = resolve;\n                        image.onerror = reject;\n                        image.src = smallImage();\n                        if (image.complete === true) {\n                            resolve(image);\n                        }\n                    });\n                }\n            }\n\n            module.exports = DummyImageContainer;\n        }, { \"./log\": 13, \"./utils\": 26 }], 6: [function (_dereq_, module, exports) {\n            var smallImage = _dereq_('./utils').smallImage;\n\n            function Font(family, size) {\n                var container = document.createElement('div'),\n                    img = document.createElement('img'),\n                    span = document.createElement('span'),\n                    sampleText = 'Hidden Text',\n                    baseline,\n                    middle;\n\n                container.style.visibility = \"hidden\";\n                container.style.fontFamily = family;\n                container.style.fontSize = size;\n                container.style.margin = 0;\n                container.style.padding = 0;\n\n                document.body.appendChild(container);\n\n                img.src = smallImage();\n                img.width = 1;\n                img.height = 1;\n\n                img.style.margin = 0;\n                img.style.padding = 0;\n                img.style.verticalAlign = \"baseline\";\n\n                span.style.fontFamily = family;\n                span.style.fontSize = size;\n                span.style.margin = 0;\n                span.style.padding = 0;\n\n                span.appendChild(document.createTextNode(sampleText));\n                container.appendChild(span);\n                container.appendChild(img);\n                baseline = img.offsetTop - span.offsetTop + 1;\n\n                container.removeChild(span);\n                container.appendChild(document.createTextNode(sampleText));\n\n                container.style.lineHeight = \"normal\";\n                img.style.verticalAlign = \"super\";\n\n                middle = img.offsetTop - container.offsetTop + 1;\n\n                document.body.removeChild(container);\n\n                this.baseline = baseline;\n                this.lineWidth = 1;\n                this.middle = middle;\n            }\n\n            module.exports = Font;\n        }, { \"./utils\": 26 }], 7: [function (_dereq_, module, exports) {\n            var Font = _dereq_('./font');\n\n            function FontMetrics() {\n                this.data = {};\n            }\n\n            FontMetrics.prototype.getMetrics = function (family, size) {\n                if (this.data[family + \"-\" + size] === undefined) {\n                    this.data[family + \"-\" + size] = new Font(family, size);\n                }\n                return this.data[family + \"-\" + size];\n            };\n\n            module.exports = FontMetrics;\n        }, { \"./font\": 6 }], 8: [function (_dereq_, module, exports) {\n            var utils = _dereq_('./utils');\n            var getBounds = utils.getBounds;\n            var loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\n\n            function FrameContainer(container, sameOrigin, options) {\n                this.image = null;\n                this.src = container;\n                var self = this;\n                var bounds = getBounds(container);\n                this.promise = (!sameOrigin ? this.proxyLoad(options.proxy, bounds, options) : new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve) {\n                    if (container.contentWindow.document.URL === \"about:blank\" || container.contentWindow.document.documentElement == null) {\n                        container.contentWindow.onload = container.onload = function () {\n                            resolve(container);\n                        };\n                    } else {\n                        resolve(container);\n                    }\n                })).then(function (container) {\n                    var html2canvas = _dereq_('./core');\n                    return html2canvas(container.contentWindow.document.documentElement, { type: 'view', width: container.width, height: container.height, proxy: options.proxy, javascriptEnabled: options.javascriptEnabled, removeContainer: options.removeContainer, allowTaint: options.allowTaint, imageTimeout: options.imageTimeout / 2 });\n                }).then(function (canvas) {\n                    return self.image = canvas;\n                });\n            }\n\n            FrameContainer.prototype.proxyLoad = function (proxy, bounds, options) {\n                var container = this.src;\n                return loadUrlDocument(container.src, proxy, container.ownerDocument, bounds.width, bounds.height, options);\n            };\n\n            module.exports = FrameContainer;\n        }, { \"./core\": 4, \"./proxy\": 16, \"./utils\": 26 }], 9: [function (_dereq_, module, exports) {\n            function GradientContainer(imageData) {\n                this.src = imageData.value;\n                this.colorStops = [];\n                this.type = null;\n                this.x0 = 0.5;\n                this.y0 = 0.5;\n                this.x1 = 0.5;\n                this.y1 = 0.5;\n                this.promise = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(true);\n            }\n\n            GradientContainer.TYPES = {\n                LINEAR: 1,\n                RADIAL: 2\n            };\n\n            // TODO: support hsl[a], negative %/length values\n            // TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\n            GradientContainer.REGEXP_COLORSTOP = /^\\s*(rgba?\\(\\s*\\d{1,3},\\s*\\d{1,3},\\s*\\d{1,3}(?:,\\s*[0-9\\.]+)?\\s*\\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\\s+(\\d{1,3}(?:\\.\\d+)?)(%|px)?)?(?:\\s|$)/i;\n\n            module.exports = GradientContainer;\n        }, {}], 10: [function (_dereq_, module, exports) {\n            function ImageContainer(src, cors) {\n                this.src = src;\n                this.image = new Image();\n                var self = this;\n                this.tainted = null;\n                this.promise = new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n                    self.image.onload = resolve;\n                    self.image.onerror = reject;\n                    if (cors) {\n                        self.image.crossOrigin = \"anonymous\";\n                    }\n                    self.image.src = src;\n                    if (self.image.complete === true) {\n                        resolve(self.image);\n                    }\n                });\n            }\n\n            module.exports = ImageContainer;\n        }, {}], 11: [function (_dereq_, module, exports) {\n            var log = _dereq_('./log');\n            var ImageContainer = _dereq_('./imagecontainer');\n            var DummyImageContainer = _dereq_('./dummyimagecontainer');\n            var ProxyImageContainer = _dereq_('./proxyimagecontainer');\n            var FrameContainer = _dereq_('./framecontainer');\n            var SVGContainer = _dereq_('./svgcontainer');\n            var SVGNodeContainer = _dereq_('./svgnodecontainer');\n            var LinearGradientContainer = _dereq_('./lineargradientcontainer');\n            var WebkitGradientContainer = _dereq_('./webkitgradientcontainer');\n            var bind = _dereq_('./utils').bind;\n\n            function ImageLoader(options, support) {\n                this.link = null;\n                this.options = options;\n                this.support = support;\n                this.origin = this.getOrigin(window.location.href);\n            }\n\n            ImageLoader.prototype.findImages = function (nodes) {\n                var images = [];\n                nodes.reduce(function (imageNodes, container) {\n                    switch (container.node.nodeName) {\n                        case \"IMG\":\n                            return imageNodes.concat([{\n                                args: [container.node.src],\n                                method: \"url\"\n                            }]);\n                        case \"svg\":\n                        case \"IFRAME\":\n                            return imageNodes.concat([{\n                                args: [container.node],\n                                method: container.node.nodeName\n                            }]);\n                    }\n                    return imageNodes;\n                }, []).forEach(this.addImage(images, this.loadImage), this);\n                return images;\n            };\n\n            ImageLoader.prototype.findBackgroundImage = function (images, container) {\n                container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images, this.loadImage), this);\n                return images;\n            };\n\n            ImageLoader.prototype.addImage = function (images, callback) {\n                return function (newImage) {\n                    newImage.args.forEach(function (image) {\n                        if (!this.imageExists(images, image)) {\n                            images.splice(0, 0, callback.call(this, newImage));\n                            log('Added image #' + images.length, typeof image === \"string\" ? image.substring(0, 100) : image);\n                        }\n                    }, this);\n                };\n            };\n\n            ImageLoader.prototype.hasImageBackground = function (imageData) {\n                return imageData.method !== \"none\";\n            };\n\n            ImageLoader.prototype.loadImage = function (imageData) {\n                if (imageData.method === \"url\") {\n                    var src = imageData.args[0];\n                    if (this.isSVG(src) && !this.support.svg && !this.options.allowTaint) {\n                        return new SVGContainer(src);\n                    } else if (src.match(/data:image\\/.*;base64,/i)) {\n                        return new ImageContainer(src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, ''), false);\n                    } else if (this.isSameOrigin(src) || this.options.allowTaint === true || this.isSVG(src)) {\n                        return new ImageContainer(src, false);\n                    } else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) {\n                        return new ImageContainer(src, true);\n                    } else if (this.options.proxy) {\n                        return new ProxyImageContainer(src, this.options.proxy);\n                    } else {\n                        return new DummyImageContainer(src);\n                    }\n                } else if (imageData.method === \"linear-gradient\") {\n                    return new LinearGradientContainer(imageData);\n                } else if (imageData.method === \"gradient\") {\n                    return new WebkitGradientContainer(imageData);\n                } else if (imageData.method === \"svg\") {\n                    return new SVGNodeContainer(imageData.args[0], this.support.svg);\n                } else if (imageData.method === \"IFRAME\") {\n                    return new FrameContainer(imageData.args[0], this.isSameOrigin(imageData.args[0].src), this.options);\n                } else {\n                    return new DummyImageContainer(imageData);\n                }\n            };\n\n            ImageLoader.prototype.isSVG = function (src) {\n                return src.substring(src.length - 3).toLowerCase() === \"svg\" || SVGContainer.prototype.isInline(src);\n            };\n\n            ImageLoader.prototype.imageExists = function (images, src) {\n                return images.some(function (image) {\n                    return image.src === src;\n                });\n            };\n\n            ImageLoader.prototype.isSameOrigin = function (url) {\n                return this.getOrigin(url) === this.origin;\n            };\n\n            ImageLoader.prototype.getOrigin = function (url) {\n                var link = this.link || (this.link = document.createElement(\"a\"));\n                link.href = url;\n                link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n                return link.protocol + link.hostname + link.port;\n            };\n\n            ImageLoader.prototype.getPromise = function (container) {\n                return this.timeout(container, this.options.imageTimeout)['catch'](function () {\n                    var dummy = new DummyImageContainer(container.src);\n                    return dummy.promise.then(function (image) {\n                        container.image = image;\n                    });\n                });\n            };\n\n            ImageLoader.prototype.get = function (src) {\n                var found = null;\n                return this.images.some(function (img) {\n                    return (found = img).src === src;\n                }) ? found : null;\n            };\n\n            ImageLoader.prototype.fetch = function (nodes) {\n                this.images = nodes.reduce(bind(this.findBackgroundImage, this), this.findImages(nodes));\n                this.images.forEach(function (image, index) {\n                    image.promise.then(function () {\n                        log(\"Succesfully loaded image #\" + (index + 1), image);\n                    }, function (e) {\n                        log(\"Failed loading image #\" + (index + 1), image, e);\n                    });\n                });\n                this.ready = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.all(this.images.map(this.getPromise, this));\n                log(\"Finished searching images\");\n                return this;\n            };\n\n            ImageLoader.prototype.timeout = function (container, timeout) {\n                var timer;\n                var promise = __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.race([container.promise, new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (res, reject) {\n                    timer = setTimeout(function () {\n                        log(\"Timed out loading image\", container);\n                        reject(container);\n                    }, timeout);\n                })]).then(function (container) {\n                    clearTimeout(timer);\n                    return container;\n                });\n                promise['catch'](function () {\n                    clearTimeout(timer);\n                });\n                return promise;\n            };\n\n            module.exports = ImageLoader;\n        }, { \"./dummyimagecontainer\": 5, \"./framecontainer\": 8, \"./imagecontainer\": 10, \"./lineargradientcontainer\": 12, \"./log\": 13, \"./proxyimagecontainer\": 17, \"./svgcontainer\": 23, \"./svgnodecontainer\": 24, \"./utils\": 26, \"./webkitgradientcontainer\": 27 }], 12: [function (_dereq_, module, exports) {\n            var GradientContainer = _dereq_('./gradientcontainer');\n            var Color = _dereq_('./color');\n\n            function LinearGradientContainer(imageData) {\n                GradientContainer.apply(this, arguments);\n                this.type = GradientContainer.TYPES.LINEAR;\n\n                var hasDirection = LinearGradientContainer.REGEXP_DIRECTION.test(imageData.args[0]) || !GradientContainer.REGEXP_COLORSTOP.test(imageData.args[0]);\n\n                if (hasDirection) {\n                    imageData.args[0].split(/\\s+/).reverse().forEach(function (position, index) {\n                        switch (position) {\n                            case \"left\":\n                                this.x0 = 0;\n                                this.x1 = 1;\n                                break;\n                            case \"top\":\n                                this.y0 = 0;\n                                this.y1 = 1;\n                                break;\n                            case \"right\":\n                                this.x0 = 1;\n                                this.x1 = 0;\n                                break;\n                            case \"bottom\":\n                                this.y0 = 1;\n                                this.y1 = 0;\n                                break;\n                            case \"to\":\n                                var y0 = this.y0;\n                                var x0 = this.x0;\n                                this.y0 = this.y1;\n                                this.x0 = this.x1;\n                                this.x1 = x0;\n                                this.y1 = y0;\n                                break;\n                            case \"center\":\n                                break; // centered by default\n                            // Firefox internally converts position keywords to percentages:\n                            // http://www.w3.org/TR/2010/WD-CSS2-20101207/colors.html#propdef-background-position\n                            default:\n                                // percentage or absolute length\n                                // TODO: support absolute start point positions (e.g., use bounds to convert px to a ratio)\n                                var ratio = parseFloat(position, 10) * 1e-2;\n                                if (isNaN(ratio)) {\n                                    // invalid or unhandled value\n                                    break;\n                                }\n                                if (index === 0) {\n                                    this.y0 = ratio;\n                                    this.y1 = 1 - this.y0;\n                                } else {\n                                    this.x0 = ratio;\n                                    this.x1 = 1 - this.x0;\n                                }\n                                break;\n                        }\n                    }, this);\n                } else {\n                    this.y0 = 0;\n                    this.y1 = 1;\n                }\n\n                this.colorStops = imageData.args.slice(hasDirection ? 1 : 0).map(function (colorStop) {\n                    var colorStopMatch = colorStop.match(GradientContainer.REGEXP_COLORSTOP);\n                    var value = +colorStopMatch[2];\n                    var unit = value === 0 ? \"%\" : colorStopMatch[3]; // treat \"0\" as \"0%\"\n                    return {\n                        color: new Color(colorStopMatch[1]),\n                        // TODO: support absolute stop positions (e.g., compute gradient line length & convert px to ratio)\n                        stop: unit === \"%\" ? value / 100 : null\n                    };\n                });\n\n                if (this.colorStops[0].stop === null) {\n                    this.colorStops[0].stop = 0;\n                }\n\n                if (this.colorStops[this.colorStops.length - 1].stop === null) {\n                    this.colorStops[this.colorStops.length - 1].stop = 1;\n                }\n\n                // calculates and fills-in explicit stop positions when omitted from rule\n                this.colorStops.forEach(function (colorStop, index) {\n                    if (colorStop.stop === null) {\n                        this.colorStops.slice(index).some(function (find, count) {\n                            if (find.stop !== null) {\n                                colorStop.stop = (find.stop - this.colorStops[index - 1].stop) / (count + 1) + this.colorStops[index - 1].stop;\n                                return true;\n                            } else {\n                                return false;\n                            }\n                        }, this);\n                    }\n                }, this);\n            }\n\n            LinearGradientContainer.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(GradientContainer.prototype);\n\n            // TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\n            LinearGradientContainer.REGEXP_DIRECTION = /^\\s*(?:to|left|right|top|bottom|center|\\d{1,3}(?:\\.\\d+)?%?)(?:\\s|$)/i;\n\n            module.exports = LinearGradientContainer;\n        }, { \"./color\": 3, \"./gradientcontainer\": 9 }], 13: [function (_dereq_, module, exports) {\n            var logger = function logger() {\n                if (logger.options.logging && window.console && window.console.log) {\n                    Function.prototype.bind.call(window.console.log, window.console).apply(window.console, [Date.now() - logger.options.start + \"ms\", \"html2canvas:\"].concat([].slice.call(arguments, 0)));\n                }\n            };\n\n            logger.options = { logging: false };\n            module.exports = logger;\n        }, {}], 14: [function (_dereq_, module, exports) {\n            var Color = _dereq_('./color');\n            var utils = _dereq_('./utils');\n            var getBounds = utils.getBounds;\n            var parseBackgrounds = utils.parseBackgrounds;\n            var offsetBounds = utils.offsetBounds;\n\n            function NodeContainer(node, parent) {\n                this.node = node;\n                this.parent = parent;\n                this.stack = null;\n                this.bounds = null;\n                this.borders = null;\n                this.clip = [];\n                this.backgroundClip = [];\n                this.offsetBounds = null;\n                this.visible = null;\n                this.computedStyles = null;\n                this.colors = {};\n                this.styles = {};\n                this.backgroundImages = null;\n                this.transformData = null;\n                this.transformMatrix = null;\n                this.isPseudoElement = false;\n                this.opacity = null;\n            }\n\n            NodeContainer.prototype.cloneTo = function (stack) {\n                stack.visible = this.visible;\n                stack.borders = this.borders;\n                stack.bounds = this.bounds;\n                stack.clip = this.clip;\n                stack.backgroundClip = this.backgroundClip;\n                stack.computedStyles = this.computedStyles;\n                stack.styles = this.styles;\n                stack.backgroundImages = this.backgroundImages;\n                stack.opacity = this.opacity;\n            };\n\n            NodeContainer.prototype.getOpacity = function () {\n                return this.opacity === null ? this.opacity = this.cssFloat('opacity') : this.opacity;\n            };\n\n            NodeContainer.prototype.assignStack = function (stack) {\n                this.stack = stack;\n                stack.children.push(this);\n            };\n\n            NodeContainer.prototype.isElementVisible = function () {\n                return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : this.css('display') !== \"none\" && this.css('visibility') !== \"hidden\" && !this.node.hasAttribute(\"data-html2canvas-ignore\") && (this.node.nodeName !== \"INPUT\" || this.node.getAttribute(\"type\") !== \"hidden\");\n            };\n\n            NodeContainer.prototype.css = function (attribute) {\n                if (!this.computedStyles) {\n                    this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? \":before\" : \":after\") : this.computedStyle(null);\n                }\n\n                return this.styles[attribute] || (this.styles[attribute] = this.computedStyles[attribute]);\n            };\n\n            NodeContainer.prototype.prefixedCss = function (attribute) {\n                var prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\n                var value = this.css(attribute);\n                if (value === undefined) {\n                    prefixes.some(function (prefix) {\n                        value = this.css(prefix + attribute.substr(0, 1).toUpperCase() + attribute.substr(1));\n                        return value !== undefined;\n                    }, this);\n                }\n                return value === undefined ? null : value;\n            };\n\n            NodeContainer.prototype.computedStyle = function (type) {\n                return this.node.ownerDocument.defaultView.getComputedStyle(this.node, type);\n            };\n\n            NodeContainer.prototype.cssInt = function (attribute) {\n                var value = parseInt(this.css(attribute), 10);\n                return isNaN(value) ? 0 : value; // borders in old IE are throwing 'medium' for demo.html\n            };\n\n            NodeContainer.prototype.color = function (attribute) {\n                return this.colors[attribute] || (this.colors[attribute] = new Color(this.css(attribute)));\n            };\n\n            NodeContainer.prototype.cssFloat = function (attribute) {\n                var value = parseFloat(this.css(attribute));\n                return isNaN(value) ? 0 : value;\n            };\n\n            NodeContainer.prototype.fontWeight = function () {\n                var weight = this.css(\"fontWeight\");\n                switch (parseInt(weight, 10)) {\n                    case 401:\n                        weight = \"bold\";\n                        break;\n                    case 400:\n                        weight = \"normal\";\n                        break;\n                }\n                return weight;\n            };\n\n            NodeContainer.prototype.parseClip = function () {\n                var matches = this.css('clip').match(this.CLIP);\n                if (matches) {\n                    return {\n                        top: parseInt(matches[1], 10),\n                        right: parseInt(matches[2], 10),\n                        bottom: parseInt(matches[3], 10),\n                        left: parseInt(matches[4], 10)\n                    };\n                }\n                return null;\n            };\n\n            NodeContainer.prototype.parseBackgroundImages = function () {\n                return this.backgroundImages || (this.backgroundImages = parseBackgrounds(this.css(\"backgroundImage\")));\n            };\n\n            NodeContainer.prototype.cssList = function (property, index) {\n                var value = (this.css(property) || '').split(',');\n                value = value[index || 0] || value[0] || 'auto';\n                value = value.trim().split(' ');\n                if (value.length === 1) {\n                    value = [value[0], isPercentage(value[0]) ? 'auto' : value[0]];\n                }\n                return value;\n            };\n\n            NodeContainer.prototype.parseBackgroundSize = function (bounds, image, index) {\n                var size = this.cssList(\"backgroundSize\", index);\n                var width, height;\n\n                if (isPercentage(size[0])) {\n                    width = bounds.width * parseFloat(size[0]) / 100;\n                } else if (/contain|cover/.test(size[0])) {\n                    var targetRatio = bounds.width / bounds.height,\n                        currentRatio = image.width / image.height;\n                    return targetRatio < currentRatio ^ size[0] === 'contain' ? { width: bounds.height * currentRatio, height: bounds.height } : { width: bounds.width, height: bounds.width / currentRatio };\n                } else {\n                    width = parseInt(size[0], 10);\n                }\n\n                if (size[0] === 'auto' && size[1] === 'auto') {\n                    height = image.height;\n                } else if (size[1] === 'auto') {\n                    height = width / image.width * image.height;\n                } else if (isPercentage(size[1])) {\n                    height = bounds.height * parseFloat(size[1]) / 100;\n                } else {\n                    height = parseInt(size[1], 10);\n                }\n\n                if (size[0] === 'auto') {\n                    width = height / image.height * image.width;\n                }\n\n                return { width: width, height: height };\n            };\n\n            NodeContainer.prototype.parseBackgroundPosition = function (bounds, image, index, backgroundSize) {\n                var position = this.cssList('backgroundPosition', index);\n                var left, top;\n\n                if (isPercentage(position[0])) {\n                    left = (bounds.width - (backgroundSize || image).width) * (parseFloat(position[0]) / 100);\n                } else {\n                    left = parseInt(position[0], 10);\n                }\n\n                if (position[1] === 'auto') {\n                    top = left / image.width * image.height;\n                } else if (isPercentage(position[1])) {\n                    top = (bounds.height - (backgroundSize || image).height) * parseFloat(position[1]) / 100;\n                } else {\n                    top = parseInt(position[1], 10);\n                }\n\n                if (position[0] === 'auto') {\n                    left = top / image.height * image.width;\n                }\n\n                return { left: left, top: top };\n            };\n\n            NodeContainer.prototype.parseBackgroundRepeat = function (index) {\n                return this.cssList(\"backgroundRepeat\", index)[0];\n            };\n\n            NodeContainer.prototype.parseTextShadows = function () {\n                var textShadow = this.css(\"textShadow\");\n                var results = [];\n\n                if (textShadow && textShadow !== 'none') {\n                    var shadows = textShadow.match(this.TEXT_SHADOW_PROPERTY);\n                    for (var i = 0; shadows && i < shadows.length; i++) {\n                        var s = shadows[i].match(this.TEXT_SHADOW_VALUES);\n                        results.push({\n                            color: new Color(s[0]),\n                            offsetX: s[1] ? parseFloat(s[1].replace('px', '')) : 0,\n                            offsetY: s[2] ? parseFloat(s[2].replace('px', '')) : 0,\n                            blur: s[3] ? s[3].replace('px', '') : 0\n                        });\n                    }\n                }\n                return results;\n            };\n\n            NodeContainer.prototype.parseTransform = function () {\n                if (!this.transformData) {\n                    if (this.hasTransform()) {\n                        var offset = this.parseBounds();\n                        var origin = this.prefixedCss(\"transformOrigin\").split(\" \").map(removePx).map(asFloat);\n                        origin[0] += offset.left;\n                        origin[1] += offset.top;\n                        this.transformData = {\n                            origin: origin,\n                            matrix: this.parseTransformMatrix()\n                        };\n                    } else {\n                        this.transformData = {\n                            origin: [0, 0],\n                            matrix: [1, 0, 0, 1, 0, 0]\n                        };\n                    }\n                }\n                return this.transformData;\n            };\n\n            NodeContainer.prototype.parseTransformMatrix = function () {\n                if (!this.transformMatrix) {\n                    var transform = this.prefixedCss(\"transform\");\n                    var matrix = transform ? parseMatrix(transform.match(this.MATRIX_PROPERTY)) : null;\n                    this.transformMatrix = matrix ? matrix : [1, 0, 0, 1, 0, 0];\n                }\n                return this.transformMatrix;\n            };\n\n            NodeContainer.prototype.inverseTransform = function () {\n                var transformData = this.parseTransform();\n                return { origin: transformData.origin, matrix: matrixInverse(transformData.matrix) };\n            };\n\n            NodeContainer.prototype.parseBounds = function () {\n                return this.bounds || (this.bounds = this.hasTransform() ? offsetBounds(this.node) : getBounds(this.node));\n            };\n\n            NodeContainer.prototype.hasTransform = function () {\n                return this.parseTransformMatrix().join(\",\") !== \"1,0,0,1,0,0\" || this.parent && this.parent.hasTransform();\n            };\n\n            NodeContainer.prototype.getValue = function () {\n                var value = this.node.value || \"\";\n                if (this.node.tagName === \"SELECT\") {\n                    value = selectionValue(this.node);\n                } else if (this.node.type === \"password\") {\n                    value = Array(value.length + 1).join(\"\\u2022\"); // jshint ignore:line\n                }\n                return value.length === 0 ? this.node.placeholder || \"\" : value;\n            };\n\n            NodeContainer.prototype.MATRIX_PROPERTY = /(matrix|matrix3d)\\((.+)\\)/;\n            NodeContainer.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\n            NodeContainer.prototype.TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\n            NodeContainer.prototype.CLIP = /^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/;\n\n            function selectionValue(node) {\n                var option = node.options[node.selectedIndex || 0];\n                return option ? option.text || \"\" : \"\";\n            }\n\n            function parseMatrix(match) {\n                if (match && match[1] === \"matrix\") {\n                    return match[2].split(\",\").map(function (s) {\n                        return parseFloat(s.trim());\n                    });\n                } else if (match && match[1] === \"matrix3d\") {\n                    var matrix3d = match[2].split(\",\").map(function (s) {\n                        return parseFloat(s.trim());\n                    });\n                    return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n                }\n            }\n\n            function matrixInverse(m) {\n                // This is programmed specifically for transform matrices, which have a fixed structure.\n                var a = m[0],\n                    b = m[2],\n                    c = m[4],\n                    d = m[1],\n                    e = m[3],\n                    f = m[5];\n                var det = a * e - b * d;\n                var M = [e, -d, -b, a, b * f - c * e, c * d - a * f].map(function (val) {\n                    return val / det;\n                });\n                return M;\n            }\n\n            function isPercentage(value) {\n                return value.toString().indexOf(\"%\") !== -1;\n            }\n\n            function removePx(str) {\n                return str.replace(\"px\", \"\");\n            }\n\n            function asFloat(str) {\n                return parseFloat(str);\n            }\n\n            module.exports = NodeContainer;\n        }, { \"./color\": 3, \"./utils\": 26 }], 15: [function (_dereq_, module, exports) {\n            var log = _dereq_('./log');\n            var punycode = _dereq_('punycode');\n            var NodeContainer = _dereq_('./nodecontainer');\n            var TextContainer = _dereq_('./textcontainer');\n            var PseudoElementContainer = _dereq_('./pseudoelementcontainer');\n            var FontMetrics = _dereq_('./fontmetrics');\n            var Color = _dereq_('./color');\n            var StackingContext = _dereq_('./stackingcontext');\n            var utils = _dereq_('./utils');\n            var bind = utils.bind;\n            var getBounds = utils.getBounds;\n            var parseBackgrounds = utils.parseBackgrounds;\n            var offsetBounds = utils.offsetBounds;\n\n            function NodeParser(element, renderer, support, imageLoader, options) {\n                log(\"Starting NodeParser\");\n                this.renderer = renderer;\n                this.options = options;\n                this.range = null;\n                this.support = support;\n                this.renderQueue = [];\n                this.stack = new StackingContext(true, 1, element.ownerDocument, null);\n                var parent = new NodeContainer(element, null);\n                if (options.background) {\n                    renderer.rectangle(0, 0, renderer.width, renderer.height, new Color(options.background));\n                }\n                if (element === element.ownerDocument.documentElement) {\n                    // http://www.w3.org/TR/css3-background/#special-backgrounds\n                    var canvasBackground = new NodeContainer(parent.color('backgroundColor').isTransparent() ? element.ownerDocument.body : element.ownerDocument.documentElement, null);\n                    renderer.rectangle(0, 0, renderer.width, renderer.height, canvasBackground.color('backgroundColor'));\n                }\n                parent.visibile = parent.isElementVisible();\n                this.createPseudoHideStyles(element.ownerDocument);\n                this.disableAnimations(element.ownerDocument);\n                this.nodes = flatten([parent].concat(this.getChildren(parent)).filter(function (container) {\n                    return container.visible = container.isElementVisible();\n                }).map(this.getPseudoElements, this));\n                this.fontMetrics = new FontMetrics();\n                log(\"Fetched nodes, total:\", this.nodes.length);\n                log(\"Calculate overflow clips\");\n                this.calculateOverflowClips();\n                log(\"Start fetching images\");\n                this.images = imageLoader.fetch(this.nodes.filter(isElement));\n                this.ready = this.images.ready.then(bind(function () {\n                    log(\"Images loaded, starting parsing\");\n                    log(\"Creating stacking contexts\");\n                    this.createStackingContexts();\n                    log(\"Sorting stacking contexts\");\n                    this.sortStackingContexts(this.stack);\n                    this.parse(this.stack);\n                    log(\"Render queue created with \" + this.renderQueue.length + \" items\");\n                    return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(bind(function (resolve) {\n                        if (!options.async) {\n                            this.renderQueue.forEach(this.paint, this);\n                            resolve();\n                        } else if (typeof options.async === \"function\") {\n                            options.async.call(this, this.renderQueue, resolve);\n                        } else if (this.renderQueue.length > 0) {\n                            this.renderIndex = 0;\n                            this.asyncRenderer(this.renderQueue, resolve);\n                        } else {\n                            resolve();\n                        }\n                    }, this));\n                }, this));\n            }\n\n            NodeParser.prototype.calculateOverflowClips = function () {\n                this.nodes.forEach(function (container) {\n                    if (isElement(container)) {\n                        if (isPseudoElement(container)) {\n                            container.appendToDOM();\n                        }\n                        container.borders = this.parseBorders(container);\n                        var clip = container.css('overflow') === \"hidden\" ? [container.borders.clip] : [];\n                        var cssClip = container.parseClip();\n                        if (cssClip && [\"absolute\", \"fixed\"].indexOf(container.css('position')) !== -1) {\n                            clip.push([[\"rect\", container.bounds.left + cssClip.left, container.bounds.top + cssClip.top, cssClip.right - cssClip.left, cssClip.bottom - cssClip.top]]);\n                        }\n                        container.clip = hasParentClip(container) ? container.parent.clip.concat(clip) : clip;\n                        container.backgroundClip = container.css('overflow') !== \"hidden\" ? container.clip.concat([container.borders.clip]) : container.clip;\n                        if (isPseudoElement(container)) {\n                            container.cleanDOM();\n                        }\n                    } else if (isTextNode(container)) {\n                        container.clip = hasParentClip(container) ? container.parent.clip : [];\n                    }\n                    if (!isPseudoElement(container)) {\n                        container.bounds = null;\n                    }\n                }, this);\n            };\n\n            function hasParentClip(container) {\n                return container.parent && container.parent.clip.length;\n            }\n\n            NodeParser.prototype.asyncRenderer = function (queue, resolve, asyncTimer) {\n                asyncTimer = asyncTimer || Date.now();\n                this.paint(queue[this.renderIndex++]);\n                if (queue.length === this.renderIndex) {\n                    resolve();\n                } else if (asyncTimer + 20 > Date.now()) {\n                    this.asyncRenderer(queue, resolve, asyncTimer);\n                } else {\n                    setTimeout(bind(function () {\n                        this.asyncRenderer(queue, resolve);\n                    }, this), 0);\n                }\n            };\n\n            NodeParser.prototype.createPseudoHideStyles = function (document) {\n                this.createStyles(document, '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: \"\" !important; display: none !important; }' + '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: \"\" !important; display: none !important; }');\n            };\n\n            NodeParser.prototype.disableAnimations = function (document) {\n                this.createStyles(document, '* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; ' + '-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}');\n            };\n\n            NodeParser.prototype.createStyles = function (document, styles) {\n                var hidePseudoElements = document.createElement('style');\n                hidePseudoElements.innerHTML = styles;\n                document.body.appendChild(hidePseudoElements);\n            };\n\n            NodeParser.prototype.getPseudoElements = function (container) {\n                var nodes = [[container]];\n                if (container.node.nodeType === Node.ELEMENT_NODE) {\n                    var before = this.getPseudoElement(container, \":before\");\n                    var after = this.getPseudoElement(container, \":after\");\n\n                    if (before) {\n                        nodes.push(before);\n                    }\n\n                    if (after) {\n                        nodes.push(after);\n                    }\n                }\n                return flatten(nodes);\n            };\n\n            function toCamelCase(str) {\n                return str.replace(/(\\-[a-z])/g, function (match) {\n                    return match.toUpperCase().replace('-', '');\n                });\n            }\n\n            NodeParser.prototype.getPseudoElement = function (container, type) {\n                var style = container.computedStyle(type);\n                if (!style || !style.content || style.content === \"none\" || style.content === \"-moz-alt-content\" || style.display === \"none\") {\n                    return null;\n                }\n\n                var content = stripQuotes(style.content);\n                var isImage = content.substr(0, 3) === 'url';\n                var pseudoNode = document.createElement(isImage ? 'img' : 'html2canvaspseudoelement');\n                var pseudoContainer = new PseudoElementContainer(pseudoNode, container, type);\n\n                for (var i = style.length - 1; i >= 0; i--) {\n                    var property = toCamelCase(style.item(i));\n                    pseudoNode.style[property] = style[property];\n                }\n\n                pseudoNode.className = PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n\n                if (isImage) {\n                    pseudoNode.src = parseBackgrounds(content)[0].args[0];\n                    return [pseudoContainer];\n                } else {\n                    var text = document.createTextNode(content);\n                    pseudoNode.appendChild(text);\n                    return [pseudoContainer, new TextContainer(text, pseudoContainer)];\n                }\n            };\n\n            NodeParser.prototype.getChildren = function (parentContainer) {\n                return flatten([].filter.call(parentContainer.node.childNodes, renderableNode).map(function (node) {\n                    var container = [node.nodeType === Node.TEXT_NODE ? new TextContainer(node, parentContainer) : new NodeContainer(node, parentContainer)].filter(nonIgnoredElement);\n                    return node.nodeType === Node.ELEMENT_NODE && container.length && node.tagName !== \"TEXTAREA\" ? container[0].isElementVisible() ? container.concat(this.getChildren(container[0])) : [] : container;\n                }, this));\n            };\n\n            NodeParser.prototype.newStackingContext = function (container, hasOwnStacking) {\n                var stack = new StackingContext(hasOwnStacking, container.getOpacity(), container.node, container.parent);\n                container.cloneTo(stack);\n                var parentStack = hasOwnStacking ? stack.getParentStack(this) : stack.parent.stack;\n                parentStack.contexts.push(stack);\n                container.stack = stack;\n            };\n\n            NodeParser.prototype.createStackingContexts = function () {\n                this.nodes.forEach(function (container) {\n                    if (isElement(container) && (this.isRootElement(container) || hasOpacity(container) || isPositionedForStacking(container) || this.isBodyWithTransparentRoot(container) || container.hasTransform())) {\n                        this.newStackingContext(container, true);\n                    } else if (isElement(container) && (isPositioned(container) && zIndex0(container) || isInlineBlock(container) || isFloating(container))) {\n                        this.newStackingContext(container, false);\n                    } else {\n                        container.assignStack(container.parent.stack);\n                    }\n                }, this);\n            };\n\n            NodeParser.prototype.isBodyWithTransparentRoot = function (container) {\n                return container.node.nodeName === \"BODY\" && container.parent.color('backgroundColor').isTransparent();\n            };\n\n            NodeParser.prototype.isRootElement = function (container) {\n                return container.parent === null;\n            };\n\n            NodeParser.prototype.sortStackingContexts = function (stack) {\n                stack.contexts.sort(zIndexSort(stack.contexts.slice(0)));\n                stack.contexts.forEach(this.sortStackingContexts, this);\n            };\n\n            NodeParser.prototype.parseTextBounds = function (container) {\n                return function (text, index, textList) {\n                    if (container.parent.css(\"textDecoration\").substr(0, 4) !== \"none\" || text.trim().length !== 0) {\n                        if (this.support.rangeBounds && !container.parent.hasTransform()) {\n                            var offset = textList.slice(0, index).join(\"\").length;\n                            return this.getRangeBounds(container.node, offset, text.length);\n                        } else if (container.node && typeof container.node.data === \"string\") {\n                            var replacementNode = container.node.splitText(text.length);\n                            var bounds = this.getWrapperBounds(container.node, container.parent.hasTransform());\n                            container.node = replacementNode;\n                            return bounds;\n                        }\n                    } else if (!this.support.rangeBounds || container.parent.hasTransform()) {\n                        container.node = container.node.splitText(text.length);\n                    }\n                    return {};\n                };\n            };\n\n            NodeParser.prototype.getWrapperBounds = function (node, transform) {\n                var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n                var parent = node.parentNode,\n                    backupText = node.cloneNode(true);\n\n                wrapper.appendChild(node.cloneNode(true));\n                parent.replaceChild(wrapper, node);\n                var bounds = transform ? offsetBounds(wrapper) : getBounds(wrapper);\n                parent.replaceChild(backupText, wrapper);\n                return bounds;\n            };\n\n            NodeParser.prototype.getRangeBounds = function (node, offset, length) {\n                var range = this.range || (this.range = node.ownerDocument.createRange());\n                range.setStart(node, offset);\n                range.setEnd(node, offset + length);\n                return range.getBoundingClientRect();\n            };\n\n            function ClearTransform() {}\n\n            NodeParser.prototype.parse = function (stack) {\n                // http://www.w3.org/TR/CSS21/visuren.html#z-index\n                var negativeZindex = stack.contexts.filter(negativeZIndex); // 2. the child stacking contexts with negative stack levels (most negative first).\n                var descendantElements = stack.children.filter(isElement);\n                var descendantNonFloats = descendantElements.filter(not(isFloating));\n                var nonInlineNonPositionedDescendants = descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)); // 3 the in-flow, non-inline-level, non-positioned descendants.\n                var nonPositionedFloats = descendantElements.filter(not(isPositioned)).filter(isFloating); // 4. the non-positioned floats.\n                var inFlow = descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n                var stackLevel0 = stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0); // 6. the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.\n                var text = stack.children.filter(isTextNode).filter(hasText);\n                var positiveZindex = stack.contexts.filter(positiveZIndex); // 7. the child stacking contexts with positive stack levels (least positive first).\n                negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats).concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function (container) {\n                    this.renderQueue.push(container);\n                    if (isStackingContext(container)) {\n                        this.parse(container);\n                        this.renderQueue.push(new ClearTransform());\n                    }\n                }, this);\n            };\n\n            NodeParser.prototype.paint = function (container) {\n                try {\n                    if (container instanceof ClearTransform) {\n                        this.renderer.ctx.restore();\n                    } else if (isTextNode(container)) {\n                        if (isPseudoElement(container.parent)) {\n                            container.parent.appendToDOM();\n                        }\n                        this.paintText(container);\n                        if (isPseudoElement(container.parent)) {\n                            container.parent.cleanDOM();\n                        }\n                    } else {\n                        this.paintNode(container);\n                    }\n                } catch (e) {\n                    log(e);\n                    if (this.options.strict) {\n                        throw e;\n                    }\n                }\n            };\n\n            NodeParser.prototype.paintNode = function (container) {\n                if (isStackingContext(container)) {\n                    this.renderer.setOpacity(container.opacity);\n                    this.renderer.ctx.save();\n                    if (container.hasTransform()) {\n                        this.renderer.setTransform(container.parseTransform());\n                    }\n                }\n\n                if (container.node.nodeName === \"INPUT\" && container.node.type === \"checkbox\") {\n                    this.paintCheckbox(container);\n                } else if (container.node.nodeName === \"INPUT\" && container.node.type === \"radio\") {\n                    this.paintRadio(container);\n                } else {\n                    this.paintElement(container);\n                }\n            };\n\n            NodeParser.prototype.paintElement = function (container) {\n                var bounds = container.parseBounds();\n                this.renderer.clip(container.backgroundClip, function () {\n                    this.renderer.renderBackground(container, bounds, container.borders.borders.map(getWidth));\n                }, this, container);\n\n                this.renderer.mask(container.backgroundClip, function () {\n                    this.renderer.renderShadows(container, container.borders.clip);\n                }, this, container);\n\n                this.renderer.clip(container.clip, function () {\n                    this.renderer.renderBorders(container.borders.borders);\n                }, this, container);\n\n                this.renderer.clip(container.backgroundClip, function () {\n                    switch (container.node.nodeName) {\n                        case \"svg\":\n                        case \"IFRAME\":\n                            var imgContainer = this.images.get(container.node);\n                            if (imgContainer) {\n                                this.renderer.renderImage(container, bounds, container.borders, imgContainer);\n                            } else {\n                                log(\"Error loading <\" + container.node.nodeName + \">\", container.node);\n                            }\n                            break;\n                        case \"IMG\":\n                            var imageContainer = this.images.get(container.node.src);\n                            if (imageContainer) {\n                                this.renderer.renderImage(container, bounds, container.borders, imageContainer);\n                            } else {\n                                log(\"Error loading <img>\", container.node.src);\n                            }\n                            break;\n                        case \"CANVAS\":\n                            this.renderer.renderImage(container, bounds, container.borders, { image: container.node });\n                            break;\n                        case \"SELECT\":\n                        case \"INPUT\":\n                        case \"TEXTAREA\":\n                            this.paintFormValue(container);\n                            break;\n                    }\n                }, this, container);\n            };\n\n            NodeParser.prototype.paintCheckbox = function (container) {\n                var b = container.parseBounds();\n\n                var size = Math.min(b.width, b.height);\n                var bounds = { width: size - 1, height: size - 1, top: b.top, left: b.left };\n                var r = [3, 3];\n                var radius = [r, r, r, r];\n                var borders = [1, 1, 1, 1].map(function (w) {\n                    return { color: new Color('#A5A5A5'), width: w };\n                });\n\n                var borderPoints = calculateCurvePoints(bounds, radius, borders);\n\n                this.renderer.clip(container.backgroundClip, function () {\n                    this.renderer.rectangle(bounds.left + 1, bounds.top + 1, bounds.width - 2, bounds.height - 2, new Color(\"#DEDEDE\"));\n                    this.renderer.renderBorders(calculateBorders(borders, bounds, borderPoints, radius));\n                    if (container.node.checked) {\n                        this.renderer.font(new Color('#424242'), 'normal', 'normal', 'bold', size - 3 + \"px\", 'arial');\n                        this.renderer.text(\"\\u2714\", bounds.left + size / 6, bounds.top + size - 1);\n                    }\n                }, this, container);\n            };\n\n            NodeParser.prototype.paintRadio = function (container) {\n                var bounds = container.parseBounds();\n\n                var size = Math.min(bounds.width, bounds.height) - 2;\n\n                this.renderer.clip(container.backgroundClip, function () {\n                    this.renderer.circleStroke(bounds.left + 1, bounds.top + 1, size, new Color('#DEDEDE'), 1, new Color('#A5A5A5'));\n                    if (container.node.checked) {\n                        this.renderer.circle(Math.ceil(bounds.left + size / 4) + 1, Math.ceil(bounds.top + size / 4) + 1, Math.floor(size / 2), new Color('#424242'));\n                    }\n                }, this, container);\n            };\n\n            NodeParser.prototype.paintFormValue = function (container) {\n                var value = container.getValue();\n                if (value.length > 0) {\n                    var document = container.node.ownerDocument;\n                    var wrapper = document.createElement('html2canvaswrapper');\n                    var properties = ['lineHeight', 'textAlign', 'fontFamily', 'fontWeight', 'fontSize', 'color', 'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom', 'width', 'height', 'borderLeftStyle', 'borderTopStyle', 'borderLeftWidth', 'borderTopWidth', 'boxSizing', 'whiteSpace', 'wordWrap'];\n\n                    properties.forEach(function (property) {\n                        try {\n                            wrapper.style[property] = container.css(property);\n                        } catch (e) {\n                            // Older IE has issues with \"border\"\n                            log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\n                        }\n                    });\n                    var bounds = container.parseBounds();\n                    wrapper.style.position = \"fixed\";\n                    wrapper.style.left = bounds.left + \"px\";\n                    wrapper.style.top = bounds.top + \"px\";\n                    wrapper.textContent = value;\n                    document.body.appendChild(wrapper);\n                    this.paintText(new TextContainer(wrapper.firstChild, container));\n                    document.body.removeChild(wrapper);\n                }\n            };\n\n            NodeParser.prototype.paintText = function (container) {\n                container.applyTextTransform();\n                var characters = punycode.ucs2.decode(container.node.data);\n                var wordRendering = (!this.options.letterRendering || noLetterSpacing(container)) && !hasUnicode(container.node.data);\n                var textList = wordRendering ? getWords(characters) : characters.map(function (character) {\n                    return punycode.ucs2.encode([character]);\n                });\n                if (!wordRendering) {\n                    container.parent.node.style.fontVariantLigatures = 'none';\n                }\n\n                var weight = container.parent.fontWeight();\n                var size = container.parent.css('fontSize');\n                var family = container.parent.css('fontFamily');\n                var shadows = container.parent.parseTextShadows();\n\n                this.renderer.font(container.parent.color('color'), container.parent.css('fontStyle'), container.parent.css('fontVariant'), weight, size, family);\n                if (shadows.length) {\n                    // TODO: support multiple text shadows\n                    this.renderer.fontShadow(shadows[0].color, shadows[0].offsetX, shadows[0].offsetY, shadows[0].blur);\n                } else {\n                    this.renderer.clearShadow();\n                }\n\n                this.renderer.clip(container.parent.clip, function () {\n                    textList.map(this.parseTextBounds(container), this).forEach(function (bounds, index) {\n                        if (bounds) {\n                            this.renderer.text(textList[index], bounds.left, bounds.bottom);\n                            this.renderTextDecoration(container.parent, bounds, this.fontMetrics.getMetrics(family, size));\n                        }\n                    }, this);\n                }, this, container.parent);\n            };\n\n            NodeParser.prototype.renderTextDecoration = function (container, bounds, metrics) {\n                switch (container.css(\"textDecoration\").split(\" \")[0]) {\n                    case \"underline\":\n                        // Draws a line at the baseline of the font\n                        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\n                        this.renderer.rectangle(bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n                        break;\n                    case \"overline\":\n                        this.renderer.rectangle(bounds.left, Math.round(bounds.top), bounds.width, 1, container.color(\"color\"));\n                        break;\n                    case \"line-through\":\n                        // TODO try and find exact position for line-through\n                        this.renderer.rectangle(bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n                        break;\n                }\n            };\n\n            var borderColorTransforms = {\n                inset: [[\"darken\", 0.60], [\"darken\", 0.10], [\"darken\", 0.10], [\"darken\", 0.60]]\n            };\n\n            NodeParser.prototype.parseBorders = function (container) {\n                var nodeBounds = container.parseBounds();\n                var radius = getBorderRadiusData(container);\n                var borders = [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function (side, index) {\n                    var style = container.css('border' + side + 'Style');\n                    var color = container.color('border' + side + 'Color');\n                    if (style === \"inset\" && color.isBlack()) {\n                        color = new Color([255, 255, 255, color.a]); // this is wrong, but\n                    }\n                    var colorTransform = borderColorTransforms[style] ? borderColorTransforms[style][index] : null;\n                    return {\n                        width: container.cssInt('border' + side + 'Width'),\n                        color: colorTransform ? color[colorTransform[0]](colorTransform[1]) : color,\n                        style: style,\n                        pathArgs: null,\n                        args: null\n                    };\n                });\n                var borderPoints = calculateCurvePoints(nodeBounds, radius, borders);\n\n                return {\n                    clip: this.parseBackgroundClip(container, borderPoints, borders, radius, nodeBounds),\n                    borders: calculateBorders(borders, nodeBounds, borderPoints, radius)\n                };\n            };\n\n            function calculateBorders(borders, nodeBounds, borderPoints, radius) {\n                var pathBounds = {\n                    top: nodeBounds.top + borders[0].width / 2,\n                    right: nodeBounds.right - borders[1].width / 2,\n                    bottom: nodeBounds.bottom - borders[2].width / 2,\n                    left: nodeBounds.left + borders[3].width / 2\n                };\n                return borders.map(function (border, borderSide) {\n                    if (border.width > 0) {\n                        var bx = nodeBounds.left;\n                        var by = nodeBounds.top;\n                        var bw = nodeBounds.width;\n                        var bh = nodeBounds.height - borders[2].width;\n\n                        switch (borderSide) {\n                            case 0:\n                                // top border\n                                bh = borders[0].width;\n                                border.args = drawSide({\n                                    c1: [bx, by],\n                                    c2: [bx + bw, by],\n                                    c3: [bx + bw - borders[1].width, by + bh],\n                                    c4: [bx + borders[3].width, by + bh]\n                                }, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\n                                border.pathArgs = drawSidePath({\n                                    c1: [pathBounds.left, pathBounds.top],\n                                    c2: [pathBounds.right, pathBounds.top]\n                                }, radius[0], radius[1], borderPoints.topLeft, borderPoints.topRight);\n                                break;\n                            case 1:\n                                // right border\n                                bx = nodeBounds.left + nodeBounds.width - borders[1].width;\n                                bw = borders[1].width;\n\n                                border.args = drawSide({\n                                    c1: [bx + bw, by],\n                                    c2: [bx + bw, by + bh + borders[2].width],\n                                    c3: [bx, by + bh],\n                                    c4: [bx, by + borders[0].width]\n                                }, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\n                                border.pathArgs = drawSidePath({\n                                    c1: [pathBounds.right, pathBounds.top],\n                                    c2: [pathBounds.right, pathBounds.bottom]\n                                }, radius[1], radius[2], borderPoints.topRight, borderPoints.bottomRight);\n                                break;\n                            case 2:\n                                // bottom border\n                                by = by + nodeBounds.height - borders[2].width;\n                                bh = borders[2].width;\n                                border.args = drawSide({\n                                    c1: [bx + bw, by + bh],\n                                    c2: [bx, by + bh],\n                                    c3: [bx + borders[3].width, by],\n                                    c4: [bx + bw - borders[3].width, by]\n                                }, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\n                                border.pathArgs = drawSidePath({\n                                    c1: [pathBounds.right, pathBounds.bottom],\n                                    c2: [pathBounds.left, pathBounds.bottom]\n                                }, radius[2], radius[3], borderPoints.bottomRight, borderPoints.bottomLeft);\n                                break;\n                            case 3:\n                                // left border\n                                bw = borders[3].width;\n                                border.args = drawSide({\n                                    c1: [bx, by + bh + borders[2].width],\n                                    c2: [bx, by],\n                                    c3: [bx + bw, by + borders[0].width],\n                                    c4: [bx + bw, by + bh]\n                                }, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\n                                border.pathArgs = drawSidePath({\n                                    c1: [pathBounds.left, pathBounds.bottom],\n                                    c2: [pathBounds.left, pathBounds.top]\n                                }, radius[3], radius[0], borderPoints.bottomLeft, borderPoints.topLeft);\n                                break;\n                        }\n                    }\n                    return border;\n                });\n            }\n\n            NodeParser.prototype.parseBackgroundClip = function (container, borderPoints, borders, radius, bounds) {\n                var backgroundClip = container.css('backgroundClip'),\n                    borderArgs = [];\n\n                switch (backgroundClip) {\n                    case \"content-box\":\n                    case \"padding-box\":\n                        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\n                        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\n                        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\n                        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\n                        break;\n\n                    default:\n                        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\n                        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\n                        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\n                        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\n                        break;\n                }\n\n                return borderArgs;\n            };\n\n            function getCurvePoints(x, y, r1, r2) {\n                var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n                var ox = r1 * kappa,\n                    // control point offset horizontal\n                oy = r2 * kappa,\n                    // control point offset vertical\n                xm = x + r1,\n                    // x-middle\n                ym = y + r2; // y-middle\n                return {\n                    topLeft: bezierCurve({ x: x, y: ym }, { x: x, y: ym - oy }, { x: xm - ox, y: y }, { x: xm, y: y }),\n                    topRight: bezierCurve({ x: x, y: y }, { x: x + ox, y: y }, { x: xm, y: ym - oy }, { x: xm, y: ym }),\n                    bottomRight: bezierCurve({ x: xm, y: y }, { x: xm, y: y + oy }, { x: x + ox, y: ym }, { x: x, y: ym }),\n                    bottomLeft: bezierCurve({ x: xm, y: ym }, { x: xm - ox, y: ym }, { x: x, y: y + oy }, { x: x, y: y })\n                };\n            }\n\n            function calculateCurvePoints(bounds, borderRadius, borders) {\n                var x = bounds.left,\n                    y = bounds.top,\n                    width = bounds.width,\n                    height = bounds.height,\n                    tlh = borderRadius[0][0] < width / 2 ? borderRadius[0][0] : width / 2,\n                    tlv = borderRadius[0][1] < height / 2 ? borderRadius[0][1] : height / 2,\n                    trh = borderRadius[1][0] < width / 2 ? borderRadius[1][0] : width / 2,\n                    trv = borderRadius[1][1] < height / 2 ? borderRadius[1][1] : height / 2,\n                    brh = borderRadius[2][0] < width / 2 ? borderRadius[2][0] : width / 2,\n                    brv = borderRadius[2][1] < height / 2 ? borderRadius[2][1] : height / 2,\n                    blh = borderRadius[3][0] < width / 2 ? borderRadius[3][0] : width / 2,\n                    blv = borderRadius[3][1] < height / 2 ? borderRadius[3][1] : height / 2;\n\n                var topWidth = width - trh,\n                    rightHeight = height - brv,\n                    bottomWidth = width - brh,\n                    leftHeight = height - blv;\n\n                return {\n                    topLeft: getCurvePoints(x + borders[3].width / 2, y + borders[0].width / 2, Math.max(0, tlh - borders[3].width / 2), Math.max(0, tlv - borders[0].width / 2)).topLeft.subdivide(0.5),\n                    topRight: getCurvePoints(x + Math.min(topWidth, width + borders[3].width / 2), y + borders[0].width / 2, topWidth > width + borders[3].width / 2 ? 0 : trh - borders[3].width / 2, trv - borders[0].width / 2).topRight.subdivide(0.5),\n                    bottomRight: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width / 2), y + Math.min(rightHeight, height + borders[0].width / 2), Math.max(0, brh - borders[1].width / 2), brv - borders[2].width / 2).bottomRight.subdivide(0.5),\n                    bottomLeft: getCurvePoints(x + borders[3].width / 2, y + leftHeight, Math.max(0, blh - borders[3].width / 2), blv - borders[2].width / 2).bottomLeft.subdivide(0.5),\n\n                    topLeftOuter: getCurvePoints(x, y, tlh, tlv).topLeft.subdivide(0.5),\n                    topLeftInner: getCurvePoints(x + borders[3].width, y + borders[0].width, Math.max(0, tlh - borders[3].width), Math.max(0, tlv - borders[0].width)).topLeft.subdivide(0.5),\n                    topRightOuter: getCurvePoints(x + topWidth, y, trh, trv).topRight.subdivide(0.5),\n                    topRightInner: getCurvePoints(x + Math.min(topWidth, width + borders[3].width), y + borders[0].width, topWidth > width + borders[3].width ? 0 : trh - borders[3].width, trv - borders[0].width).topRight.subdivide(0.5),\n                    bottomRightOuter: getCurvePoints(x + bottomWidth, y + rightHeight, brh, brv).bottomRight.subdivide(0.5),\n                    bottomRightInner: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width), y + Math.min(rightHeight, height + borders[0].width), Math.max(0, brh - borders[1].width), brv - borders[2].width).bottomRight.subdivide(0.5),\n                    bottomLeftOuter: getCurvePoints(x, y + leftHeight, blh, blv).bottomLeft.subdivide(0.5),\n                    bottomLeftInner: getCurvePoints(x + borders[3].width, y + leftHeight, Math.max(0, blh - borders[3].width), blv - borders[2].width).bottomLeft.subdivide(0.5)\n                };\n            }\n\n            function bezierCurve(start, startControl, endControl, end) {\n                var lerp = function lerp(a, b, t) {\n                    return {\n                        x: a.x + (b.x - a.x) * t,\n                        y: a.y + (b.y - a.y) * t\n                    };\n                };\n\n                return {\n                    start: start,\n                    startControl: startControl,\n                    endControl: endControl,\n                    end: end,\n                    subdivide: function subdivide(t) {\n                        var ab = lerp(start, startControl, t),\n                            bc = lerp(startControl, endControl, t),\n                            cd = lerp(endControl, end, t),\n                            abbc = lerp(ab, bc, t),\n                            bccd = lerp(bc, cd, t),\n                            dest = lerp(abbc, bccd, t);\n                        return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\n                    },\n                    curveTo: function curveTo(borderArgs) {\n                        borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\n                    },\n                    curveToReversed: function curveToReversed(borderArgs) {\n                        borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\n                    }\n                };\n            }\n\n            function drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\n                var borderArgs = [];\n\n                if (radius1[0] > 0 || radius1[1] > 0) {\n                    borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\n                    outer1[1].curveTo(borderArgs);\n                } else {\n                    borderArgs.push([\"line\", borderData.c1[0], borderData.c1[1]]);\n                }\n\n                if (radius2[0] > 0 || radius2[1] > 0) {\n                    borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\n                    outer2[0].curveTo(borderArgs);\n                    borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\n                    inner2[0].curveToReversed(borderArgs);\n                } else {\n                    borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\n                    borderArgs.push([\"line\", borderData.c3[0], borderData.c3[1]]);\n                }\n\n                if (radius1[0] > 0 || radius1[1] > 0) {\n                    borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\n                    inner1[1].curveToReversed(borderArgs);\n                } else {\n                    borderArgs.push([\"line\", borderData.c4[0], borderData.c4[1]]);\n                }\n\n                return borderArgs;\n            }\n\n            function drawSidePath(borderData, radius1, radius2, curve1, curve2) {\n                var borderArgs = [];\n                if (radius1[0] > 0 || radius1[1] > 0) {\n                    borderArgs.push([\"line\", curve1[1].start.x, curve1[1].start.y]);\n                    curve1[1].curveTo(borderArgs);\n                } else {\n                    borderArgs.push([\"line\", borderData.c1[0], borderData.c1[1]]);\n                }\n                if (radius2[0] > 0 || radius2[1] > 0) {\n                    borderArgs.push([\"line\", curve2[0].start.x, curve2[0].start.y]);\n                    curve2[0].curveTo(borderArgs);\n                } else {\n                    borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\n                }\n\n                return borderArgs;\n            }\n\n            function parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\n                if (radius1[0] > 0 || radius1[1] > 0) {\n                    borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\n                    corner1[0].curveTo(borderArgs);\n                    corner1[1].curveTo(borderArgs);\n                } else {\n                    borderArgs.push([\"line\", x, y]);\n                }\n\n                if (radius2[0] > 0 || radius2[1] > 0) {\n                    borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\n                }\n            }\n\n            function negativeZIndex(container) {\n                return container.cssInt(\"zIndex\") < 0;\n            }\n\n            function positiveZIndex(container) {\n                return container.cssInt(\"zIndex\") > 0;\n            }\n\n            function zIndex0(container) {\n                return container.cssInt(\"zIndex\") === 0;\n            }\n\n            function inlineLevel(container) {\n                return [\"inline\", \"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n            }\n\n            function isStackingContext(container) {\n                return container instanceof StackingContext;\n            }\n\n            function hasText(container) {\n                return container.node.data.trim().length > 0;\n            }\n\n            function noLetterSpacing(container) {\n                return (/^(normal|none|0px)$/.test(container.parent.css(\"letterSpacing\"))\n                );\n            }\n\n            function getBorderRadiusData(container) {\n                return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function (side) {\n                    var value = container.css('border' + side + 'Radius');\n                    var arr = value.split(\" \");\n                    if (arr.length <= 1) {\n                        arr[1] = arr[0];\n                    }\n                    return arr.map(asInt);\n                });\n            }\n\n            function renderableNode(node) {\n                return node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE;\n            }\n\n            function isPositionedForStacking(container) {\n                var position = container.css(\"position\");\n                var zIndex = [\"absolute\", \"relative\", \"fixed\"].indexOf(position) !== -1 ? container.css(\"zIndex\") : \"auto\";\n                return zIndex !== \"auto\";\n            }\n\n            function isPositioned(container) {\n                return container.css(\"position\") !== \"static\";\n            }\n\n            function isFloating(container) {\n                return container.css(\"float\") !== \"none\";\n            }\n\n            function isInlineBlock(container) {\n                return [\"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n            }\n\n            function not(callback) {\n                var context = this;\n                return function () {\n                    return !callback.apply(context, arguments);\n                };\n            }\n\n            function isElement(container) {\n                return container.node.nodeType === Node.ELEMENT_NODE;\n            }\n\n            function isPseudoElement(container) {\n                return container.isPseudoElement === true;\n            }\n\n            function isTextNode(container) {\n                return container.node.nodeType === Node.TEXT_NODE;\n            }\n\n            function zIndexSort(contexts) {\n                return function (a, b) {\n                    return a.cssInt(\"zIndex\") + contexts.indexOf(a) / contexts.length - (b.cssInt(\"zIndex\") + contexts.indexOf(b) / contexts.length);\n                };\n            }\n\n            function hasOpacity(container) {\n                return container.getOpacity() < 1;\n            }\n\n            function asInt(value) {\n                return parseInt(value, 10);\n            }\n\n            function getWidth(border) {\n                return border.width;\n            }\n\n            function nonIgnoredElement(nodeContainer) {\n                return nodeContainer.node.nodeType !== Node.ELEMENT_NODE || [\"SCRIPT\", \"HEAD\", \"TITLE\", \"OBJECT\", \"BR\", \"OPTION\"].indexOf(nodeContainer.node.nodeName) === -1;\n            }\n\n            function flatten(arrays) {\n                return [].concat.apply([], arrays);\n            }\n\n            function stripQuotes(content) {\n                var first = content.substr(0, 1);\n                return first === content.substr(content.length - 1) && first.match(/'|\"/) ? content.substr(1, content.length - 2) : content;\n            }\n\n            function getWords(characters) {\n                var words = [],\n                    i = 0,\n                    onWordBoundary = false,\n                    word;\n                while (characters.length) {\n                    if (isWordBoundary(characters[i]) === onWordBoundary) {\n                        word = characters.splice(0, i);\n                        if (word.length) {\n                            words.push(punycode.ucs2.encode(word));\n                        }\n                        onWordBoundary = !onWordBoundary;\n                        i = 0;\n                    } else {\n                        i++;\n                    }\n\n                    if (i >= characters.length) {\n                        word = characters.splice(0, i);\n                        if (word.length) {\n                            words.push(punycode.ucs2.encode(word));\n                        }\n                    }\n                }\n                return words;\n            }\n\n            function isWordBoundary(characterCode) {\n                return [32, // <space>\n                13, // \\r\n                10, // \\n\n                9, // \\t\n                45 // -\n                ].indexOf(characterCode) !== -1;\n            }\n\n            function hasUnicode(string) {\n                return (/[^\\u0000-\\u00ff]/.test(string)\n                );\n            }\n\n            module.exports = NodeParser;\n        }, { \"./color\": 3, \"./fontmetrics\": 7, \"./log\": 13, \"./nodecontainer\": 14, \"./pseudoelementcontainer\": 18, \"./stackingcontext\": 21, \"./textcontainer\": 25, \"./utils\": 26, \"punycode\": 1 }], 16: [function (_dereq_, module, exports) {\n            var XHR = _dereq_('./xhr');\n            var utils = _dereq_('./utils');\n            var log = _dereq_('./log');\n            var createWindowClone = _dereq_('./clone');\n            var decode64 = utils.decode64;\n\n            function Proxy(src, proxyUrl, document) {\n                var supportsCORS = 'withCredentials' in new XMLHttpRequest();\n                if (!proxyUrl) {\n                    return __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject(\"No proxy configured\");\n                }\n                var callback = createCallback(supportsCORS);\n                var url = createProxyUrl(proxyUrl, src, callback);\n\n                return supportsCORS ? XHR(url) : jsonp(document, url, callback).then(function (response) {\n                    return decode64(response.content);\n                });\n            }\n            var proxyCount = 0;\n\n            function ProxyURL(src, proxyUrl, document) {\n                var supportsCORSImage = 'crossOrigin' in new Image();\n                var callback = createCallback(supportsCORSImage);\n                var url = createProxyUrl(proxyUrl, src, callback);\n                return supportsCORSImage ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(url) : jsonp(document, url, callback).then(function (response) {\n                    return \"data:\" + response.type + \";base64,\" + response.content;\n                });\n            }\n\n            function jsonp(document, url, callback) {\n                return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n                    var s = document.createElement(\"script\");\n                    var cleanup = function cleanup() {\n                        delete window.html2canvas.proxy[callback];\n                        document.body.removeChild(s);\n                    };\n                    window.html2canvas.proxy[callback] = function (response) {\n                        cleanup();\n                        resolve(response);\n                    };\n                    s.src = url;\n                    s.onerror = function (e) {\n                        cleanup();\n                        reject(e);\n                    };\n                    document.body.appendChild(s);\n                });\n            }\n\n            function createCallback(useCORS) {\n                return !useCORS ? \"html2canvas_\" + Date.now() + \"_\" + ++proxyCount + \"_\" + Math.round(Math.random() * 100000) : \"\";\n            }\n\n            function createProxyUrl(proxyUrl, src, callback) {\n                return proxyUrl + \"?url=\" + encodeURIComponent(src) + (callback.length ? \"&callback=html2canvas.proxy.\" + callback : \"\");\n            }\n\n            function documentFromHTML(src) {\n                return function (html) {\n                    var parser = new DOMParser(),\n                        doc;\n                    try {\n                        doc = parser.parseFromString(html, \"text/html\");\n                    } catch (e) {\n                        log(\"DOMParser not supported, falling back to createHTMLDocument\");\n                        doc = document.implementation.createHTMLDocument(\"\");\n                        try {\n                            doc.open();\n                            doc.write(html);\n                            doc.close();\n                        } catch (ee) {\n                            log(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\");\n                            doc.body.innerHTML = html; // ie9 doesnt support writing to documentElement\n                        }\n                    }\n\n                    var b = doc.querySelector(\"base\");\n                    if (!b || !b.href.host) {\n                        var base = doc.createElement(\"base\");\n                        base.href = src;\n                        doc.head.insertBefore(base, doc.head.firstChild);\n                    }\n\n                    return doc;\n                };\n            }\n\n            function loadUrlDocument(src, proxy, document, width, height, options) {\n                return new Proxy(src, proxy, window.document).then(documentFromHTML(src)).then(function (doc) {\n                    return createWindowClone(doc, document, width, height, options, 0, 0);\n                });\n            }\n\n            exports.Proxy = Proxy;\n            exports.ProxyURL = ProxyURL;\n            exports.loadUrlDocument = loadUrlDocument;\n        }, { \"./clone\": 2, \"./log\": 13, \"./utils\": 26, \"./xhr\": 28 }], 17: [function (_dereq_, module, exports) {\n            var ProxyURL = _dereq_('./proxy').ProxyURL;\n\n            function ProxyImageContainer(src, proxy) {\n                var link = document.createElement(\"a\");\n                link.href = src;\n                src = link.href;\n                this.src = src;\n                this.image = new Image();\n                var self = this;\n                this.promise = new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n                    self.image.crossOrigin = \"Anonymous\";\n                    self.image.onload = resolve;\n                    self.image.onerror = reject;\n\n                    new ProxyURL(src, proxy, document).then(function (url) {\n                        self.image.src = url;\n                    })['catch'](reject);\n                });\n            }\n\n            module.exports = ProxyImageContainer;\n        }, { \"./proxy\": 16 }], 18: [function (_dereq_, module, exports) {\n            var NodeContainer = _dereq_('./nodecontainer');\n\n            function PseudoElementContainer(node, parent, type) {\n                NodeContainer.call(this, node, parent);\n                this.isPseudoElement = true;\n                this.before = type === \":before\";\n            }\n\n            PseudoElementContainer.prototype.cloneTo = function (stack) {\n                PseudoElementContainer.prototype.cloneTo.call(this, stack);\n                stack.isPseudoElement = true;\n                stack.before = this.before;\n            };\n\n            PseudoElementContainer.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(NodeContainer.prototype);\n\n            PseudoElementContainer.prototype.appendToDOM = function () {\n                if (this.before) {\n                    this.parent.node.insertBefore(this.node, this.parent.node.firstChild);\n                } else {\n                    this.parent.node.appendChild(this.node);\n                }\n                this.parent.node.className += \" \" + this.getHideClass();\n            };\n\n            PseudoElementContainer.prototype.cleanDOM = function () {\n                this.node.parentNode.removeChild(this.node);\n                this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), \"\");\n            };\n\n            PseudoElementContainer.prototype.getHideClass = function () {\n                return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\" + (this.before ? \"BEFORE\" : \"AFTER\")];\n            };\n\n            PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \"___html2canvas___pseudoelement_before\";\n            PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \"___html2canvas___pseudoelement_after\";\n\n            module.exports = PseudoElementContainer;\n        }, { \"./nodecontainer\": 14 }], 19: [function (_dereq_, module, exports) {\n            var log = _dereq_('./log');\n\n            function Renderer(width, height, images, options, document) {\n                this.width = width;\n                this.height = height;\n                this.images = images;\n                this.options = options;\n                this.document = document;\n            }\n\n            Renderer.prototype.renderImage = function (container, bounds, borderData, imageContainer) {\n                var paddingLeft = container.cssInt('paddingLeft'),\n                    paddingTop = container.cssInt('paddingTop'),\n                    paddingRight = container.cssInt('paddingRight'),\n                    paddingBottom = container.cssInt('paddingBottom'),\n                    borders = borderData.borders;\n\n                var width = bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight);\n                var height = bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom);\n                this.drawImage(imageContainer, 0, 0, imageContainer.image.width || width, imageContainer.image.height || height, bounds.left + paddingLeft + borders[3].width, bounds.top + paddingTop + borders[0].width, width, height);\n            };\n\n            Renderer.prototype.renderBackground = function (container, bounds, borderData) {\n                if (bounds.height > 0 && bounds.width > 0) {\n                    this.renderBackgroundColor(container, bounds);\n                    this.renderBackgroundImage(container, bounds, borderData);\n                }\n            };\n\n            Renderer.prototype.renderBackgroundColor = function (container, bounds) {\n                var color = container.color(\"backgroundColor\");\n                if (!color.isTransparent()) {\n                    this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, color);\n                }\n            };\n\n            Renderer.prototype.renderShadows = function (container, shape) {\n                var boxShadow = container.css('boxShadow');\n                if (boxShadow !== 'none') {\n                    var shadows = boxShadow.split(/,(?![^(]*\\))/);\n                    this.shadow(shape, shadows);\n                }\n            };\n\n            Renderer.prototype.renderBorders = function (borders) {\n                borders.forEach(this.renderBorder, this);\n            };\n\n            Renderer.prototype.renderBorder = function (data) {\n                if (!data.color.isTransparent() && data.args !== null) {\n                    if (data.style === 'dashed' || data.style === 'dotted') {\n                        var dash = data.style === 'dashed' ? 3 : data.width;\n                        this.ctx.setLineDash([dash]);\n                        this.path(data.pathArgs);\n                        this.ctx.strokeStyle = data.color;\n                        this.ctx.lineWidth = data.width;\n                        this.ctx.stroke();\n                    } else {\n                        this.drawShape(data.args, data.color);\n                    }\n                }\n            };\n\n            Renderer.prototype.renderBackgroundImage = function (container, bounds, borderData) {\n                var backgroundImages = container.parseBackgroundImages();\n                backgroundImages.reverse().forEach(function (backgroundImage, index, arr) {\n                    switch (backgroundImage.method) {\n                        case \"url\":\n                            var image = this.images.get(backgroundImage.args[0]);\n                            if (image) {\n                                this.renderBackgroundRepeating(container, bounds, image, arr.length - (index + 1), borderData);\n                            } else {\n                                log(\"Error loading background-image\", backgroundImage.args[0]);\n                            }\n                            break;\n                        case \"linear-gradient\":\n                        case \"gradient\":\n                            var gradientImage = this.images.get(backgroundImage.value);\n                            if (gradientImage) {\n                                this.renderBackgroundGradient(gradientImage, bounds, borderData);\n                            } else {\n                                log(\"Error loading background-image\", backgroundImage.args[0]);\n                            }\n                            break;\n                        case \"none\":\n                            break;\n                        default:\n                            log(\"Unknown background-image type\", backgroundImage.args[0]);\n                    }\n                }, this);\n            };\n\n            Renderer.prototype.renderBackgroundRepeating = function (container, bounds, imageContainer, index, borderData) {\n                var size = container.parseBackgroundSize(bounds, imageContainer.image, index);\n                var position = container.parseBackgroundPosition(bounds, imageContainer.image, index, size);\n                var repeat = container.parseBackgroundRepeat(index);\n                switch (repeat) {\n                    case \"repeat-x\":\n                    case \"repeat no-repeat\":\n                        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + borderData[3], bounds.top + position.top + borderData[0], 99999, size.height, borderData);\n                        break;\n                    case \"repeat-y\":\n                    case \"no-repeat repeat\":\n                        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + borderData[0], size.width, 99999, borderData);\n                        break;\n                    case \"no-repeat\":\n                        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + position.top + borderData[0], size.width, size.height, borderData);\n                        break;\n                    default:\n                        this.renderBackgroundRepeat(imageContainer, position, size, { top: bounds.top, left: bounds.left }, borderData[3], borderData[0]);\n                        break;\n                }\n            };\n\n            module.exports = Renderer;\n        }, { \"./log\": 13 }], 20: [function (_dereq_, module, exports) {\n            var Renderer = _dereq_('../renderer');\n            var LinearGradientContainer = _dereq_('../lineargradientcontainer');\n            var log = _dereq_('../log');\n\n            function CanvasRenderer(width, height) {\n                Renderer.apply(this, arguments);\n                this.canvas = this.options.canvas || this.document.createElement(\"canvas\");\n                this.ctx = this.canvas.getContext(\"2d\");\n                if (!this.options.canvas) {\n                    if (this.options.dpi) {\n                        this.options.scale = this.options.dpi / 96; // 1 CSS inch = 96px.\n                    }\n                    if (this.options.scale) {\n                        this.canvas.style.width = width + 'px';\n                        this.canvas.style.height = height + 'px';\n                        this.canvas.width = Math.floor(width * this.options.scale);\n                        this.canvas.height = Math.floor(height * this.options.scale);\n                        this.ctx.scale(this.options.scale, this.options.scale);\n                    } else {\n                        this.canvas.width = width;\n                        this.canvas.height = height;\n                    }\n                }\n                this.taintCtx = this.document.createElement(\"canvas\").getContext(\"2d\");\n                this.ctx.textBaseline = \"bottom\";\n                this.variables = {};\n                log(\"Initialized CanvasRenderer with size\", width, \"x\", height);\n            }\n\n            CanvasRenderer.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(Renderer.prototype);\n\n            CanvasRenderer.prototype.setFillStyle = function (fillStyle) {\n                this.ctx.fillStyle = (typeof fillStyle === \"undefined\" ? \"undefined\" : __WEBPACK_IMPORTED_MODULE_2_babel_runtime_helpers_typeof___default()(fillStyle)) === \"object\" && !!fillStyle.isColor ? fillStyle.toString() : fillStyle;\n                return this.ctx;\n            };\n\n            CanvasRenderer.prototype.rectangle = function (left, top, width, height, color) {\n                this.setFillStyle(color).fillRect(left, top, width, height);\n            };\n\n            CanvasRenderer.prototype.circle = function (left, top, size, color) {\n                this.setFillStyle(color);\n                this.ctx.beginPath();\n                this.ctx.arc(left + size / 2, top + size / 2, size / 2, 0, Math.PI * 2, true);\n                this.ctx.closePath();\n                this.ctx.fill();\n            };\n\n            CanvasRenderer.prototype.circleStroke = function (left, top, size, color, stroke, strokeColor) {\n                this.circle(left, top, size, color);\n                this.ctx.strokeStyle = strokeColor.toString();\n                this.ctx.stroke();\n            };\n\n            CanvasRenderer.prototype.shadow = function (shape, shadows) {\n                var parseShadow = function parseShadow(str) {\n                    var propertyFilters = { color: /^(#|rgb|hsl|(?!(inset|initial|inherit))\\D+)/i, inset: /^inset/i, px: /px$/i };\n                    var pxPropertyNames = ['x', 'y', 'blur', 'spread'];\n                    var properties = str.split(/ (?![^(]*\\))/);\n                    var info = {};\n                    for (var key in propertyFilters) {\n                        info[key] = properties.filter(propertyFilters[key].test.bind(propertyFilters[key]));\n                        info[key] = info[key].length === 0 ? null : info[key].length === 1 ? info[key][0] : info[key];\n                    }\n                    for (var i = 0; i < info.px.length; i++) {\n                        info[pxPropertyNames[i]] = parseInt(info.px[i]);\n                    }\n                    return info;\n                };\n                var drawShadow = function drawShadow(shadow) {\n                    var info = parseShadow(shadow);\n                    if (!info.inset) {\n                        context.shadowOffsetX = info.x;\n                        context.shadowOffsetY = info.y;\n                        context.shadowColor = info.color;\n                        context.shadowBlur = info.blur;\n                        context.fill();\n                    }\n                };\n                var context = this.setFillStyle('white');\n                context.save();\n                this.shape(shape);\n                shadows.forEach(drawShadow, this);\n                context.restore();\n            };\n\n            CanvasRenderer.prototype.drawShape = function (shape, color) {\n                this.shape(shape);\n                this.setFillStyle(color).fill();\n            };\n\n            CanvasRenderer.prototype.taints = function (imageContainer) {\n                if (imageContainer.tainted === null) {\n                    this.taintCtx.drawImage(imageContainer.image, 0, 0);\n                    try {\n                        this.taintCtx.getImageData(0, 0, 1, 1);\n                        imageContainer.tainted = false;\n                    } catch (e) {\n                        this.taintCtx = document.createElement(\"canvas\").getContext(\"2d\");\n                        imageContainer.tainted = true;\n                    }\n                }\n\n                return imageContainer.tainted;\n            };\n\n            CanvasRenderer.prototype.drawImage = function (imageContainer, sx, sy, sw, sh, dx, dy, dw, dh) {\n                if (!this.taints(imageContainer) || this.options.allowTaint) {\n                    this.ctx.drawImage(imageContainer.image, sx, sy, sw, sh, dx, dy, dw, dh);\n                }\n            };\n\n            CanvasRenderer.prototype.clip = function (shapes, callback, context, container) {\n                this.ctx.save();\n                if (container && container.hasTransform()) {\n                    this.setTransform(container.inverseTransform());\n                    shapes.filter(hasEntries).forEach(function (shape) {\n                        this.shape(shape).clip();\n                    }, this);\n                    this.setTransform(container.parseTransform());\n                } else {\n                    shapes.filter(hasEntries).forEach(function (shape) {\n                        this.shape(shape).clip();\n                    }, this);\n                }\n                callback.call(context);\n                this.ctx.restore();\n            };\n\n            CanvasRenderer.prototype.mask = function (shapes, callback, context, container) {\n                var borderClip = shapes[shapes.length - 1];\n                if (borderClip && borderClip.length) {\n                    var canvasBorderCCW = [\"rect\", this.canvas.width, 0, -this.canvas.width, this.canvas.height];\n                    var maskShape = [canvasBorderCCW].concat(borderClip).concat([borderClip[0]]);\n                    shapes = shapes.slice(0, -1).concat([maskShape]);\n                }\n                this.clip(shapes, callback, context, container);\n            };\n\n            CanvasRenderer.prototype.shape = function (shape) {\n                this.ctx.beginPath();\n                shape.forEach(function (point, index) {\n                    if (point[0] === \"rect\") {\n                        this.ctx.rect.apply(this.ctx, point.slice(1));\n                    } else {\n                        this.ctx[index === 0 ? \"moveTo\" : point[0] + \"To\"].apply(this.ctx, point.slice(1));\n                    }\n                }, this);\n                this.ctx.closePath();\n                return this.ctx;\n            };\n\n            CanvasRenderer.prototype.path = function (shape) {\n                this.ctx.beginPath();\n                shape.forEach(function (point, index) {\n                    if (point[0] === \"rect\") {\n                        this.ctx.rect.apply(this.ctx, point.slice(1));\n                    } else {\n                        this.ctx[index === 0 ? \"moveTo\" : point[0] + \"To\"].apply(this.ctx, point.slice(1));\n                    }\n                }, this);\n                return this.ctx;\n            };\n\n            CanvasRenderer.prototype.font = function (color, style, variant, weight, size, family) {\n                variant = /^(normal|small-caps)$/i.test(variant) ? variant : '';\n                this.setFillStyle(color).font = [style, variant, weight, size, family].join(\" \").split(\",\")[0];\n            };\n\n            CanvasRenderer.prototype.fontShadow = function (color, offsetX, offsetY, blur) {\n                this.setVariable(\"shadowColor\", color.toString()).setVariable(\"shadowOffsetY\", offsetX).setVariable(\"shadowOffsetX\", offsetY).setVariable(\"shadowBlur\", blur);\n            };\n\n            CanvasRenderer.prototype.clearShadow = function () {\n                this.setVariable(\"shadowColor\", \"rgba(0,0,0,0)\");\n            };\n\n            CanvasRenderer.prototype.setOpacity = function (opacity) {\n                this.ctx.globalAlpha = opacity;\n            };\n\n            CanvasRenderer.prototype.setTransform = function (transform) {\n                this.ctx.translate(transform.origin[0], transform.origin[1]);\n                this.ctx.transform.apply(this.ctx, transform.matrix);\n                this.ctx.translate(-transform.origin[0], -transform.origin[1]);\n            };\n\n            CanvasRenderer.prototype.setVariable = function (property, value) {\n                if (this.variables[property] !== value) {\n                    this.variables[property] = this.ctx[property] = value;\n                }\n\n                return this;\n            };\n\n            CanvasRenderer.prototype.text = function (text, left, bottom) {\n                this.ctx.fillText(text, left, bottom);\n            };\n\n            CanvasRenderer.prototype.backgroundRepeatShape = function (imageContainer, backgroundPosition, size, bounds, left, top, width, height, borderData) {\n                var shape = [[\"line\", Math.round(left), Math.round(top)], [\"line\", Math.round(left + width), Math.round(top)], [\"line\", Math.round(left + width), Math.round(height + top)], [\"line\", Math.round(left), Math.round(height + top)]];\n                this.clip([shape], function () {\n                    this.renderBackgroundRepeat(imageContainer, backgroundPosition, size, bounds, borderData[3], borderData[0]);\n                }, this);\n            };\n\n            CanvasRenderer.prototype.renderBackgroundRepeat = function (imageContainer, backgroundPosition, size, bounds, borderLeft, borderTop) {\n                var offsetX = Math.round(bounds.left + backgroundPosition.left + borderLeft),\n                    offsetY = Math.round(bounds.top + backgroundPosition.top + borderTop);\n                this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer, size), \"repeat\"));\n                this.ctx.translate(offsetX, offsetY);\n                this.ctx.fill();\n                this.ctx.translate(-offsetX, -offsetY);\n            };\n\n            CanvasRenderer.prototype.renderBackgroundGradient = function (gradientImage, bounds) {\n                if (gradientImage instanceof LinearGradientContainer) {\n                    var gradient = this.ctx.createLinearGradient(bounds.left + bounds.width * gradientImage.x0, bounds.top + bounds.height * gradientImage.y0, bounds.left + bounds.width * gradientImage.x1, bounds.top + bounds.height * gradientImage.y1);\n                    gradientImage.colorStops.forEach(function (colorStop) {\n                        gradient.addColorStop(colorStop.stop, colorStop.color.toString());\n                    });\n                    this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, gradient);\n                }\n            };\n\n            CanvasRenderer.prototype.resizeImage = function (imageContainer, size) {\n                var image = imageContainer.image;\n                if (image.width === size.width && image.height === size.height) {\n                    return image;\n                }\n\n                var ctx,\n                    canvas = document.createElement('canvas');\n                canvas.width = size.width;\n                canvas.height = size.height;\n                ctx = canvas.getContext(\"2d\");\n                ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height);\n                return canvas;\n            };\n\n            function hasEntries(array) {\n                return array.length > 0;\n            }\n\n            module.exports = CanvasRenderer;\n        }, { \"../lineargradientcontainer\": 12, \"../log\": 13, \"../renderer\": 19 }], 21: [function (_dereq_, module, exports) {\n            var NodeContainer = _dereq_('./nodecontainer');\n\n            function StackingContext(hasOwnStacking, opacity, element, parent) {\n                NodeContainer.call(this, element, parent);\n                this.ownStacking = hasOwnStacking;\n                this.contexts = [];\n                this.children = [];\n                this.opacity = (this.parent ? this.parent.stack.opacity : 1) * opacity;\n            }\n\n            StackingContext.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(NodeContainer.prototype);\n\n            StackingContext.prototype.getParentStack = function (context) {\n                var parentStack = this.parent ? this.parent.stack : null;\n                return parentStack ? parentStack.ownStacking ? parentStack : parentStack.getParentStack(context) : context.stack;\n            };\n\n            module.exports = StackingContext;\n        }, { \"./nodecontainer\": 14 }], 22: [function (_dereq_, module, exports) {\n            function Support(document) {\n                this.rangeBounds = this.testRangeBounds(document);\n                this.cors = this.testCORS();\n                this.svg = this.testSVG();\n            }\n\n            Support.prototype.testRangeBounds = function (document) {\n                var range,\n                    testElement,\n                    rangeBounds,\n                    rangeHeight,\n                    support = false;\n\n                if (document.createRange) {\n                    range = document.createRange();\n                    if (range.getBoundingClientRect) {\n                        testElement = document.createElement('boundtest');\n                        testElement.style.height = \"123px\";\n                        testElement.style.display = \"block\";\n                        document.body.appendChild(testElement);\n\n                        range.selectNode(testElement);\n                        rangeBounds = range.getBoundingClientRect();\n                        rangeHeight = rangeBounds.height;\n\n                        if (rangeHeight === 123) {\n                            support = true;\n                        }\n                        document.body.removeChild(testElement);\n                    }\n                }\n\n                return support;\n            };\n\n            Support.prototype.testCORS = function () {\n                return typeof new Image().crossOrigin !== \"undefined\";\n            };\n\n            Support.prototype.testSVG = function () {\n                var img = new Image();\n                var canvas = document.createElement(\"canvas\");\n                var ctx = canvas.getContext(\"2d\");\n                img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\n\n                try {\n                    ctx.drawImage(img, 0, 0);\n                    canvas.toDataURL();\n                } catch (e) {\n                    return false;\n                }\n                return true;\n            };\n\n            module.exports = Support;\n        }, {}], 23: [function (_dereq_, module, exports) {\n            var XHR = _dereq_('./xhr');\n            var decode64 = _dereq_('./utils').decode64;\n\n            function SVGContainer(src) {\n                this.src = src;\n                this.image = null;\n                var self = this;\n\n                this.promise = this.hasFabric().then(function () {\n                    return self.isInline(src) ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve(self.inlineFormatting(src)) : XHR(src);\n                }).then(function (svg) {\n                    return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve) {\n                        window.html2canvas.svg.fabric.loadSVGFromString(svg, self.createCanvas.call(self, resolve));\n                    });\n                });\n            }\n\n            SVGContainer.prototype.hasFabric = function () {\n                return !window.html2canvas.svg || !window.html2canvas.svg.fabric ? __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\")) : __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a.resolve();\n            };\n\n            SVGContainer.prototype.inlineFormatting = function (src) {\n                return (/^data:image\\/svg\\+xml;base64,/.test(src) ? this.decode64(this.removeContentType(src)) : this.removeContentType(src)\n                );\n            };\n\n            SVGContainer.prototype.removeContentType = function (src) {\n                return src.replace(/^data:image\\/svg\\+xml(;base64)?,/, '');\n            };\n\n            SVGContainer.prototype.isInline = function (src) {\n                return (/^data:image\\/svg\\+xml/i.test(src)\n                );\n            };\n\n            SVGContainer.prototype.createCanvas = function (resolve) {\n                var self = this;\n                return function (objects, options) {\n                    var canvas = new window.html2canvas.svg.fabric.StaticCanvas('c');\n                    self.image = canvas.lowerCanvasEl;\n                    canvas.setWidth(options.width).setHeight(options.height).add(window.html2canvas.svg.fabric.util.groupSVGElements(objects, options)).renderAll();\n                    resolve(canvas.lowerCanvasEl);\n                };\n            };\n\n            SVGContainer.prototype.decode64 = function (str) {\n                return typeof window.atob === \"function\" ? window.atob(str) : decode64(str);\n            };\n\n            module.exports = SVGContainer;\n        }, { \"./utils\": 26, \"./xhr\": 28 }], 24: [function (_dereq_, module, exports) {\n            var SVGContainer = _dereq_('./svgcontainer');\n\n            function SVGNodeContainer(node, _native) {\n                this.src = node;\n                this.image = null;\n                var self = this;\n\n                this.promise = _native ? new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n                    self.image = new Image();\n                    self.image.onload = resolve;\n                    self.image.onerror = reject;\n                    self.image.src = \"data:image/svg+xml,\" + new XMLSerializer().serializeToString(node);\n                    if (self.image.complete === true) {\n                        resolve(self.image);\n                    }\n                }) : this.hasFabric().then(function () {\n                    return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve) {\n                        window.html2canvas.svg.fabric.parseSVGDocument(node, self.createCanvas.call(self, resolve));\n                    });\n                });\n            }\n\n            SVGNodeContainer.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(SVGContainer.prototype);\n\n            module.exports = SVGNodeContainer;\n        }, { \"./svgcontainer\": 23 }], 25: [function (_dereq_, module, exports) {\n            var NodeContainer = _dereq_('./nodecontainer');\n\n            function TextContainer(node, parent) {\n                NodeContainer.call(this, node, parent);\n            }\n\n            TextContainer.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(NodeContainer.prototype);\n\n            TextContainer.prototype.applyTextTransform = function () {\n                this.node.data = this.transform(this.parent.css(\"textTransform\"));\n            };\n\n            TextContainer.prototype.transform = function (transform) {\n                var text = this.node.data;\n                switch (transform) {\n                    case \"lowercase\":\n                        return text.toLowerCase();\n                    case \"capitalize\":\n                        return text.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\n                    case \"uppercase\":\n                        return text.toUpperCase();\n                    default:\n                        return text;\n                }\n            };\n\n            function capitalize(m, p1, p2) {\n                if (m.length > 0) {\n                    return p1 + p2.toUpperCase();\n                }\n            }\n\n            module.exports = TextContainer;\n        }, { \"./nodecontainer\": 14 }], 26: [function (_dereq_, module, exports) {\n            exports.smallImage = function smallImage() {\n                return \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n            };\n\n            exports.bind = function (callback, context) {\n                return function () {\n                    return callback.apply(context, arguments);\n                };\n            };\n\n            /*\n             * base64-arraybuffer\n             * https://github.com/niklasvh/base64-arraybuffer\n             *\n             * Copyright (c) 2012 Niklas von Hertzen\n             * Licensed under the MIT license.\n             */\n\n            exports.decode64 = function (base64) {\n                var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n                var len = base64.length,\n                    i,\n                    encoded1,\n                    encoded2,\n                    encoded3,\n                    encoded4,\n                    byte1,\n                    byte2,\n                    byte3;\n\n                var output = \"\";\n\n                for (i = 0; i < len; i += 4) {\n                    encoded1 = chars.indexOf(base64[i]);\n                    encoded2 = chars.indexOf(base64[i + 1]);\n                    encoded3 = chars.indexOf(base64[i + 2]);\n                    encoded4 = chars.indexOf(base64[i + 3]);\n\n                    byte1 = encoded1 << 2 | encoded2 >> 4;\n                    byte2 = (encoded2 & 15) << 4 | encoded3 >> 2;\n                    byte3 = (encoded3 & 3) << 6 | encoded4;\n                    if (encoded3 === 64) {\n                        output += String.fromCharCode(byte1);\n                    } else if (encoded4 === 64 || encoded4 === -1) {\n                        output += String.fromCharCode(byte1, byte2);\n                    } else {\n                        output += String.fromCharCode(byte1, byte2, byte3);\n                    }\n                }\n\n                return output;\n            };\n\n            exports.getBounds = function (node) {\n                if (node.getBoundingClientRect) {\n                    var clientRect = node.getBoundingClientRect();\n                    var width = node.offsetWidth == null ? clientRect.width : node.offsetWidth;\n                    return {\n                        top: clientRect.top,\n                        bottom: clientRect.bottom || clientRect.top + clientRect.height,\n                        right: clientRect.left + width,\n                        left: clientRect.left,\n                        width: width,\n                        height: node.offsetHeight == null ? clientRect.height : node.offsetHeight\n                    };\n                }\n                return {};\n            };\n\n            exports.offsetBounds = function (node) {\n                var parent = node.offsetParent ? exports.offsetBounds(node.offsetParent) : { top: 0, left: 0 };\n\n                return {\n                    top: node.offsetTop + parent.top,\n                    bottom: node.offsetTop + node.offsetHeight + parent.top,\n                    right: node.offsetLeft + parent.left + node.offsetWidth,\n                    left: node.offsetLeft + parent.left,\n                    width: node.offsetWidth,\n                    height: node.offsetHeight\n                };\n            };\n\n            exports.parseBackgrounds = function (backgroundImage) {\n                var whitespace = ' \\r\\n\\t',\n                    method,\n                    definition,\n                    prefix,\n                    prefix_i,\n                    block,\n                    results = [],\n                    mode = 0,\n                    numParen = 0,\n                    quote,\n                    args;\n                var appendResult = function appendResult() {\n                    if (method) {\n                        if (definition.substr(0, 1) === '\"') {\n                            definition = definition.substr(1, definition.length - 2);\n                        }\n                        if (definition) {\n                            args.push(definition);\n                        }\n                        if (method.substr(0, 1) === '-' && (prefix_i = method.indexOf('-', 1) + 1) > 0) {\n                            prefix = method.substr(0, prefix_i);\n                            method = method.substr(prefix_i);\n                        }\n                        results.push({\n                            prefix: prefix,\n                            method: method.toLowerCase(),\n                            value: block,\n                            args: args,\n                            image: null\n                        });\n                    }\n                    args = [];\n                    method = prefix = definition = block = '';\n                };\n                args = [];\n                method = prefix = definition = block = '';\n                backgroundImage.split(\"\").forEach(function (c) {\n                    if (mode === 0 && whitespace.indexOf(c) > -1) {\n                        return;\n                    }\n                    switch (c) {\n                        case '\"':\n                            if (!quote) {\n                                quote = c;\n                            } else if (quote === c) {\n                                quote = null;\n                            }\n                            break;\n                        case '(':\n                            if (quote) {\n                                break;\n                            } else if (mode === 0) {\n                                mode = 1;\n                                block += c;\n                                return;\n                            } else {\n                                numParen++;\n                            }\n                            break;\n                        case ')':\n                            if (quote) {\n                                break;\n                            } else if (mode === 1) {\n                                if (numParen === 0) {\n                                    mode = 0;\n                                    block += c;\n                                    appendResult();\n                                    return;\n                                } else {\n                                    numParen--;\n                                }\n                            }\n                            break;\n\n                        case ',':\n                            if (quote) {\n                                break;\n                            } else if (mode === 0) {\n                                appendResult();\n                                return;\n                            } else if (mode === 1) {\n                                if (numParen === 0 && !method.match(/^url$/i)) {\n                                    args.push(definition);\n                                    definition = '';\n                                    block += c;\n                                    return;\n                                }\n                            }\n                            break;\n                    }\n\n                    block += c;\n                    if (mode === 0) {\n                        method += c;\n                    } else {\n                        definition += c;\n                    }\n                });\n\n                appendResult();\n                return results;\n            };\n        }, {}], 27: [function (_dereq_, module, exports) {\n            var GradientContainer = _dereq_('./gradientcontainer');\n\n            function WebkitGradientContainer(imageData) {\n                GradientContainer.apply(this, arguments);\n                this.type = imageData.args[0] === \"linear\" ? GradientContainer.TYPES.LINEAR : GradientContainer.TYPES.RADIAL;\n            }\n\n            WebkitGradientContainer.prototype = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_create___default()(GradientContainer.prototype);\n\n            module.exports = WebkitGradientContainer;\n        }, { \"./gradientcontainer\": 9 }], 28: [function (_dereq_, module, exports) {\n            function XHR(url) {\n                return new __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_promise___default.a(function (resolve, reject) {\n                    var xhr = new XMLHttpRequest();\n                    xhr.open('GET', url);\n\n                    xhr.onload = function () {\n                        if (xhr.status === 200) {\n                            resolve(xhr.responseText);\n                        } else {\n                            reject(new Error(xhr.statusText));\n                        }\n                    };\n\n                    xhr.onerror = function () {\n                        reject(new Error(\"Network Error\"));\n                    };\n\n                    xhr.send();\n                });\n            }\n\n            module.exports = XHR;\n        }, {}] }, {}, [4])(4);\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"QYmj\"), __webpack_require__(\"FKj+\")(module)))\n\n/***/ }),\n\n/***/ \"4526\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"5mn2\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"spa_poster/img/qrcode.b807162.png\";\n\n/***/ }),\n\n/***/ \"7xSy\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function($) {/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__config_html2canvas_js__ = __webpack_require__(\"04Iu\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui__ = __webpack_require__(\"facN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_mint_ui__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n\tdata: function data() {\n\t\treturn {\n\t\t\tbtnShow: true\n\t\t};\n\t},\n\n\tmethods: {\n\t\tselectPhoto: function selectPhoto() {\n\t\t\tvar $this = this;\n\n\t\t\twx.chooseImage({\n\t\t\t\tcount: 1, // 默认9\n\t\t\t\tsizeType: ['original'], // 可以指定是原图还是压缩图，默认二者都有\n\t\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\n\t\t\t\tsuccess: function success(res) {\n\t\t\t\t\tvar localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\n\t\t\t\t\twx.uploadImage({\n\t\t\t\t\t\tlocalId: localIds[0], // 需要上传的图片的本地ID，由chooseImage接口获得\n\t\t\t\t\t\tisShowProgressTips: 1, // 默认为1，显示进度提示\n\t\t\t\t\t\tsuccess: function success(res) {\n\t\t\t\t\t\t\tvar serverId = res.serverId; // 返回图片的服务器端ID\n\t\t\t\t\t\t\tvar w = $('.box').outerWidth(),\n\t\t\t\t\t\t\t    h = $('.box').outerHeight();\n\t\t\t\t\t\t\t// alert(\"图片地址：\" + localIds[0]);\n\t\t\t\t\t\t\t// alert(\"myImg的src：\" + $('.myImg').attr('src'));\n\t\t\t\t\t\t\t$('.myImg').attr('src', localIds[0]);\n\n\t\t\t\t\t\t\tsetTimeout(function () {\n\t\t\t\t\t\t\t\thtml2canvas($(\".box\"), {\n\t\t\t\t\t\t\t\t\tallowTaint: true,\n\t\t\t\t\t\t\t\t\ttaintTest: false,\n\t\t\t\t\t\t\t\t\twidth: w,\n\t\t\t\t\t\t\t\t\theight: h,\n\t\t\t\t\t\t\t\t\tscale: window.devicePixelRatio,\n\t\t\t\t\t\t\t\t\tonrendered: function onrendered(canvas) {\n\t\t\t\t\t\t\t\t\t\tvar dataUrl = canvas.toDataURL(\"image/png\", 1.0);\n\t\t\t\t\t\t\t\t\t\tvar newImg = document.createElement(\"img\");\n\t\t\t\t\t\t\t\t\t\tnewImg.src = dataUrl;\n\t\t\t\t\t\t\t\t\t\t$('.box').empty().append(newImg);\n\t\t\t\t\t\t\t\t\t\tnewImg.style.width = '100%';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t__webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])({\n\t\t\t\t\t\t\t\t\tmessage: '已生成照片海报',\n\t\t\t\t\t\t\t\t\tduration: 2000,\n\t\t\t\t\t\t\t\t\ticonClass: 'mint-toast-icon mintui mintui-success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t$this.btnShow = !$this.btnShow;\n\t\t\t\t\t\t\t}, 150);\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfail: function fail(err) {\n\t\t\t\t\t\t\talert(err);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tdoShot: function doShot() {\n\t\t\tvar $this = this,\n\t\t\t    w = $('.box').outerWidth(),\n\t\t\t    h = $('.box').outerHeight();\n\n\t\t\thtml2canvas($(\".box\"), {\n\t\t\t\tallowTaint: true,\n\t\t\t\ttaintTest: false,\n\t\t\t\twidth: w,\n\t\t\t\theight: h,\n\t\t\t\tscale: window.devicePixelRatio,\n\t\t\t\tonrendered: function onrendered(canvas) {\n\t\t\t\t\tvar dataUrl = canvas.toDataURL(\"image/png\", 1.0);\n\t\t\t\t\tvar newImg = document.createElement(\"img\");\n\t\t\t\t\tnewImg.src = dataUrl;\n\t\t\t\t\t$('.box').empty().append(newImg);\n\t\t\t\t\tnewImg.style.width = '100%';\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t}\n});\n/* WEBPACK VAR INJECTION */}.call(__webpack_exports__, __webpack_require__(\"tra3\")))\n\n/***/ }),\n\n/***/ \"DICR\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n//\n//\n//\n//\n//\n//\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  name: 'app'\n});\n\n/***/ }),\n\n/***/ \"EzSJ\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"M93x\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_App_vue__ = __webpack_require__(\"DICR\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_2687bf1d_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_App_vue__ = __webpack_require__(\"ORVr\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"EzSJ\")\n}\nvar normalizeComponent = __webpack_require__(\"46Yf\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_App_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_2687bf1d_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_App_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"NHnr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"MVSX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui__ = __webpack_require__(\"facN\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_mint_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_style_css__ = __webpack_require__(\"UhSw\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_style_css___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2_mint_ui_lib_style_css__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__App__ = __webpack_require__(\"M93x\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__router__ = __webpack_require__(\"YaEn\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_jquery__ = __webpack_require__(\"tra3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_jquery___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_jquery__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config_rem__ = __webpack_require__(\"UAgs\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_6__config_rem___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6__config_rem__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_axios__ = __webpack_require__(\"BMa3\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_7_axios___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_7_axios__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_8__config_methods__ = __webpack_require__(\"jFya\");\n\n\n\n\n\n\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].config.productionTip = false;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.axios = __WEBPACK_IMPORTED_MODULE_7_axios___default.a;\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].prototype.$md = __WEBPACK_IMPORTED_MODULE_8__config_methods__[\"a\" /* default */];\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_mint_ui___default.a);\n\n__WEBPACK_IMPORTED_MODULE_7_axios___default()({\n  url: '/xzdd/getUrlConfig',\n  method: 'get',\n  dataType: 'json',\n  params: {\n    url: window.location.href.substring(0, window.location.href.lastIndexOf('#'))\n  }\n}).then(function (data) {\n  if (data && !data.code) {\n    __WEBPACK_IMPORTED_MODULE_8__config_methods__[\"a\" /* default */].WXConfigInit(data.data);\n  } else {\n    console.log(data.msg);\n  }\n}).catch(function (err) {\n  console.log(err);\n});\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"]({\n  el: '#app',\n  router: __WEBPACK_IMPORTED_MODULE_4__router__[\"a\" /* default */],\n  template: '<App/>',\n  components: { App: __WEBPACK_IMPORTED_MODULE_3__App__[\"a\" /* default */] }\n});\n\n/***/ }),\n\n/***/ \"ORVr\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"UAgs\":\n/***/ (function(module, exports, __webpack_require__) {\n\n/* WEBPACK VAR INJECTION */(function($) {// (function(doc, win) {\n//   var docEl = doc.documentElement,\n//     resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n//     recalc = function() {\n//       var clientWidth = docEl.clientWidth;\n//       if (!clientWidth) return;\n//       docEl.style.fontSize = 20 * (clientWidth / 320) + 'px';\n//     };\n//   if (!doc.addEventListener) return;\n//   win.addEventListener(resizeEvt, recalc, false);\n//   doc.addEventListener('DOMContentLoaded', recalc, false);\n// })(document, window);\n\n$(\"html\").css(\"font-size\", document.documentElement.clientHeight / document.documentElement.clientWidth < 1.5 ? document.documentElement.clientHeight / 603 * 312.5 + \"%\" : document.documentElement.clientWidth / 375 * 312.5 + \"%\");\n// 单屏全屏布局时使用,短屏下自动缩放\n$(\"html\").css(\"font-size\", document.documentElement.clientWidth / 375 * 312.5 + \"%\"); //长页面时使用,不缩放\n/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(\"tra3\")))\n\n/***/ }),\n\n/***/ \"UhSw\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"YaEn\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(\"MVSX\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_vue_router__ = __webpack_require__(\"cigS\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__pages_photograph__ = __webpack_require__(\"vs20\");\n\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"default\"].use(__WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (new __WEBPACK_IMPORTED_MODULE_1_vue_router__[\"a\" /* default */]({\n  routes: [{\n    path: '/',\n    name: 'photograph',\n    component: __WEBPACK_IMPORTED_MODULE_2__pages_photograph__[\"a\" /* default */]\n  }]\n}));\n\n/***/ }),\n\n/***/ \"hNm4\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._m(0),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.btnShow)?_c('div',{staticClass:\"other\"},[_c('p',{staticClass:\"des\"},[_vm._v(\"我们是教育行业的耕耘者，我们为教育挥洒青春拍照上传为教育创业者代言\")]),_vm._v(\" \"),_c('p',{staticClass:\"myBtn\",on:{\"click\":_vm.selectPhoto}})]):_c('p',{staticClass:\"saveBtn\"},[_vm._v(\"长按图片保存到手机分享朋友圈嘚瑟一下\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box1\"})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('img',{staticClass:\"myImg\",attrs:{\"src\":__webpack_require__(\"nSZi\")}}),_vm._v(\" \"),_c('p',{staticClass:\"logo\"}),_vm._v(\" \"),_c('p',{staticClass:\"hi\"}),_vm._v(\" \"),_c('p',{staticClass:\"font\"},[_vm._v(\"我在校长邦TOWER教育创新大会现场\"),_c('br'),_vm._v(\"我为TOWER代言\")]),_vm._v(\" \"),_c('p',{staticClass:\"qrcode\"},[_c('img',{attrs:{\"src\":__webpack_require__(\"5mn2\")}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"jFya\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(\"3cXf\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n  WXConfigInit: function WXConfigInit(weixinObj) {\n    console.log(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(weixinObj));\n    wx.config({\n      debug: false, // 开启调试模式\n      appId: weixinObj.data.appId, // 必填，公众号的唯一标识\n      timestamp: weixinObj.data.timestamp, // 必填，生成签名的时间戳\n      nonceStr: weixinObj.data.noncestr, // 必填，生成签名的随机串\n      signature: weixinObj.data.signature, // 必填，签名，见附录1\n      jsApiList: ['chooseImage', 'previewImage', 'uploadImage', 'downloadImage', 'getLocalImgData', 'hideOptionMenu', 'showOptionMenu', 'hideMenuItems', 'showMenuItems', 'hideAllNonBaseMenuItem', 'showAllNonBaseMenuItem']\n    });\n    wx.ready(function () {\n      console.log(\"微信回调成功\");\n    });\n  }\n});\n\n/***/ }),\n\n/***/ \"nSZi\":\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__.p + \"spa_poster/img/bg.7fbf4a0.jpg\";\n\n/***/ }),\n\n/***/ \"vs20\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_photograph_vue__ = __webpack_require__(\"7xSy\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_8ff347ca_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_photograph_vue__ = __webpack_require__(\"hNm4\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"4526\")\n}\nvar normalizeComponent = __webpack_require__(\"46Yf\")\n/* script */\n\n/* template */\n\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8ff347ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_script_index_0_photograph_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_13_3_0_vue_loader_lib_template_compiler_index_id_data_v_8ff347ca_hasScoped_true_transformToRequire_video_src_source_src_img_src_image_xlink_href_buble_transforms_node_modules_vue_loader_13_3_0_vue_loader_lib_selector_type_template_index_0_photograph_vue__[\"a\" /* default */],\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"a\"] = (Component.exports);\n\n\n/***/ })\n\n},[\"NHnr\"]);\n\n\n// WEBPACK FOOTER //\n// spa_poster/js/app.8c10cfa85846ed150809.js","/*\n  html2canvas 0.5.0-beta4 <http://html2canvas.hertzen.com>\n  Copyright (c) 2017 Niklas von Hertzen\n  2017-06-14 Custom build by Erik Koopmans, featuring latest bugfixes and features\n\n  Released under MIT License\n*/\n\n(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.html2canvas = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(_dereq_,module,exports){\n(function (global){\n/*! https://mths.be/punycode v1.4.1 by @mathias */\n;(function(root) {\n\n\t/** Detect free variables */\n\tvar freeExports = typeof exports == 'object' && exports &&\n\t\t!exports.nodeType && exports;\n\tvar freeModule = typeof module == 'object' && module &&\n\t\t!module.nodeType && module;\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (\n\t\tfreeGlobal.global === freeGlobal ||\n\t\tfreeGlobal.window === freeGlobal ||\n\t\tfreeGlobal.self === freeGlobal\n\t) {\n\t\troot = freeGlobal;\n\t}\n\n\t/**\n\t * The `punycode` object.\n\t * @name punycode\n\t * @type Object\n\t */\n\tvar punycode,\n\n\t/** Highest positive signed 32-bit float value */\n\tmaxInt = 2147483647, // aka. 0x7FFFFFFF or 2^31-1\n\n\t/** Bootstring parameters */\n\tbase = 36,\n\ttMin = 1,\n\ttMax = 26,\n\tskew = 38,\n\tdamp = 700,\n\tinitialBias = 72,\n\tinitialN = 128, // 0x80\n\tdelimiter = '-', // '\\x2D'\n\n\t/** Regular expressions */\n\tregexPunycode = /^xn--/,\n\tregexNonASCII = /[^\\x20-\\x7E]/, // unprintable ASCII chars + non-ASCII chars\n\tregexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g, // RFC 3490 separators\n\n\t/** Error messages */\n\terrors = {\n\t\t'overflow': 'Overflow: input needs wider integers to process',\n\t\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t\t'invalid-input': 'Invalid input'\n\t},\n\n\t/** Convenience shortcuts */\n\tbaseMinusTMin = base - tMin,\n\tfloor = Math.floor,\n\tstringFromCharCode = String.fromCharCode,\n\n\t/** Temporary variable */\n\tkey;\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/**\n\t * A generic error utility function.\n\t * @private\n\t * @param {String} type The error type.\n\t * @returns {Error} Throws a `RangeError` with the applicable error message.\n\t */\n\tfunction error(type) {\n\t\tthrow new RangeError(errors[type]);\n\t}\n\n\t/**\n\t * A generic `Array#map` utility function.\n\t * @private\n\t * @param {Array} array The array to iterate over.\n\t * @param {Function} callback The function that gets called for every array\n\t * item.\n\t * @returns {Array} A new array of values returned by the callback function.\n\t */\n\tfunction map(array, fn) {\n\t\tvar length = array.length;\n\t\tvar result = [];\n\t\twhile (length--) {\n\t\t\tresult[length] = fn(array[length]);\n\t\t}\n\t\treturn result;\n\t}\n\n\t/**\n\t * A simple `Array#map`-like wrapper to work with domain name strings or email\n\t * addresses.\n\t * @private\n\t * @param {String} domain The domain name or email address.\n\t * @param {Function} callback The function that gets called for every\n\t * character.\n\t * @returns {Array} A new string of characters returned by the callback\n\t * function.\n\t */\n\tfunction mapDomain(string, fn) {\n\t\tvar parts = string.split('@');\n\t\tvar result = '';\n\t\tif (parts.length > 1) {\n\t\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t\t// the local part (i.e. everything up to `@`) intact.\n\t\t\tresult = parts[0] + '@';\n\t\t\tstring = parts[1];\n\t\t}\n\t\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\t\tstring = string.replace(regexSeparators, '\\x2E');\n\t\tvar labels = string.split('.');\n\t\tvar encoded = map(labels, fn).join('.');\n\t\treturn result + encoded;\n\t}\n\n\t/**\n\t * Creates an array containing the numeric code points of each Unicode\n\t * character in the string. While JavaScript uses UCS-2 internally,\n\t * this function will convert a pair of surrogate halves (each of which\n\t * UCS-2 exposes as separate characters) into a single code point,\n\t * matching UTF-16.\n\t * @see `punycode.ucs2.encode`\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode.ucs2\n\t * @name decode\n\t * @param {String} string The Unicode input string (UCS-2).\n\t * @returns {Array} The new array of code points.\n\t */\n\tfunction ucs2decode(string) {\n\t\tvar output = [],\n\t\t    counter = 0,\n\t\t    length = string.length,\n\t\t    value,\n\t\t    extra;\n\t\twhile (counter < length) {\n\t\t\tvalue = string.charCodeAt(counter++);\n\t\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t\t// high surrogate, and there is a next character\n\t\t\t\textra = string.charCodeAt(counter++);\n\t\t\t\tif ((extra & 0xFC00) == 0xDC00) { // low surrogate\n\t\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t\t} else {\n\t\t\t\t\t// unmatched surrogate; only append this code unit, in case the next\n\t\t\t\t\t// code unit is the high surrogate of a surrogate pair\n\t\t\t\t\toutput.push(value);\n\t\t\t\t\tcounter--;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\toutput.push(value);\n\t\t\t}\n\t\t}\n\t\treturn output;\n\t}\n\n\t/**\n\t * Creates a string based on an array of numeric code points.\n\t * @see `punycode.ucs2.decode`\n\t * @memberOf punycode.ucs2\n\t * @name encode\n\t * @param {Array} codePoints The array of numeric code points.\n\t * @returns {String} The new Unicode string (UCS-2).\n\t */\n\tfunction ucs2encode(array) {\n\t\treturn map(array, function(value) {\n\t\t\tvar output = '';\n\t\t\tif (value > 0xFFFF) {\n\t\t\t\tvalue -= 0x10000;\n\t\t\t\toutput += stringFromCharCode(value >>> 10 & 0x3FF | 0xD800);\n\t\t\t\tvalue = 0xDC00 | value & 0x3FF;\n\t\t\t}\n\t\t\toutput += stringFromCharCode(value);\n\t\t\treturn output;\n\t\t}).join('');\n\t}\n\n\t/**\n\t * Converts a basic code point into a digit/integer.\n\t * @see `digitToBasic()`\n\t * @private\n\t * @param {Number} codePoint The basic numeric code point value.\n\t * @returns {Number} The numeric value of a basic code point (for use in\n\t * representing integers) in the range `0` to `base - 1`, or `base` if\n\t * the code point does not represent a value.\n\t */\n\tfunction basicToDigit(codePoint) {\n\t\tif (codePoint - 48 < 10) {\n\t\t\treturn codePoint - 22;\n\t\t}\n\t\tif (codePoint - 65 < 26) {\n\t\t\treturn codePoint - 65;\n\t\t}\n\t\tif (codePoint - 97 < 26) {\n\t\t\treturn codePoint - 97;\n\t\t}\n\t\treturn base;\n\t}\n\n\t/**\n\t * Converts a digit/integer into a basic code point.\n\t * @see `basicToDigit()`\n\t * @private\n\t * @param {Number} digit The numeric value of a basic code point.\n\t * @returns {Number} The basic code point whose value (when used for\n\t * representing integers) is `digit`, which needs to be in the range\n\t * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n\t * used; else, the lowercase form is used. The behavior is undefined\n\t * if `flag` is non-zero and `digit` has no uppercase form.\n\t */\n\tfunction digitToBasic(digit, flag) {\n\t\t//  0..25 map to ASCII a..z or A..Z\n\t\t// 26..35 map to ASCII 0..9\n\t\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n\t}\n\n\t/**\n\t * Bias adaptation function as per section 3.4 of RFC 3492.\n\t * https://tools.ietf.org/html/rfc3492#section-3.4\n\t * @private\n\t */\n\tfunction adapt(delta, numPoints, firstTime) {\n\t\tvar k = 0;\n\t\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\t\tdelta += floor(delta / numPoints);\n\t\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\t\tdelta = floor(delta / baseMinusTMin);\n\t\t}\n\t\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n\t}\n\n\t/**\n\t * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n\t * symbols.\n\t * @memberOf punycode\n\t * @param {String} input The Punycode string of ASCII-only symbols.\n\t * @returns {String} The resulting string of Unicode symbols.\n\t */\n\tfunction decode(input) {\n\t\t// Don't use UCS-2\n\t\tvar output = [],\n\t\t    inputLength = input.length,\n\t\t    out,\n\t\t    i = 0,\n\t\t    n = initialN,\n\t\t    bias = initialBias,\n\t\t    basic,\n\t\t    j,\n\t\t    index,\n\t\t    oldi,\n\t\t    w,\n\t\t    k,\n\t\t    digit,\n\t\t    t,\n\t\t    /** Cached calculation results */\n\t\t    baseMinusT;\n\n\t\t// Handle the basic code points: let `basic` be the number of input code\n\t\t// points before the last delimiter, or `0` if there is none, then copy\n\t\t// the first basic code points to the output.\n\n\t\tbasic = input.lastIndexOf(delimiter);\n\t\tif (basic < 0) {\n\t\t\tbasic = 0;\n\t\t}\n\n\t\tfor (j = 0; j < basic; ++j) {\n\t\t\t// if it's not a basic code point\n\t\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\t\terror('not-basic');\n\t\t\t}\n\t\t\toutput.push(input.charCodeAt(j));\n\t\t}\n\n\t\t// Main decoding loop: start just after the last delimiter if any basic code\n\t\t// points were copied; start at the beginning otherwise.\n\n\t\tfor (index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t\t// `index` is the index of the next character to be consumed.\n\t\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t\t// which gets added to `i`. The overflow checking is easier\n\t\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t\t// value at the end to obtain `delta`.\n\t\t\tfor (oldi = i, w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\t\tif (index >= inputLength) {\n\t\t\t\t\terror('invalid-input');\n\t\t\t\t}\n\n\t\t\t\tdigit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\ti += digit * w;\n\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\t\tif (digit < t) {\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbaseMinusT = base - t;\n\t\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tw *= baseMinusT;\n\n\t\t\t}\n\n\t\t\tout = output.length + 1;\n\t\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t\t// incrementing `n` each time, so we'll fix that now:\n\t\t\tif (floor(i / out) > maxInt - n) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tn += floor(i / out);\n\t\t\ti %= out;\n\n\t\t\t// Insert `n` at position `i` of the output\n\t\t\toutput.splice(i++, 0, n);\n\n\t\t}\n\n\t\treturn ucs2encode(output);\n\t}\n\n\t/**\n\t * Converts a string of Unicode symbols (e.g. a domain name label) to a\n\t * Punycode string of ASCII-only symbols.\n\t * @memberOf punycode\n\t * @param {String} input The string of Unicode symbols.\n\t * @returns {String} The resulting Punycode string of ASCII-only symbols.\n\t */\n\tfunction encode(input) {\n\t\tvar n,\n\t\t    delta,\n\t\t    handledCPCount,\n\t\t    basicLength,\n\t\t    bias,\n\t\t    j,\n\t\t    m,\n\t\t    q,\n\t\t    k,\n\t\t    t,\n\t\t    currentValue,\n\t\t    output = [],\n\t\t    /** `inputLength` will hold the number of code points in `input`. */\n\t\t    inputLength,\n\t\t    /** Cached calculation results */\n\t\t    handledCPCountPlusOne,\n\t\t    baseMinusT,\n\t\t    qMinusT;\n\n\t\t// Convert the input in UCS-2 to Unicode\n\t\tinput = ucs2decode(input);\n\n\t\t// Cache the length\n\t\tinputLength = input.length;\n\n\t\t// Initialize the state\n\t\tn = initialN;\n\t\tdelta = 0;\n\t\tbias = initialBias;\n\n\t\t// Handle the basic code points\n\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\tcurrentValue = input[j];\n\t\t\tif (currentValue < 0x80) {\n\t\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t\t}\n\t\t}\n\n\t\thandledCPCount = basicLength = output.length;\n\n\t\t// `handledCPCount` is the number of code points that have been handled;\n\t\t// `basicLength` is the number of basic code points.\n\n\t\t// Finish the basic string - if it is not empty - with a delimiter\n\t\tif (basicLength) {\n\t\t\toutput.push(delimiter);\n\t\t}\n\n\t\t// Main encoding loop:\n\t\twhile (handledCPCount < inputLength) {\n\n\t\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t\t// larger one:\n\t\t\tfor (m = maxInt, j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\t\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\t\tm = currentValue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t\t// but guard against overflow\n\t\t\thandledCPCountPlusOne = handledCPCount + 1;\n\t\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\t\tn = m;\n\n\t\t\tfor (j = 0; j < inputLength; ++j) {\n\t\t\t\tcurrentValue = input[j];\n\n\t\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\t\terror('overflow');\n\t\t\t\t}\n\n\t\t\t\tif (currentValue == n) {\n\t\t\t\t\t// Represent delta as a generalized variable-length integer\n\t\t\t\t\tfor (q = delta, k = base; /* no condition */; k += base) {\n\t\t\t\t\t\tt = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tqMinusT = q - t;\n\t\t\t\t\t\tbaseMinusT = base - t;\n\t\t\t\t\t\toutput.push(\n\t\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t\t);\n\t\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t\t}\n\n\t\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\t\tdelta = 0;\n\t\t\t\t\t++handledCPCount;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t++delta;\n\t\t\t++n;\n\n\t\t}\n\t\treturn output.join('');\n\t}\n\n\t/**\n\t * Converts a Punycode string representing a domain name or an email address\n\t * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n\t * it doesn't matter if you call it on a string that has already been\n\t * converted to Unicode.\n\t * @memberOf punycode\n\t * @param {String} input The Punycoded domain name or email address to\n\t * convert to Unicode.\n\t * @returns {String} The Unicode representation of the given Punycode\n\t * string.\n\t */\n\tfunction toUnicode(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexPunycode.test(string)\n\t\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/**\n\t * Converts a Unicode string representing a domain name or an email address to\n\t * Punycode. Only the non-ASCII parts of the domain name will be converted,\n\t * i.e. it doesn't matter if you call it with a domain that's already in\n\t * ASCII.\n\t * @memberOf punycode\n\t * @param {String} input The domain name or email address to convert, as a\n\t * Unicode string.\n\t * @returns {String} The Punycode representation of the given domain name or\n\t * email address.\n\t */\n\tfunction toASCII(input) {\n\t\treturn mapDomain(input, function(string) {\n\t\t\treturn regexNonASCII.test(string)\n\t\t\t\t? 'xn--' + encode(string)\n\t\t\t\t: string;\n\t\t});\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\t/** Define the public API */\n\tpunycode = {\n\t\t/**\n\t\t * A string representing the current Punycode.js version number.\n\t\t * @memberOf punycode\n\t\t * @type String\n\t\t */\n\t\t'version': '1.4.1',\n\t\t/**\n\t\t * An object of methods to convert from JavaScript's internal character\n\t\t * representation (UCS-2) to Unicode code points, and back.\n\t\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t\t * @memberOf punycode\n\t\t * @type Object\n\t\t */\n\t\t'ucs2': {\n\t\t\t'decode': ucs2decode,\n\t\t\t'encode': ucs2encode\n\t\t},\n\t\t'decode': decode,\n\t\t'encode': encode,\n\t\t'toASCII': toASCII,\n\t\t'toUnicode': toUnicode\n\t};\n\n\t/** Expose `punycode` */\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine('punycode', function() {\n\t\t\treturn punycode;\n\t\t});\n\t} else if (freeExports && freeModule) {\n\t\tif (module.exports == freeExports) {\n\t\t\t// in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = punycode;\n\t\t} else {\n\t\t\t// in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (key in punycode) {\n\t\t\t\tpunycode.hasOwnProperty(key) && (freeExports[key] = punycode[key]);\n\t\t\t}\n\t\t}\n\t} else {\n\t\t// in Rhino or a web browser\n\t\troot.punycode = punycode;\n\t}\n\n}(this));\n\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n},{}],2:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\n\nfunction restoreOwnerScroll(ownerDocument, x, y) {\n    if (ownerDocument.defaultView && (x !== ownerDocument.defaultView.pageXOffset || y !== ownerDocument.defaultView.pageYOffset)) {\n        ownerDocument.defaultView.scrollTo(x, y);\n    }\n}\n\nfunction cloneCanvasContents(canvas, clonedCanvas) {\n    try {\n        if (clonedCanvas) {\n            clonedCanvas.width = canvas.width;\n            clonedCanvas.height = canvas.height;\n            clonedCanvas.getContext(\"2d\").putImageData(canvas.getContext(\"2d\").getImageData(0, 0, canvas.width, canvas.height), 0, 0);\n        }\n    } catch(e) {\n        log(\"Unable to copy canvas content from\", canvas, e);\n    }\n}\n\nfunction cloneNode(node, javascriptEnabled) {\n    var clone = node.nodeType === 3 ? document.createTextNode(node.nodeValue) : node.cloneNode(false);\n\n    var child = node.firstChild;\n    while(child) {\n        if (javascriptEnabled === true || child.nodeType !== 1 || child.nodeName !== 'SCRIPT') {\n            clone.appendChild(cloneNode(child, javascriptEnabled));\n        }\n        child = child.nextSibling;\n    }\n\n    if (node.nodeType === 1) {\n        clone._scrollTop = node.scrollTop;\n        clone._scrollLeft = node.scrollLeft;\n        if (node.nodeName === \"CANVAS\") {\n            cloneCanvasContents(node, clone);\n        } else if (node.nodeName === \"TEXTAREA\" || node.nodeName === \"SELECT\") {\n            clone.value = node.value;\n        }\n    }\n\n    return clone;\n}\n\nfunction initNode(node) {\n    if (node.nodeType === 1) {\n        node.scrollTop = node._scrollTop;\n        node.scrollLeft = node._scrollLeft;\n\n        var child = node.firstChild;\n        while(child) {\n            initNode(child);\n            child = child.nextSibling;\n        }\n    }\n}\n\nmodule.exports = function(ownerDocument, containerDocument, width, height, options, x ,y) {\n    var documentElement = cloneNode(ownerDocument.documentElement, options.javascriptEnabled);\n    var container = containerDocument.createElement(\"iframe\");\n\n    container.className = \"html2canvas-container\";\n    container.style.visibility = \"hidden\";\n    container.style.position = \"fixed\";\n    container.style.left = \"-10000px\";\n    container.style.top = \"0px\";\n    container.style.border = \"0\";\n    container.width = width;\n    container.height = height;\n    container.scrolling = \"no\"; // ios won't scroll without it\n    containerDocument.body.appendChild(container);\n\n    return new Promise(function(resolve) {\n        var documentClone = container.contentWindow.document;\n\n        /* Chrome doesn't detect relative background-images assigned in inline <style> sheets when fetched through getComputedStyle\n         if window url is about:blank, we can assign the url to current by writing onto the document\n         */\n        container.contentWindow.onload = container.onload = function() {\n            var interval = setInterval(function() {\n                if (documentClone.body.childNodes.length > 0) {\n                    initNode(documentClone.documentElement);\n                    clearInterval(interval);\n                    if (options.type === \"view\") {\n                        container.contentWindow.scrollTo(x, y);\n                        if ((/(iPad|iPhone|iPod)/g).test(navigator.userAgent) && (container.contentWindow.scrollY !== y || container.contentWindow.scrollX !== x)) {\n                            documentClone.documentElement.style.top = (-y) + \"px\";\n                            documentClone.documentElement.style.left = (-x) + \"px\";\n                            documentClone.documentElement.style.position = 'absolute';\n                        }\n                    }\n                    resolve(container);\n                }\n            }, 50);\n        };\n\n        documentClone.open();\n        documentClone.write(\"<!DOCTYPE html><html></html>\");\n        // Chrome scrolls the parent document for some reason after the write to the cloned window???\n        restoreOwnerScroll(ownerDocument, x, y);\n        documentClone.replaceChild(documentClone.adoptNode(documentElement), documentClone.documentElement);\n        documentClone.close();\n    });\n};\n\n},{\"./log\":13}],3:[function(_dereq_,module,exports){\n// http://dev.w3.org/csswg/css-color/\n\nfunction Color(value) {\n    this.r = 0;\n    this.g = 0;\n    this.b = 0;\n    this.a = null;\n    var result = this.fromArray(value) ||\n        this.namedColor(value) ||\n        this.rgb(value) ||\n        this.rgba(value) ||\n        this.hex6(value) ||\n        this.hex3(value);\n}\n\nColor.prototype.darken = function(amount) {\n    var a = 1 - amount;\n    return  new Color([\n        Math.round(this.r * a),\n        Math.round(this.g * a),\n        Math.round(this.b * a),\n        this.a\n    ]);\n};\n\nColor.prototype.isTransparent = function() {\n    return this.a === 0;\n};\n\nColor.prototype.isBlack = function() {\n    return this.r === 0 && this.g === 0 && this.b === 0;\n};\n\nColor.prototype.fromArray = function(array) {\n    if (Array.isArray(array)) {\n        this.r = Math.min(array[0], 255);\n        this.g = Math.min(array[1], 255);\n        this.b = Math.min(array[2], 255);\n        if (array.length > 3) {\n            this.a = array[3];\n        }\n    }\n\n    return (Array.isArray(array));\n};\n\nvar _hex3 = /^#([a-f0-9]{3})$/i;\n\nColor.prototype.hex3 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex3)) !== null) {\n        this.r = parseInt(match[1][0] + match[1][0], 16);\n        this.g = parseInt(match[1][1] + match[1][1], 16);\n        this.b = parseInt(match[1][2] + match[1][2], 16);\n    }\n    return match !== null;\n};\n\nvar _hex6 = /^#([a-f0-9]{6})$/i;\n\nColor.prototype.hex6 = function(value) {\n    var match = null;\n    if ((match = value.match(_hex6)) !== null) {\n        this.r = parseInt(match[1].substring(0, 2), 16);\n        this.g = parseInt(match[1].substring(2, 4), 16);\n        this.b = parseInt(match[1].substring(4, 6), 16);\n    }\n    return match !== null;\n};\n\n\nvar _rgb = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/;\n\nColor.prototype.rgb = function(value) {\n    var match = null;\n    if ((match = value.match(_rgb)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n    }\n    return match !== null;\n};\n\nvar _rgba = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d?\\.?\\d+)\\s*\\)$/;\n\nColor.prototype.rgba = function(value) {\n    var match = null;\n    if ((match = value.match(_rgba)) !== null) {\n        this.r = Number(match[1]);\n        this.g = Number(match[2]);\n        this.b = Number(match[3]);\n        this.a = Number(match[4]);\n    }\n    return match !== null;\n};\n\nColor.prototype.toString = function() {\n    return this.a !== null && this.a !== 1 ?\n    \"rgba(\" + [this.r, this.g, this.b, this.a].join(\",\") + \")\" :\n    \"rgb(\" + [this.r, this.g, this.b].join(\",\") + \")\";\n};\n\nColor.prototype.namedColor = function(value) {\n    value = value.toLowerCase();\n    var color = colors[value];\n    if (color) {\n        this.r = color[0];\n        this.g = color[1];\n        this.b = color[2];\n    } else if (value === \"transparent\") {\n        this.r = this.g = this.b = this.a = 0;\n        return true;\n    }\n\n    return !!color;\n};\n\nColor.prototype.isColor = true;\n\n// JSON.stringify([].slice.call($$('.named-color-table tr'), 1).map(function(row) { return [row.childNodes[3].textContent, row.childNodes[5].textContent.trim().split(\",\").map(Number)] }).reduce(function(data, row) {data[row[0]] = row[1]; return data}, {}))\nvar colors = {\n    \"aliceblue\": [240, 248, 255],\n    \"antiquewhite\": [250, 235, 215],\n    \"aqua\": [0, 255, 255],\n    \"aquamarine\": [127, 255, 212],\n    \"azure\": [240, 255, 255],\n    \"beige\": [245, 245, 220],\n    \"bisque\": [255, 228, 196],\n    \"black\": [0, 0, 0],\n    \"blanchedalmond\": [255, 235, 205],\n    \"blue\": [0, 0, 255],\n    \"blueviolet\": [138, 43, 226],\n    \"brown\": [165, 42, 42],\n    \"burlywood\": [222, 184, 135],\n    \"cadetblue\": [95, 158, 160],\n    \"chartreuse\": [127, 255, 0],\n    \"chocolate\": [210, 105, 30],\n    \"coral\": [255, 127, 80],\n    \"cornflowerblue\": [100, 149, 237],\n    \"cornsilk\": [255, 248, 220],\n    \"crimson\": [220, 20, 60],\n    \"cyan\": [0, 255, 255],\n    \"darkblue\": [0, 0, 139],\n    \"darkcyan\": [0, 139, 139],\n    \"darkgoldenrod\": [184, 134, 11],\n    \"darkgray\": [169, 169, 169],\n    \"darkgreen\": [0, 100, 0],\n    \"darkgrey\": [169, 169, 169],\n    \"darkkhaki\": [189, 183, 107],\n    \"darkmagenta\": [139, 0, 139],\n    \"darkolivegreen\": [85, 107, 47],\n    \"darkorange\": [255, 140, 0],\n    \"darkorchid\": [153, 50, 204],\n    \"darkred\": [139, 0, 0],\n    \"darksalmon\": [233, 150, 122],\n    \"darkseagreen\": [143, 188, 143],\n    \"darkslateblue\": [72, 61, 139],\n    \"darkslategray\": [47, 79, 79],\n    \"darkslategrey\": [47, 79, 79],\n    \"darkturquoise\": [0, 206, 209],\n    \"darkviolet\": [148, 0, 211],\n    \"deeppink\": [255, 20, 147],\n    \"deepskyblue\": [0, 191, 255],\n    \"dimgray\": [105, 105, 105],\n    \"dimgrey\": [105, 105, 105],\n    \"dodgerblue\": [30, 144, 255],\n    \"firebrick\": [178, 34, 34],\n    \"floralwhite\": [255, 250, 240],\n    \"forestgreen\": [34, 139, 34],\n    \"fuchsia\": [255, 0, 255],\n    \"gainsboro\": [220, 220, 220],\n    \"ghostwhite\": [248, 248, 255],\n    \"gold\": [255, 215, 0],\n    \"goldenrod\": [218, 165, 32],\n    \"gray\": [128, 128, 128],\n    \"green\": [0, 128, 0],\n    \"greenyellow\": [173, 255, 47],\n    \"grey\": [128, 128, 128],\n    \"honeydew\": [240, 255, 240],\n    \"hotpink\": [255, 105, 180],\n    \"indianred\": [205, 92, 92],\n    \"indigo\": [75, 0, 130],\n    \"ivory\": [255, 255, 240],\n    \"khaki\": [240, 230, 140],\n    \"lavender\": [230, 230, 250],\n    \"lavenderblush\": [255, 240, 245],\n    \"lawngreen\": [124, 252, 0],\n    \"lemonchiffon\": [255, 250, 205],\n    \"lightblue\": [173, 216, 230],\n    \"lightcoral\": [240, 128, 128],\n    \"lightcyan\": [224, 255, 255],\n    \"lightgoldenrodyellow\": [250, 250, 210],\n    \"lightgray\": [211, 211, 211],\n    \"lightgreen\": [144, 238, 144],\n    \"lightgrey\": [211, 211, 211],\n    \"lightpink\": [255, 182, 193],\n    \"lightsalmon\": [255, 160, 122],\n    \"lightseagreen\": [32, 178, 170],\n    \"lightskyblue\": [135, 206, 250],\n    \"lightslategray\": [119, 136, 153],\n    \"lightslategrey\": [119, 136, 153],\n    \"lightsteelblue\": [176, 196, 222],\n    \"lightyellow\": [255, 255, 224],\n    \"lime\": [0, 255, 0],\n    \"limegreen\": [50, 205, 50],\n    \"linen\": [250, 240, 230],\n    \"magenta\": [255, 0, 255],\n    \"maroon\": [128, 0, 0],\n    \"mediumaquamarine\": [102, 205, 170],\n    \"mediumblue\": [0, 0, 205],\n    \"mediumorchid\": [186, 85, 211],\n    \"mediumpurple\": [147, 112, 219],\n    \"mediumseagreen\": [60, 179, 113],\n    \"mediumslateblue\": [123, 104, 238],\n    \"mediumspringgreen\": [0, 250, 154],\n    \"mediumturquoise\": [72, 209, 204],\n    \"mediumvioletred\": [199, 21, 133],\n    \"midnightblue\": [25, 25, 112],\n    \"mintcream\": [245, 255, 250],\n    \"mistyrose\": [255, 228, 225],\n    \"moccasin\": [255, 228, 181],\n    \"navajowhite\": [255, 222, 173],\n    \"navy\": [0, 0, 128],\n    \"oldlace\": [253, 245, 230],\n    \"olive\": [128, 128, 0],\n    \"olivedrab\": [107, 142, 35],\n    \"orange\": [255, 165, 0],\n    \"orangered\": [255, 69, 0],\n    \"orchid\": [218, 112, 214],\n    \"palegoldenrod\": [238, 232, 170],\n    \"palegreen\": [152, 251, 152],\n    \"paleturquoise\": [175, 238, 238],\n    \"palevioletred\": [219, 112, 147],\n    \"papayawhip\": [255, 239, 213],\n    \"peachpuff\": [255, 218, 185],\n    \"peru\": [205, 133, 63],\n    \"pink\": [255, 192, 203],\n    \"plum\": [221, 160, 221],\n    \"powderblue\": [176, 224, 230],\n    \"purple\": [128, 0, 128],\n    \"rebeccapurple\": [102, 51, 153],\n    \"red\": [255, 0, 0],\n    \"rosybrown\": [188, 143, 143],\n    \"royalblue\": [65, 105, 225],\n    \"saddlebrown\": [139, 69, 19],\n    \"salmon\": [250, 128, 114],\n    \"sandybrown\": [244, 164, 96],\n    \"seagreen\": [46, 139, 87],\n    \"seashell\": [255, 245, 238],\n    \"sienna\": [160, 82, 45],\n    \"silver\": [192, 192, 192],\n    \"skyblue\": [135, 206, 235],\n    \"slateblue\": [106, 90, 205],\n    \"slategray\": [112, 128, 144],\n    \"slategrey\": [112, 128, 144],\n    \"snow\": [255, 250, 250],\n    \"springgreen\": [0, 255, 127],\n    \"steelblue\": [70, 130, 180],\n    \"tan\": [210, 180, 140],\n    \"teal\": [0, 128, 128],\n    \"thistle\": [216, 191, 216],\n    \"tomato\": [255, 99, 71],\n    \"turquoise\": [64, 224, 208],\n    \"violet\": [238, 130, 238],\n    \"wheat\": [245, 222, 179],\n    \"white\": [255, 255, 255],\n    \"whitesmoke\": [245, 245, 245],\n    \"yellow\": [255, 255, 0],\n    \"yellowgreen\": [154, 205, 50]\n};\n\nmodule.exports = Color;\n\n},{}],4:[function(_dereq_,module,exports){\nvar Support = _dereq_('./support');\nvar CanvasRenderer = _dereq_('./renderers/canvas');\nvar ImageLoader = _dereq_('./imageloader');\nvar NodeParser = _dereq_('./nodeparser');\nvar NodeContainer = _dereq_('./nodecontainer');\nvar log = _dereq_('./log');\nvar utils = _dereq_('./utils');\nvar createWindowClone = _dereq_('./clone');\nvar loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\nvar getBounds = utils.getBounds;\n\nvar html2canvasNodeAttribute = \"data-html2canvas-node\";\nvar html2canvasCloneIndex = 0;\n\nfunction html2canvas(nodeList, options) {\n    var index = html2canvasCloneIndex++;\n    options = options || {};\n    if (options.logging) {\n        log.options.logging = true;\n        log.options.start = Date.now();\n    }\n\n    options.async = typeof(options.async) === \"undefined\" ? true : options.async;\n    options.allowTaint = typeof(options.allowTaint) === \"undefined\" ? false : options.allowTaint;\n    options.removeContainer = typeof(options.removeContainer) === \"undefined\" ? true : options.removeContainer;\n    options.javascriptEnabled = typeof(options.javascriptEnabled) === \"undefined\" ? false : options.javascriptEnabled;\n    options.imageTimeout = typeof(options.imageTimeout) === \"undefined\" ? 10000 : options.imageTimeout;\n    options.renderer = typeof(options.renderer) === \"function\" ? options.renderer : CanvasRenderer;\n    options.strict = !!options.strict;\n\n    if (typeof(nodeList) === \"string\") {\n        if (typeof(options.proxy) !== \"string\") {\n            return Promise.reject(\"Proxy must be used when rendering url\");\n        }\n        var width = options.width != null ? options.width : window.innerWidth;\n        var height = options.height != null ? options.height : window.innerHeight;\n        return loadUrlDocument(absoluteUrl(nodeList), options.proxy, document, width, height, options).then(function(container) {\n            return renderWindow(container.contentWindow.document.documentElement, container, options, width, height);\n        });\n    }\n\n    var node = ((nodeList === undefined) ? [document.documentElement] : ((nodeList.length) ? nodeList : [nodeList]))[0];\n    node.setAttribute(html2canvasNodeAttribute + index, index);\n    return renderDocument(node.ownerDocument, options, node.ownerDocument.defaultView.innerWidth, node.ownerDocument.defaultView.innerHeight, index).then(function(canvas) {\n        if (typeof(options.onrendered) === \"function\") {\n            log(\"options.onrendered is deprecated, html2canvas returns a Promise containing the canvas\");\n            options.onrendered(canvas);\n        }\n        return canvas;\n    });\n}\n\nhtml2canvas.CanvasRenderer = CanvasRenderer;\nhtml2canvas.NodeContainer = NodeContainer;\nhtml2canvas.log = log;\nhtml2canvas.utils = utils;\n\nvar html2canvasExport = (typeof(document) === \"undefined\" || typeof(Object.create) !== \"function\" || typeof(document.createElement(\"canvas\").getContext) !== \"function\") ? function() {\n    return Promise.reject(\"No canvas support\");\n} : html2canvas;\n\nmodule.exports = html2canvasExport;\n\nif (typeof(define) === 'function' && define.amd) {\n    define('html2canvas', [], function() {\n        return html2canvasExport;\n    });\n}\n\nfunction renderDocument(document, options, windowWidth, windowHeight, html2canvasIndex) {\n    return createWindowClone(document, document, windowWidth, windowHeight, options, document.defaultView.pageXOffset, document.defaultView.pageYOffset).then(function(container) {\n        log(\"Document cloned\");\n        var attributeName = html2canvasNodeAttribute + html2canvasIndex;\n        var selector = \"[\" + attributeName + \"='\" + html2canvasIndex + \"']\";\n        document.querySelector(selector).removeAttribute(attributeName);\n        var clonedWindow = container.contentWindow;\n        var node = clonedWindow.document.querySelector(selector);\n        var oncloneHandler = (typeof(options.onclone) === \"function\") ? Promise.resolve(options.onclone(clonedWindow.document)) : Promise.resolve(true);\n        return oncloneHandler.then(function() {\n            return renderWindow(node, container, options, windowWidth, windowHeight);\n        });\n    });\n}\n\nfunction renderWindow(node, container, options, windowWidth, windowHeight) {\n    var clonedWindow = container.contentWindow;\n    var support = new Support(clonedWindow.document);\n    var imageLoader = new ImageLoader(options, support);\n    var bounds = getBounds(node);\n    var width = options.type === \"view\" ? windowWidth : bounds.right + 1;\n    var height = options.type === \"view\" ? windowHeight : bounds.bottom + 1;\n    var renderer = new options.renderer(width, height, imageLoader, options, document);\n    var parser = new NodeParser(node, renderer, support, imageLoader, options);\n    return parser.ready.then(function() {\n        log(\"Finished rendering\");\n        var canvas;\n\n        if (options.type === \"view\") {\n            canvas = crop(renderer.canvas, {width: renderer.canvas.width, height: renderer.canvas.height, top: 0, left: 0, x: 0, y: 0});\n        } else if (node === clonedWindow.document.body || node === clonedWindow.document.documentElement || options.canvas != null) {\n            canvas = renderer.canvas;\n        } else if (options.scale) {\n            var origBounds = {width: options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: 0, y: 0};\n            var cropBounds = {};\n            for (var key in origBounds) {\n                if (origBounds.hasOwnProperty(key)) { cropBounds[key] = origBounds[key] * options.scale; }\n            }\n            canvas = crop(renderer.canvas, cropBounds);\n            canvas.style.width = origBounds.width + 'px';\n            canvas.style.height = origBounds.height + 'px';\n        } else {\n            canvas = crop(renderer.canvas, {width:  options.width != null ? options.width : bounds.width, height: options.height != null ? options.height : bounds.height, top: bounds.top, left: bounds.left, x: 0, y: 0});\n        }\n\n        cleanupContainer(container, options);\n        return canvas;\n    });\n}\n\nfunction cleanupContainer(container, options) {\n    if (options.removeContainer) {\n        container.parentNode.removeChild(container);\n        log(\"Cleaned up container\");\n    }\n}\n\nfunction crop(canvas, bounds) {\n    var croppedCanvas = document.createElement(\"canvas\");\n    var x1 = Math.min(canvas.width - 1, Math.max(0, bounds.left));\n    var x2 = Math.min(canvas.width, Math.max(1, bounds.left + bounds.width));\n    var y1 = Math.min(canvas.height - 1, Math.max(0, bounds.top));\n    var y2 = Math.min(canvas.height, Math.max(1, bounds.top + bounds.height));\n    croppedCanvas.width = bounds.width;\n    croppedCanvas.height =  bounds.height;\n    var width = x2-x1;\n    var height = y2-y1;\n    log(\"Cropping canvas at:\", \"left:\", bounds.left, \"top:\", bounds.top, \"width:\", width, \"height:\", height);\n    log(\"Resulting crop with width\", bounds.width, \"and height\", bounds.height, \"with x\", x1, \"and y\", y1);\n    croppedCanvas.getContext(\"2d\").drawImage(canvas, x1, y1, width, height, bounds.x, bounds.y, width, height);\n    return croppedCanvas;\n}\n\nfunction documentWidth (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollWidth, doc.documentElement.scrollWidth),\n        Math.max(doc.body.offsetWidth, doc.documentElement.offsetWidth),\n        Math.max(doc.body.clientWidth, doc.documentElement.clientWidth)\n    );\n}\n\nfunction documentHeight (doc) {\n    return Math.max(\n        Math.max(doc.body.scrollHeight, doc.documentElement.scrollHeight),\n        Math.max(doc.body.offsetHeight, doc.documentElement.offsetHeight),\n        Math.max(doc.body.clientHeight, doc.documentElement.clientHeight)\n    );\n}\n\nfunction absoluteUrl(url) {\n    var link = document.createElement(\"a\");\n    link.href = url;\n    link.href = link.href;\n    return link;\n}\n\n},{\"./clone\":2,\"./imageloader\":11,\"./log\":13,\"./nodecontainer\":14,\"./nodeparser\":15,\"./proxy\":16,\"./renderers/canvas\":20,\"./support\":22,\"./utils\":26}],5:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar smallImage = _dereq_('./utils').smallImage;\n\nfunction DummyImageContainer(src) {\n    this.src = src;\n    log(\"DummyImageContainer for\", src);\n    if (!this.promise || !this.image) {\n        log(\"Initiating DummyImageContainer\");\n        DummyImageContainer.prototype.image = new Image();\n        var image = this.image;\n        DummyImageContainer.prototype.promise = new Promise(function(resolve, reject) {\n            image.onload = resolve;\n            image.onerror = reject;\n            image.src = smallImage();\n            if (image.complete === true) {\n                resolve(image);\n            }\n        });\n    }\n}\n\nmodule.exports = DummyImageContainer;\n\n},{\"./log\":13,\"./utils\":26}],6:[function(_dereq_,module,exports){\nvar smallImage = _dereq_('./utils').smallImage;\n\nfunction Font(family, size) {\n    var container = document.createElement('div'),\n        img = document.createElement('img'),\n        span = document.createElement('span'),\n        sampleText = 'Hidden Text',\n        baseline,\n        middle;\n\n    container.style.visibility = \"hidden\";\n    container.style.fontFamily = family;\n    container.style.fontSize = size;\n    container.style.margin = 0;\n    container.style.padding = 0;\n\n    document.body.appendChild(container);\n\n    img.src = smallImage();\n    img.width = 1;\n    img.height = 1;\n\n    img.style.margin = 0;\n    img.style.padding = 0;\n    img.style.verticalAlign = \"baseline\";\n\n    span.style.fontFamily = family;\n    span.style.fontSize = size;\n    span.style.margin = 0;\n    span.style.padding = 0;\n\n    span.appendChild(document.createTextNode(sampleText));\n    container.appendChild(span);\n    container.appendChild(img);\n    baseline = (img.offsetTop - span.offsetTop) + 1;\n\n    container.removeChild(span);\n    container.appendChild(document.createTextNode(sampleText));\n\n    container.style.lineHeight = \"normal\";\n    img.style.verticalAlign = \"super\";\n\n    middle = (img.offsetTop-container.offsetTop) + 1;\n\n    document.body.removeChild(container);\n\n    this.baseline = baseline;\n    this.lineWidth = 1;\n    this.middle = middle;\n}\n\nmodule.exports = Font;\n\n},{\"./utils\":26}],7:[function(_dereq_,module,exports){\nvar Font = _dereq_('./font');\n\nfunction FontMetrics() {\n    this.data = {};\n}\n\nFontMetrics.prototype.getMetrics = function(family, size) {\n    if (this.data[family + \"-\" + size] === undefined) {\n        this.data[family + \"-\" + size] = new Font(family, size);\n    }\n    return this.data[family + \"-\" + size];\n};\n\nmodule.exports = FontMetrics;\n\n},{\"./font\":6}],8:[function(_dereq_,module,exports){\nvar utils = _dereq_('./utils');\nvar getBounds = utils.getBounds;\nvar loadUrlDocument = _dereq_('./proxy').loadUrlDocument;\n\nfunction FrameContainer(container, sameOrigin, options) {\n    this.image = null;\n    this.src = container;\n    var self = this;\n    var bounds = getBounds(container);\n    this.promise = (!sameOrigin ? this.proxyLoad(options.proxy, bounds, options) : new Promise(function(resolve) {\n        if (container.contentWindow.document.URL === \"about:blank\" || container.contentWindow.document.documentElement == null) {\n            container.contentWindow.onload = container.onload = function() {\n                resolve(container);\n            };\n        } else {\n            resolve(container);\n        }\n    })).then(function(container) {\n        var html2canvas = _dereq_('./core');\n        return html2canvas(container.contentWindow.document.documentElement, {type: 'view', width: container.width, height: container.height, proxy: options.proxy, javascriptEnabled: options.javascriptEnabled, removeContainer: options.removeContainer, allowTaint: options.allowTaint, imageTimeout: options.imageTimeout / 2});\n    }).then(function(canvas) {\n        return self.image = canvas;\n    });\n}\n\nFrameContainer.prototype.proxyLoad = function(proxy, bounds, options) {\n    var container = this.src;\n    return loadUrlDocument(container.src, proxy, container.ownerDocument, bounds.width, bounds.height, options);\n};\n\nmodule.exports = FrameContainer;\n\n},{\"./core\":4,\"./proxy\":16,\"./utils\":26}],9:[function(_dereq_,module,exports){\nfunction GradientContainer(imageData) {\n    this.src = imageData.value;\n    this.colorStops = [];\n    this.type = null;\n    this.x0 = 0.5;\n    this.y0 = 0.5;\n    this.x1 = 0.5;\n    this.y1 = 0.5;\n    this.promise = Promise.resolve(true);\n}\n\nGradientContainer.TYPES = {\n    LINEAR: 1,\n    RADIAL: 2\n};\n\n// TODO: support hsl[a], negative %/length values\n// TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\nGradientContainer.REGEXP_COLORSTOP = /^\\s*(rgba?\\(\\s*\\d{1,3},\\s*\\d{1,3},\\s*\\d{1,3}(?:,\\s*[0-9\\.]+)?\\s*\\)|[a-z]{3,20}|#[a-f0-9]{3,6})(?:\\s+(\\d{1,3}(?:\\.\\d+)?)(%|px)?)?(?:\\s|$)/i;\n\nmodule.exports = GradientContainer;\n\n},{}],10:[function(_dereq_,module,exports){\nfunction ImageContainer(src, cors) {\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.tainted = null;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        if (cors) {\n            self.image.crossOrigin = \"anonymous\";\n        }\n        self.image.src = src;\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    });\n}\n\nmodule.exports = ImageContainer;\n\n},{}],11:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar ImageContainer = _dereq_('./imagecontainer');\nvar DummyImageContainer = _dereq_('./dummyimagecontainer');\nvar ProxyImageContainer = _dereq_('./proxyimagecontainer');\nvar FrameContainer = _dereq_('./framecontainer');\nvar SVGContainer = _dereq_('./svgcontainer');\nvar SVGNodeContainer = _dereq_('./svgnodecontainer');\nvar LinearGradientContainer = _dereq_('./lineargradientcontainer');\nvar WebkitGradientContainer = _dereq_('./webkitgradientcontainer');\nvar bind = _dereq_('./utils').bind;\n\nfunction ImageLoader(options, support) {\n    this.link = null;\n    this.options = options;\n    this.support = support;\n    this.origin = this.getOrigin(window.location.href);\n}\n\nImageLoader.prototype.findImages = function(nodes) {\n    var images = [];\n    nodes.reduce(function(imageNodes, container) {\n        switch(container.node.nodeName) {\n        case \"IMG\":\n            return imageNodes.concat([{\n                args: [container.node.src],\n                method: \"url\"\n            }]);\n        case \"svg\":\n        case \"IFRAME\":\n            return imageNodes.concat([{\n                args: [container.node],\n                method: container.node.nodeName\n            }]);\n        }\n        return imageNodes;\n    }, []).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.findBackgroundImage = function(images, container) {\n    container.parseBackgroundImages().filter(this.hasImageBackground).forEach(this.addImage(images, this.loadImage), this);\n    return images;\n};\n\nImageLoader.prototype.addImage = function(images, callback) {\n    return function(newImage) {\n        newImage.args.forEach(function(image) {\n            if (!this.imageExists(images, image)) {\n                images.splice(0, 0, callback.call(this, newImage));\n                log('Added image #' + (images.length), typeof(image) === \"string\" ? image.substring(0, 100) : image);\n            }\n        }, this);\n    };\n};\n\nImageLoader.prototype.hasImageBackground = function(imageData) {\n    return imageData.method !== \"none\";\n};\n\nImageLoader.prototype.loadImage = function(imageData) {\n    if (imageData.method === \"url\") {\n        var src = imageData.args[0];\n        if (this.isSVG(src) && !this.support.svg && !this.options.allowTaint) {\n            return new SVGContainer(src);\n        } else if (src.match(/data:image\\/.*;base64,/i)) {\n            return new ImageContainer(src.replace(/url\\(['\"]{0,}|['\"]{0,}\\)$/ig, ''), false);\n        } else if (this.isSameOrigin(src) || this.options.allowTaint === true || this.isSVG(src)) {\n            return new ImageContainer(src, false);\n        } else if (this.support.cors && !this.options.allowTaint && this.options.useCORS) {\n            return new ImageContainer(src, true);\n        } else if (this.options.proxy) {\n            return new ProxyImageContainer(src, this.options.proxy);\n        } else {\n            return new DummyImageContainer(src);\n        }\n    } else if (imageData.method === \"linear-gradient\") {\n        return new LinearGradientContainer(imageData);\n    } else if (imageData.method === \"gradient\") {\n        return new WebkitGradientContainer(imageData);\n    } else if (imageData.method === \"svg\") {\n        return new SVGNodeContainer(imageData.args[0], this.support.svg);\n    } else if (imageData.method === \"IFRAME\") {\n        return new FrameContainer(imageData.args[0], this.isSameOrigin(imageData.args[0].src), this.options);\n    } else {\n        return new DummyImageContainer(imageData);\n    }\n};\n\nImageLoader.prototype.isSVG = function(src) {\n    return src.substring(src.length - 3).toLowerCase() === \"svg\" || SVGContainer.prototype.isInline(src);\n};\n\nImageLoader.prototype.imageExists = function(images, src) {\n    return images.some(function(image) {\n        return image.src === src;\n    });\n};\n\nImageLoader.prototype.isSameOrigin = function(url) {\n    return (this.getOrigin(url) === this.origin);\n};\n\nImageLoader.prototype.getOrigin = function(url) {\n    var link = this.link || (this.link = document.createElement(\"a\"));\n    link.href = url;\n    link.href = link.href; // IE9, LOL! - http://jsfiddle.net/niklasvh/2e48b/\n    return link.protocol + link.hostname + link.port;\n};\n\nImageLoader.prototype.getPromise = function(container) {\n    return this.timeout(container, this.options.imageTimeout)['catch'](function() {\n        var dummy = new DummyImageContainer(container.src);\n        return dummy.promise.then(function(image) {\n            container.image = image;\n        });\n    });\n};\n\nImageLoader.prototype.get = function(src) {\n    var found = null;\n    return this.images.some(function(img) {\n        return (found = img).src === src;\n    }) ? found : null;\n};\n\nImageLoader.prototype.fetch = function(nodes) {\n    this.images = nodes.reduce(bind(this.findBackgroundImage, this), this.findImages(nodes));\n    this.images.forEach(function(image, index) {\n        image.promise.then(function() {\n            log(\"Succesfully loaded image #\"+ (index+1), image);\n        }, function(e) {\n            log(\"Failed loading image #\"+ (index+1), image, e);\n        });\n    });\n    this.ready = Promise.all(this.images.map(this.getPromise, this));\n    log(\"Finished searching images\");\n    return this;\n};\n\nImageLoader.prototype.timeout = function(container, timeout) {\n    var timer;\n    var promise = Promise.race([container.promise, new Promise(function(res, reject) {\n        timer = setTimeout(function() {\n            log(\"Timed out loading image\", container);\n            reject(container);\n        }, timeout);\n    })]).then(function(container) {\n        clearTimeout(timer);\n        return container;\n    });\n    promise['catch'](function() {\n        clearTimeout(timer);\n    });\n    return promise;\n};\n\nmodule.exports = ImageLoader;\n\n},{\"./dummyimagecontainer\":5,\"./framecontainer\":8,\"./imagecontainer\":10,\"./lineargradientcontainer\":12,\"./log\":13,\"./proxyimagecontainer\":17,\"./svgcontainer\":23,\"./svgnodecontainer\":24,\"./utils\":26,\"./webkitgradientcontainer\":27}],12:[function(_dereq_,module,exports){\nvar GradientContainer = _dereq_('./gradientcontainer');\nvar Color = _dereq_('./color');\n\nfunction LinearGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = GradientContainer.TYPES.LINEAR;\n\n    var hasDirection = LinearGradientContainer.REGEXP_DIRECTION.test( imageData.args[0] ) ||\n        !GradientContainer.REGEXP_COLORSTOP.test( imageData.args[0] );\n\n    if (hasDirection) {\n        imageData.args[0].split(/\\s+/).reverse().forEach(function(position, index) {\n            switch(position) {\n            case \"left\":\n                this.x0 = 0;\n                this.x1 = 1;\n                break;\n            case \"top\":\n                this.y0 = 0;\n                this.y1 = 1;\n                break;\n            case \"right\":\n                this.x0 = 1;\n                this.x1 = 0;\n                break;\n            case \"bottom\":\n                this.y0 = 1;\n                this.y1 = 0;\n                break;\n            case \"to\":\n                var y0 = this.y0;\n                var x0 = this.x0;\n                this.y0 = this.y1;\n                this.x0 = this.x1;\n                this.x1 = x0;\n                this.y1 = y0;\n                break;\n            case \"center\":\n                break; // centered by default\n            // Firefox internally converts position keywords to percentages:\n            // http://www.w3.org/TR/2010/WD-CSS2-20101207/colors.html#propdef-background-position\n            default: // percentage or absolute length\n                // TODO: support absolute start point positions (e.g., use bounds to convert px to a ratio)\n                var ratio = parseFloat(position, 10) * 1e-2;\n                if (isNaN(ratio)) { // invalid or unhandled value\n                    break;\n                }\n                if (index === 0) {\n                    this.y0 = ratio;\n                    this.y1 = 1 - this.y0;\n                } else {\n                    this.x0 = ratio;\n                    this.x1 = 1 - this.x0;\n                }\n                break;\n            }\n        }, this);\n    } else {\n        this.y0 = 0;\n        this.y1 = 1;\n    }\n\n    this.colorStops = imageData.args.slice(hasDirection ? 1 : 0).map(function(colorStop) {\n        var colorStopMatch = colorStop.match(GradientContainer.REGEXP_COLORSTOP);\n        var value = +colorStopMatch[2];\n        var unit = value === 0 ? \"%\" : colorStopMatch[3]; // treat \"0\" as \"0%\"\n        return {\n            color: new Color(colorStopMatch[1]),\n            // TODO: support absolute stop positions (e.g., compute gradient line length & convert px to ratio)\n            stop: unit === \"%\" ? value / 100 : null\n        };\n    });\n\n    if (this.colorStops[0].stop === null) {\n        this.colorStops[0].stop = 0;\n    }\n\n    if (this.colorStops[this.colorStops.length - 1].stop === null) {\n        this.colorStops[this.colorStops.length - 1].stop = 1;\n    }\n\n    // calculates and fills-in explicit stop positions when omitted from rule\n    this.colorStops.forEach(function(colorStop, index) {\n        if (colorStop.stop === null) {\n            this.colorStops.slice(index).some(function(find, count) {\n                if (find.stop !== null) {\n                    colorStop.stop = ((find.stop - this.colorStops[index - 1].stop) / (count + 1)) + this.colorStops[index - 1].stop;\n                    return true;\n                } else {\n                    return false;\n                }\n            }, this);\n        }\n    }, this);\n}\n\nLinearGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\n// TODO: support <angle> (e.g. -?\\d{1,3}(?:\\.\\d+)deg, etc. : https://developer.mozilla.org/docs/Web/CSS/angle )\nLinearGradientContainer.REGEXP_DIRECTION = /^\\s*(?:to|left|right|top|bottom|center|\\d{1,3}(?:\\.\\d+)?%?)(?:\\s|$)/i;\n\nmodule.exports = LinearGradientContainer;\n\n},{\"./color\":3,\"./gradientcontainer\":9}],13:[function(_dereq_,module,exports){\nvar logger = function() {\n    if (logger.options.logging && window.console && window.console.log) {\n        Function.prototype.bind.call(window.console.log, (window.console)).apply(window.console, [(Date.now() - logger.options.start) + \"ms\", \"html2canvas:\"].concat([].slice.call(arguments, 0)));\n    }\n};\n\nlogger.options = {logging: false};\nmodule.exports = logger;\n\n},{}],14:[function(_dereq_,module,exports){\nvar Color = _dereq_('./color');\nvar utils = _dereq_('./utils');\nvar getBounds = utils.getBounds;\nvar parseBackgrounds = utils.parseBackgrounds;\nvar offsetBounds = utils.offsetBounds;\n\nfunction NodeContainer(node, parent) {\n    this.node = node;\n    this.parent = parent;\n    this.stack = null;\n    this.bounds = null;\n    this.borders = null;\n    this.clip = [];\n    this.backgroundClip = [];\n    this.offsetBounds = null;\n    this.visible = null;\n    this.computedStyles = null;\n    this.colors = {};\n    this.styles = {};\n    this.backgroundImages = null;\n    this.transformData = null;\n    this.transformMatrix = null;\n    this.isPseudoElement = false;\n    this.opacity = null;\n}\n\nNodeContainer.prototype.cloneTo = function(stack) {\n    stack.visible = this.visible;\n    stack.borders = this.borders;\n    stack.bounds = this.bounds;\n    stack.clip = this.clip;\n    stack.backgroundClip = this.backgroundClip;\n    stack.computedStyles = this.computedStyles;\n    stack.styles = this.styles;\n    stack.backgroundImages = this.backgroundImages;\n    stack.opacity = this.opacity;\n};\n\nNodeContainer.prototype.getOpacity = function() {\n    return this.opacity === null ? (this.opacity = this.cssFloat('opacity')) : this.opacity;\n};\n\nNodeContainer.prototype.assignStack = function(stack) {\n    this.stack = stack;\n    stack.children.push(this);\n};\n\nNodeContainer.prototype.isElementVisible = function() {\n    return this.node.nodeType === Node.TEXT_NODE ? this.parent.visible : (\n        this.css('display') !== \"none\" &&\n        this.css('visibility') !== \"hidden\" &&\n        !this.node.hasAttribute(\"data-html2canvas-ignore\") &&\n        (this.node.nodeName !== \"INPUT\" || this.node.getAttribute(\"type\") !== \"hidden\")\n    );\n};\n\nNodeContainer.prototype.css = function(attribute) {\n    if (!this.computedStyles) {\n        this.computedStyles = this.isPseudoElement ? this.parent.computedStyle(this.before ? \":before\" : \":after\") : this.computedStyle(null);\n    }\n\n    return this.styles[attribute] || (this.styles[attribute] = this.computedStyles[attribute]);\n};\n\nNodeContainer.prototype.prefixedCss = function(attribute) {\n    var prefixes = [\"webkit\", \"moz\", \"ms\", \"o\"];\n    var value = this.css(attribute);\n    if (value === undefined) {\n        prefixes.some(function(prefix) {\n            value = this.css(prefix + attribute.substr(0, 1).toUpperCase() + attribute.substr(1));\n            return value !== undefined;\n        }, this);\n    }\n    return value === undefined ? null : value;\n};\n\nNodeContainer.prototype.computedStyle = function(type) {\n    return this.node.ownerDocument.defaultView.getComputedStyle(this.node, type);\n};\n\nNodeContainer.prototype.cssInt = function(attribute) {\n    var value = parseInt(this.css(attribute), 10);\n    return (isNaN(value)) ? 0 : value; // borders in old IE are throwing 'medium' for demo.html\n};\n\nNodeContainer.prototype.color = function(attribute) {\n    return this.colors[attribute] || (this.colors[attribute] = new Color(this.css(attribute)));\n};\n\nNodeContainer.prototype.cssFloat = function(attribute) {\n    var value = parseFloat(this.css(attribute));\n    return (isNaN(value)) ? 0 : value;\n};\n\nNodeContainer.prototype.fontWeight = function() {\n    var weight = this.css(\"fontWeight\");\n    switch(parseInt(weight, 10)){\n    case 401:\n        weight = \"bold\";\n        break;\n    case 400:\n        weight = \"normal\";\n        break;\n    }\n    return weight;\n};\n\nNodeContainer.prototype.parseClip = function() {\n    var matches = this.css('clip').match(this.CLIP);\n    if (matches) {\n        return {\n            top: parseInt(matches[1], 10),\n            right: parseInt(matches[2], 10),\n            bottom: parseInt(matches[3], 10),\n            left: parseInt(matches[4], 10)\n        };\n    }\n    return null;\n};\n\nNodeContainer.prototype.parseBackgroundImages = function() {\n    return this.backgroundImages || (this.backgroundImages = parseBackgrounds(this.css(\"backgroundImage\")));\n};\n\nNodeContainer.prototype.cssList = function(property, index) {\n    var value = (this.css(property) || '').split(',');\n    value = value[index || 0] || value[0] || 'auto';\n    value = value.trim().split(' ');\n    if (value.length === 1) {\n        value = [value[0], isPercentage(value[0]) ? 'auto' : value[0]];\n    }\n    return value;\n};\n\nNodeContainer.prototype.parseBackgroundSize = function(bounds, image, index) {\n    var size = this.cssList(\"backgroundSize\", index);\n    var width, height;\n\n    if (isPercentage(size[0])) {\n        width = bounds.width * parseFloat(size[0]) / 100;\n    } else if (/contain|cover/.test(size[0])) {\n        var targetRatio = bounds.width / bounds.height, currentRatio = image.width / image.height;\n        return (targetRatio < currentRatio ^ size[0] === 'contain') ?  {width: bounds.height * currentRatio, height: bounds.height} : {width: bounds.width, height: bounds.width / currentRatio};\n    } else {\n        width = parseInt(size[0], 10);\n    }\n\n    if (size[0] === 'auto' && size[1] === 'auto') {\n        height = image.height;\n    } else if (size[1] === 'auto') {\n        height = width / image.width * image.height;\n    } else if (isPercentage(size[1])) {\n        height =  bounds.height * parseFloat(size[1]) / 100;\n    } else {\n        height = parseInt(size[1], 10);\n    }\n\n    if (size[0] === 'auto') {\n        width = height / image.height * image.width;\n    }\n\n    return {width: width, height: height};\n};\n\nNodeContainer.prototype.parseBackgroundPosition = function(bounds, image, index, backgroundSize) {\n    var position = this.cssList('backgroundPosition', index);\n    var left, top;\n\n    if (isPercentage(position[0])){\n        left = (bounds.width - (backgroundSize || image).width) * (parseFloat(position[0]) / 100);\n    } else {\n        left = parseInt(position[0], 10);\n    }\n\n    if (position[1] === 'auto') {\n        top = left / image.width * image.height;\n    } else if (isPercentage(position[1])){\n        top =  (bounds.height - (backgroundSize || image).height) * parseFloat(position[1]) / 100;\n    } else {\n        top = parseInt(position[1], 10);\n    }\n\n    if (position[0] === 'auto') {\n        left = top / image.height * image.width;\n    }\n\n    return {left: left, top: top};\n};\n\nNodeContainer.prototype.parseBackgroundRepeat = function(index) {\n    return this.cssList(\"backgroundRepeat\", index)[0];\n};\n\nNodeContainer.prototype.parseTextShadows = function() {\n    var textShadow = this.css(\"textShadow\");\n    var results = [];\n\n    if (textShadow && textShadow !== 'none') {\n        var shadows = textShadow.match(this.TEXT_SHADOW_PROPERTY);\n        for (var i = 0; shadows && (i < shadows.length); i++) {\n            var s = shadows[i].match(this.TEXT_SHADOW_VALUES);\n            results.push({\n                color: new Color(s[0]),\n                offsetX: s[1] ? parseFloat(s[1].replace('px', '')) : 0,\n                offsetY: s[2] ? parseFloat(s[2].replace('px', '')) : 0,\n                blur: s[3] ? s[3].replace('px', '') : 0\n            });\n        }\n    }\n    return results;\n};\n\nNodeContainer.prototype.parseTransform = function() {\n    if (!this.transformData) {\n        if (this.hasTransform()) {\n            var offset = this.parseBounds();\n            var origin = this.prefixedCss(\"transformOrigin\").split(\" \").map(removePx).map(asFloat);\n            origin[0] += offset.left;\n            origin[1] += offset.top;\n            this.transformData = {\n                origin: origin,\n                matrix: this.parseTransformMatrix()\n            };\n        } else {\n            this.transformData = {\n                origin: [0, 0],\n                matrix: [1, 0, 0, 1, 0, 0]\n            };\n        }\n    }\n    return this.transformData;\n};\n\nNodeContainer.prototype.parseTransformMatrix = function() {\n    if (!this.transformMatrix) {\n        var transform = this.prefixedCss(\"transform\");\n        var matrix = transform ? parseMatrix(transform.match(this.MATRIX_PROPERTY)) : null;\n        this.transformMatrix = matrix ? matrix : [1, 0, 0, 1, 0, 0];\n    }\n    return this.transformMatrix;\n};\n\nNodeContainer.prototype.inverseTransform = function() {\n    var transformData = this.parseTransform();\n    return { origin: transformData.origin, matrix: matrixInverse(transformData.matrix) };\n};\n\nNodeContainer.prototype.parseBounds = function() {\n    return this.bounds || (this.bounds = this.hasTransform() ? offsetBounds(this.node) : getBounds(this.node));\n};\n\nNodeContainer.prototype.hasTransform = function() {\n    return this.parseTransformMatrix().join(\",\") !== \"1,0,0,1,0,0\" || (this.parent && this.parent.hasTransform());\n};\n\nNodeContainer.prototype.getValue = function() {\n    var value = this.node.value || \"\";\n    if (this.node.tagName === \"SELECT\") {\n        value = selectionValue(this.node);\n    } else if (this.node.type === \"password\") {\n        value = Array(value.length + 1).join('\\u2022'); // jshint ignore:line\n    }\n    return value.length === 0 ? (this.node.placeholder || \"\") : value;\n};\n\nNodeContainer.prototype.MATRIX_PROPERTY = /(matrix|matrix3d)\\((.+)\\)/;\nNodeContainer.prototype.TEXT_SHADOW_PROPERTY = /((rgba|rgb)\\([^\\)]+\\)(\\s-?\\d+px){0,})/g;\nNodeContainer.prototype.TEXT_SHADOW_VALUES = /(-?\\d+px)|(#.+)|(rgb\\(.+\\))|(rgba\\(.+\\))/g;\nNodeContainer.prototype.CLIP = /^rect\\((\\d+)px,? (\\d+)px,? (\\d+)px,? (\\d+)px\\)$/;\n\nfunction selectionValue(node) {\n    var option = node.options[node.selectedIndex || 0];\n    return option ? (option.text || \"\") : \"\";\n}\n\nfunction parseMatrix(match) {\n    if (match && match[1] === \"matrix\") {\n        return match[2].split(\",\").map(function(s) {\n            return parseFloat(s.trim());\n        });\n    } else if (match && match[1] === \"matrix3d\") {\n        var matrix3d = match[2].split(\",\").map(function(s) {\n          return parseFloat(s.trim());\n        });\n        return [matrix3d[0], matrix3d[1], matrix3d[4], matrix3d[5], matrix3d[12], matrix3d[13]];\n    }\n}\n\nfunction matrixInverse(m) {\n    // This is programmed specifically for transform matrices, which have a fixed structure.\n    var a = m[0], b = m[2], c = m[4], d = m[1], e = m[3], f = m[5];\n    var det = a*e - b*d;\n    var M = [e, -d, -b, a, b*f-c*e, c*d-a*f].map(function(val) { return val/det; });\n    return M;\n}\n\nfunction isPercentage(value) {\n    return value.toString().indexOf(\"%\") !== -1;\n}\n\nfunction removePx(str) {\n    return str.replace(\"px\", \"\");\n}\n\nfunction asFloat(str) {\n    return parseFloat(str);\n}\n\nmodule.exports = NodeContainer;\n\n},{\"./color\":3,\"./utils\":26}],15:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\nvar punycode = _dereq_('punycode');\nvar NodeContainer = _dereq_('./nodecontainer');\nvar TextContainer = _dereq_('./textcontainer');\nvar PseudoElementContainer = _dereq_('./pseudoelementcontainer');\nvar FontMetrics = _dereq_('./fontmetrics');\nvar Color = _dereq_('./color');\nvar StackingContext = _dereq_('./stackingcontext');\nvar utils = _dereq_('./utils');\nvar bind = utils.bind;\nvar getBounds = utils.getBounds;\nvar parseBackgrounds = utils.parseBackgrounds;\nvar offsetBounds = utils.offsetBounds;\n\nfunction NodeParser(element, renderer, support, imageLoader, options) {\n    log(\"Starting NodeParser\");\n    this.renderer = renderer;\n    this.options = options;\n    this.range = null;\n    this.support = support;\n    this.renderQueue = [];\n    this.stack = new StackingContext(true, 1, element.ownerDocument, null);\n    var parent = new NodeContainer(element, null);\n    if (options.background) {\n        renderer.rectangle(0, 0, renderer.width, renderer.height, new Color(options.background));\n    }\n    if (element === element.ownerDocument.documentElement) {\n        // http://www.w3.org/TR/css3-background/#special-backgrounds\n        var canvasBackground = new NodeContainer(parent.color('backgroundColor').isTransparent() ? element.ownerDocument.body : element.ownerDocument.documentElement, null);\n        renderer.rectangle(0, 0, renderer.width, renderer.height, canvasBackground.color('backgroundColor'));\n    }\n    parent.visibile = parent.isElementVisible();\n    this.createPseudoHideStyles(element.ownerDocument);\n    this.disableAnimations(element.ownerDocument);\n    this.nodes = flatten([parent].concat(this.getChildren(parent)).filter(function(container) {\n        return container.visible = container.isElementVisible();\n    }).map(this.getPseudoElements, this));\n    this.fontMetrics = new FontMetrics();\n    log(\"Fetched nodes, total:\", this.nodes.length);\n    log(\"Calculate overflow clips\");\n    this.calculateOverflowClips();\n    log(\"Start fetching images\");\n    this.images = imageLoader.fetch(this.nodes.filter(isElement));\n    this.ready = this.images.ready.then(bind(function() {\n        log(\"Images loaded, starting parsing\");\n        log(\"Creating stacking contexts\");\n        this.createStackingContexts();\n        log(\"Sorting stacking contexts\");\n        this.sortStackingContexts(this.stack);\n        this.parse(this.stack);\n        log(\"Render queue created with \" + this.renderQueue.length + \" items\");\n        return new Promise(bind(function(resolve) {\n            if (!options.async) {\n                this.renderQueue.forEach(this.paint, this);\n                resolve();\n            } else if (typeof(options.async) === \"function\") {\n                options.async.call(this, this.renderQueue, resolve);\n            } else if (this.renderQueue.length > 0){\n                this.renderIndex = 0;\n                this.asyncRenderer(this.renderQueue, resolve);\n            } else {\n                resolve();\n            }\n        }, this));\n    }, this));\n}\n\nNodeParser.prototype.calculateOverflowClips = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container)) {\n            if (isPseudoElement(container)) {\n                container.appendToDOM();\n            }\n            container.borders = this.parseBorders(container);\n            var clip = (container.css('overflow') === \"hidden\") ? [container.borders.clip] : [];\n            var cssClip = container.parseClip();\n            if (cssClip && [\"absolute\", \"fixed\"].indexOf(container.css('position')) !== -1) {\n                clip.push([[\"rect\",\n                        container.bounds.left + cssClip.left,\n                        container.bounds.top + cssClip.top,\n                        cssClip.right - cssClip.left,\n                        cssClip.bottom - cssClip.top\n                ]]);\n            }\n            container.clip = hasParentClip(container) ? container.parent.clip.concat(clip) : clip;\n            container.backgroundClip = (container.css('overflow') !== \"hidden\") ? container.clip.concat([container.borders.clip]) : container.clip;\n            if (isPseudoElement(container)) {\n                container.cleanDOM();\n            }\n        } else if (isTextNode(container)) {\n            container.clip = hasParentClip(container) ? container.parent.clip : [];\n        }\n        if (!isPseudoElement(container)) {\n            container.bounds = null;\n        }\n    }, this);\n};\n\nfunction hasParentClip(container) {\n    return container.parent && container.parent.clip.length;\n}\n\nNodeParser.prototype.asyncRenderer = function(queue, resolve, asyncTimer) {\n    asyncTimer = asyncTimer || Date.now();\n    this.paint(queue[this.renderIndex++]);\n    if (queue.length === this.renderIndex) {\n        resolve();\n    } else if (asyncTimer + 20 > Date.now()) {\n        this.asyncRenderer(queue, resolve, asyncTimer);\n    } else {\n        setTimeout(bind(function() {\n            this.asyncRenderer(queue, resolve);\n        }, this), 0);\n    }\n};\n\nNodeParser.prototype.createPseudoHideStyles = function(document) {\n    this.createStyles(document, '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + ':before { content: \"\" !important; display: none !important; }' +\n        '.' + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER + ':after { content: \"\" !important; display: none !important; }');\n};\n\nNodeParser.prototype.disableAnimations = function(document) {\n    this.createStyles(document, '* { -webkit-animation: none !important; -moz-animation: none !important; -o-animation: none !important; animation: none !important; ' +\n        '-webkit-transition: none !important; -moz-transition: none !important; -o-transition: none !important; transition: none !important;}');\n};\n\nNodeParser.prototype.createStyles = function(document, styles) {\n    var hidePseudoElements = document.createElement('style');\n    hidePseudoElements.innerHTML = styles;\n    document.body.appendChild(hidePseudoElements);\n};\n\nNodeParser.prototype.getPseudoElements = function(container) {\n    var nodes = [[container]];\n    if (container.node.nodeType === Node.ELEMENT_NODE) {\n        var before = this.getPseudoElement(container, \":before\");\n        var after = this.getPseudoElement(container, \":after\");\n\n        if (before) {\n            nodes.push(before);\n        }\n\n        if (after) {\n            nodes.push(after);\n        }\n    }\n    return flatten(nodes);\n};\n\nfunction toCamelCase(str) {\n    return str.replace(/(\\-[a-z])/g, function(match){\n        return match.toUpperCase().replace('-','');\n    });\n}\n\nNodeParser.prototype.getPseudoElement = function(container, type) {\n    var style = container.computedStyle(type);\n    if(!style || !style.content || style.content === \"none\" || style.content === \"-moz-alt-content\" || style.display === \"none\") {\n        return null;\n    }\n\n    var content = stripQuotes(style.content);\n    var isImage = content.substr(0, 3) === 'url';\n    var pseudoNode = document.createElement(isImage ? 'img' : 'html2canvaspseudoelement');\n    var pseudoContainer = new PseudoElementContainer(pseudoNode, container, type);\n\n    for (var i = style.length-1; i >= 0; i--) {\n        var property = toCamelCase(style.item(i));\n        pseudoNode.style[property] = style[property];\n    }\n\n    pseudoNode.className = PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE + \" \" + PseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER;\n\n    if (isImage) {\n        pseudoNode.src = parseBackgrounds(content)[0].args[0];\n        return [pseudoContainer];\n    } else {\n        var text = document.createTextNode(content);\n        pseudoNode.appendChild(text);\n        return [pseudoContainer, new TextContainer(text, pseudoContainer)];\n    }\n};\n\n\nNodeParser.prototype.getChildren = function(parentContainer) {\n    return flatten([].filter.call(parentContainer.node.childNodes, renderableNode).map(function(node) {\n        var container = [node.nodeType === Node.TEXT_NODE ? new TextContainer(node, parentContainer) : new NodeContainer(node, parentContainer)].filter(nonIgnoredElement);\n        return node.nodeType === Node.ELEMENT_NODE && container.length && node.tagName !== \"TEXTAREA\" ? (container[0].isElementVisible() ? container.concat(this.getChildren(container[0])) : []) : container;\n    }, this));\n};\n\nNodeParser.prototype.newStackingContext = function(container, hasOwnStacking) {\n    var stack = new StackingContext(hasOwnStacking, container.getOpacity(), container.node, container.parent);\n    container.cloneTo(stack);\n    var parentStack = hasOwnStacking ? stack.getParentStack(this) : stack.parent.stack;\n    parentStack.contexts.push(stack);\n    container.stack = stack;\n};\n\nNodeParser.prototype.createStackingContexts = function() {\n    this.nodes.forEach(function(container) {\n        if (isElement(container) && (this.isRootElement(container) || hasOpacity(container) || isPositionedForStacking(container) || this.isBodyWithTransparentRoot(container) || container.hasTransform())) {\n            this.newStackingContext(container, true);\n        } else if (isElement(container) && ((isPositioned(container) && zIndex0(container)) || isInlineBlock(container) || isFloating(container))) {\n            this.newStackingContext(container, false);\n        } else {\n            container.assignStack(container.parent.stack);\n        }\n    }, this);\n};\n\nNodeParser.prototype.isBodyWithTransparentRoot = function(container) {\n    return container.node.nodeName === \"BODY\" && container.parent.color('backgroundColor').isTransparent();\n};\n\nNodeParser.prototype.isRootElement = function(container) {\n    return container.parent === null;\n};\n\nNodeParser.prototype.sortStackingContexts = function(stack) {\n    stack.contexts.sort(zIndexSort(stack.contexts.slice(0)));\n    stack.contexts.forEach(this.sortStackingContexts, this);\n};\n\nNodeParser.prototype.parseTextBounds = function(container) {\n    return function(text, index, textList) {\n        if (container.parent.css(\"textDecoration\").substr(0, 4) !== \"none\" || text.trim().length !== 0) {\n            if (this.support.rangeBounds && !container.parent.hasTransform()) {\n                var offset = textList.slice(0, index).join(\"\").length;\n                return this.getRangeBounds(container.node, offset, text.length);\n            } else if (container.node && typeof(container.node.data) === \"string\") {\n                var replacementNode = container.node.splitText(text.length);\n                var bounds = this.getWrapperBounds(container.node, container.parent.hasTransform());\n                container.node = replacementNode;\n                return bounds;\n            }\n        } else if(!this.support.rangeBounds || container.parent.hasTransform()){\n            container.node = container.node.splitText(text.length);\n        }\n        return {};\n    };\n};\n\nNodeParser.prototype.getWrapperBounds = function(node, transform) {\n    var wrapper = node.ownerDocument.createElement('html2canvaswrapper');\n    var parent = node.parentNode,\n        backupText = node.cloneNode(true);\n\n    wrapper.appendChild(node.cloneNode(true));\n    parent.replaceChild(wrapper, node);\n    var bounds = transform ? offsetBounds(wrapper) : getBounds(wrapper);\n    parent.replaceChild(backupText, wrapper);\n    return bounds;\n};\n\nNodeParser.prototype.getRangeBounds = function(node, offset, length) {\n    var range = this.range || (this.range = node.ownerDocument.createRange());\n    range.setStart(node, offset);\n    range.setEnd(node, offset + length);\n    return range.getBoundingClientRect();\n};\n\nfunction ClearTransform() {}\n\nNodeParser.prototype.parse = function(stack) {\n    // http://www.w3.org/TR/CSS21/visuren.html#z-index\n    var negativeZindex = stack.contexts.filter(negativeZIndex); // 2. the child stacking contexts with negative stack levels (most negative first).\n    var descendantElements = stack.children.filter(isElement);\n    var descendantNonFloats = descendantElements.filter(not(isFloating));\n    var nonInlineNonPositionedDescendants = descendantNonFloats.filter(not(isPositioned)).filter(not(inlineLevel)); // 3 the in-flow, non-inline-level, non-positioned descendants.\n    var nonPositionedFloats = descendantElements.filter(not(isPositioned)).filter(isFloating); // 4. the non-positioned floats.\n    var inFlow = descendantNonFloats.filter(not(isPositioned)).filter(inlineLevel); // 5. the in-flow, inline-level, non-positioned descendants, including inline tables and inline blocks.\n    var stackLevel0 = stack.contexts.concat(descendantNonFloats.filter(isPositioned)).filter(zIndex0); // 6. the child stacking contexts with stack level 0 and the positioned descendants with stack level 0.\n    var text = stack.children.filter(isTextNode).filter(hasText);\n    var positiveZindex = stack.contexts.filter(positiveZIndex); // 7. the child stacking contexts with positive stack levels (least positive first).\n    negativeZindex.concat(nonInlineNonPositionedDescendants).concat(nonPositionedFloats)\n        .concat(inFlow).concat(stackLevel0).concat(text).concat(positiveZindex).forEach(function(container) {\n            this.renderQueue.push(container);\n            if (isStackingContext(container)) {\n                this.parse(container);\n                this.renderQueue.push(new ClearTransform());\n            }\n        }, this);\n};\n\nNodeParser.prototype.paint = function(container) {\n    try {\n        if (container instanceof ClearTransform) {\n            this.renderer.ctx.restore();\n        } else if (isTextNode(container)) {\n            if (isPseudoElement(container.parent)) {\n                container.parent.appendToDOM();\n            }\n            this.paintText(container);\n            if (isPseudoElement(container.parent)) {\n                container.parent.cleanDOM();\n            }\n        } else {\n            this.paintNode(container);\n        }\n    } catch(e) {\n        log(e);\n        if (this.options.strict) {\n            throw e;\n        }\n    }\n};\n\nNodeParser.prototype.paintNode = function(container) {\n    if (isStackingContext(container)) {\n        this.renderer.setOpacity(container.opacity);\n        this.renderer.ctx.save();\n        if (container.hasTransform()) {\n            this.renderer.setTransform(container.parseTransform());\n        }\n    }\n\n    if (container.node.nodeName === \"INPUT\" && container.node.type === \"checkbox\") {\n        this.paintCheckbox(container);\n    } else if (container.node.nodeName === \"INPUT\" && container.node.type === \"radio\") {\n        this.paintRadio(container);\n    } else {\n        this.paintElement(container);\n    }\n};\n\nNodeParser.prototype.paintElement = function(container) {\n    var bounds = container.parseBounds();\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.renderBackground(container, bounds, container.borders.borders.map(getWidth));\n    }, this, container);\n\n    this.renderer.mask(container.backgroundClip, function() {\n        this.renderer.renderShadows(container, container.borders.clip);\n    }, this, container);\n\n    this.renderer.clip(container.clip, function() {\n        this.renderer.renderBorders(container.borders.borders);\n    }, this, container);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        switch (container.node.nodeName) {\n        case \"svg\":\n        case \"IFRAME\":\n            var imgContainer = this.images.get(container.node);\n            if (imgContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imgContainer);\n            } else {\n                log(\"Error loading <\" + container.node.nodeName + \">\", container.node);\n            }\n            break;\n        case \"IMG\":\n            var imageContainer = this.images.get(container.node.src);\n            if (imageContainer) {\n                this.renderer.renderImage(container, bounds, container.borders, imageContainer);\n            } else {\n                log(\"Error loading <img>\", container.node.src);\n            }\n            break;\n        case \"CANVAS\":\n            this.renderer.renderImage(container, bounds, container.borders, {image: container.node});\n            break;\n        case \"SELECT\":\n        case \"INPUT\":\n        case \"TEXTAREA\":\n            this.paintFormValue(container);\n            break;\n        }\n    }, this, container);\n};\n\nNodeParser.prototype.paintCheckbox = function(container) {\n    var b = container.parseBounds();\n\n    var size = Math.min(b.width, b.height);\n    var bounds = {width: size - 1, height: size - 1, top: b.top, left: b.left};\n    var r = [3, 3];\n    var radius = [r, r, r, r];\n    var borders = [1,1,1,1].map(function(w) {\n        return {color: new Color('#A5A5A5'), width: w};\n    });\n\n    var borderPoints = calculateCurvePoints(bounds, radius, borders);\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.rectangle(bounds.left + 1, bounds.top + 1, bounds.width - 2, bounds.height - 2, new Color(\"#DEDEDE\"));\n        this.renderer.renderBorders(calculateBorders(borders, bounds, borderPoints, radius));\n        if (container.node.checked) {\n            this.renderer.font(new Color('#424242'), 'normal', 'normal', 'bold', (size - 3) + \"px\", 'arial');\n            this.renderer.text(\"\\u2714\", bounds.left + size / 6, bounds.top + size - 1);\n        }\n    }, this, container);\n};\n\nNodeParser.prototype.paintRadio = function(container) {\n    var bounds = container.parseBounds();\n\n    var size = Math.min(bounds.width, bounds.height) - 2;\n\n    this.renderer.clip(container.backgroundClip, function() {\n        this.renderer.circleStroke(bounds.left + 1, bounds.top + 1, size, new Color('#DEDEDE'), 1, new Color('#A5A5A5'));\n        if (container.node.checked) {\n            this.renderer.circle(Math.ceil(bounds.left + size / 4) + 1, Math.ceil(bounds.top + size / 4) + 1, Math.floor(size / 2), new Color('#424242'));\n        }\n    }, this, container);\n};\n\nNodeParser.prototype.paintFormValue = function(container) {\n    var value = container.getValue();\n    if (value.length > 0) {\n        var document = container.node.ownerDocument;\n        var wrapper = document.createElement('html2canvaswrapper');\n        var properties = ['lineHeight', 'textAlign', 'fontFamily', 'fontWeight', 'fontSize', 'color',\n            'paddingLeft', 'paddingTop', 'paddingRight', 'paddingBottom',\n            'width', 'height', 'borderLeftStyle', 'borderTopStyle', 'borderLeftWidth', 'borderTopWidth',\n            'boxSizing', 'whiteSpace', 'wordWrap'];\n\n        properties.forEach(function(property) {\n            try {\n                wrapper.style[property] = container.css(property);\n            } catch(e) {\n                // Older IE has issues with \"border\"\n                log(\"html2canvas: Parse: Exception caught in renderFormValue: \" + e.message);\n            }\n        });\n        var bounds = container.parseBounds();\n        wrapper.style.position = \"fixed\";\n        wrapper.style.left = bounds.left + \"px\";\n        wrapper.style.top = bounds.top + \"px\";\n        wrapper.textContent = value;\n        document.body.appendChild(wrapper);\n        this.paintText(new TextContainer(wrapper.firstChild, container));\n        document.body.removeChild(wrapper);\n    }\n};\n\nNodeParser.prototype.paintText = function(container) {\n    container.applyTextTransform();\n    var characters = punycode.ucs2.decode(container.node.data);\n    var wordRendering = (!this.options.letterRendering || noLetterSpacing(container)) && !hasUnicode(container.node.data);\n    var textList = wordRendering ? getWords(characters) : characters.map(function(character) {\n        return punycode.ucs2.encode([character]);\n    });\n    if (!wordRendering) {\n        container.parent.node.style.fontVariantLigatures = 'none';\n    }\n\n    var weight = container.parent.fontWeight();\n    var size = container.parent.css('fontSize');\n    var family = container.parent.css('fontFamily');\n    var shadows = container.parent.parseTextShadows();\n\n    this.renderer.font(container.parent.color('color'), container.parent.css('fontStyle'), container.parent.css('fontVariant'), weight, size, family);\n    if (shadows.length) {\n        // TODO: support multiple text shadows\n        this.renderer.fontShadow(shadows[0].color, shadows[0].offsetX, shadows[0].offsetY, shadows[0].blur);\n    } else {\n        this.renderer.clearShadow();\n    }\n\n    this.renderer.clip(container.parent.clip, function() {\n        textList.map(this.parseTextBounds(container), this).forEach(function(bounds, index) {\n            if (bounds) {\n                this.renderer.text(textList[index], bounds.left, bounds.bottom);\n                this.renderTextDecoration(container.parent, bounds, this.fontMetrics.getMetrics(family, size));\n            }\n        }, this);\n    }, this, container.parent);\n};\n\nNodeParser.prototype.renderTextDecoration = function(container, bounds, metrics) {\n    switch(container.css(\"textDecoration\").split(\" \")[0]) {\n    case \"underline\":\n        // Draws a line at the baseline of the font\n        // TODO As some browsers display the line as more than 1px if the font-size is big, need to take that into account both in position and size\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top + metrics.baseline + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"overline\":\n        this.renderer.rectangle(bounds.left, Math.round(bounds.top), bounds.width, 1, container.color(\"color\"));\n        break;\n    case \"line-through\":\n        // TODO try and find exact position for line-through\n        this.renderer.rectangle(bounds.left, Math.ceil(bounds.top + metrics.middle + metrics.lineWidth), bounds.width, 1, container.color(\"color\"));\n        break;\n    }\n};\n\nvar borderColorTransforms = {\n    inset: [\n        [\"darken\", 0.60],\n        [\"darken\", 0.10],\n        [\"darken\", 0.10],\n        [\"darken\", 0.60]\n    ]\n};\n\nNodeParser.prototype.parseBorders = function(container) {\n    var nodeBounds = container.parseBounds();\n    var radius = getBorderRadiusData(container);\n    var borders = [\"Top\", \"Right\", \"Bottom\", \"Left\"].map(function(side, index) {\n        var style = container.css('border' + side + 'Style');\n        var color = container.color('border' + side + 'Color');\n        if (style === \"inset\" && color.isBlack()) {\n            color = new Color([255, 255, 255, color.a]); // this is wrong, but\n        }\n        var colorTransform = borderColorTransforms[style] ? borderColorTransforms[style][index] : null;\n        return {\n            width: container.cssInt('border' + side + 'Width'),\n            color: colorTransform ? color[colorTransform[0]](colorTransform[1]) : color,\n            style: style,\n            pathArgs: null,\n            args: null\n        };\n    });\n    var borderPoints = calculateCurvePoints(nodeBounds, radius, borders);\n\n    return {\n        clip: this.parseBackgroundClip(container, borderPoints, borders, radius, nodeBounds),\n        borders: calculateBorders(borders, nodeBounds, borderPoints, radius)\n    };\n};\n\nfunction calculateBorders(borders, nodeBounds, borderPoints, radius) {\n    var pathBounds = {\n        top: nodeBounds.top + borders[0].width/2,\n        right: nodeBounds.right - borders[1].width/2,\n        bottom: nodeBounds.bottom - borders[2].width/2,\n        left: nodeBounds.left + borders[3].width/2\n    };\n    return borders.map(function(border, borderSide) {\n        if (border.width > 0) {\n            var bx = nodeBounds.left;\n            var by = nodeBounds.top;\n            var bw = nodeBounds.width;\n            var bh = nodeBounds.height - (borders[2].width);\n\n            switch(borderSide) {\n            case 0:\n                // top border\n                bh = borders[0].width;\n                border.args = drawSide({\n                        c1: [bx, by],\n                        c2: [bx + bw, by],\n                        c3: [bx + bw - borders[1].width, by + bh],\n                        c4: [bx + borders[3].width, by + bh]\n                    }, radius[0], radius[1],\n                    borderPoints.topLeftOuter, borderPoints.topLeftInner, borderPoints.topRightOuter, borderPoints.topRightInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.left, pathBounds.top],\n                        c2: [pathBounds.right, pathBounds.top]\n                    }, radius[0], radius[1],\n                    borderPoints.topLeft, borderPoints.topRight);\n                break;\n            case 1:\n                // right border\n                bx = nodeBounds.left + nodeBounds.width - (borders[1].width);\n                bw = borders[1].width;\n\n                border.args = drawSide({\n                        c1: [bx + bw, by],\n                        c2: [bx + bw, by + bh + borders[2].width],\n                        c3: [bx, by + bh],\n                        c4: [bx, by + borders[0].width]\n                    }, radius[1], radius[2],\n                    borderPoints.topRightOuter, borderPoints.topRightInner, borderPoints.bottomRightOuter, borderPoints.bottomRightInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.right, pathBounds.top],\n                        c2: [pathBounds.right, pathBounds.bottom]\n                    }, radius[1], radius[2],\n                    borderPoints.topRight, borderPoints.bottomRight);\n                break;\n            case 2:\n                // bottom border\n                by = (by + nodeBounds.height) - (borders[2].width);\n                bh = borders[2].width;\n                border.args = drawSide({\n                        c1: [bx + bw, by + bh],\n                        c2: [bx, by + bh],\n                        c3: [bx + borders[3].width, by],\n                        c4: [bx + bw - borders[3].width, by]\n                    }, radius[2], radius[3],\n                    borderPoints.bottomRightOuter, borderPoints.bottomRightInner, borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.right, pathBounds.bottom],\n                        c2: [pathBounds.left, pathBounds.bottom]\n                    }, radius[2], radius[3],\n                    borderPoints.bottomRight, borderPoints.bottomLeft);\n                break;\n            case 3:\n                // left border\n                bw = borders[3].width;\n                border.args = drawSide({\n                        c1: [bx, by + bh + borders[2].width],\n                        c2: [bx, by],\n                        c3: [bx + bw, by + borders[0].width],\n                        c4: [bx + bw, by + bh]\n                    }, radius[3], radius[0],\n                    borderPoints.bottomLeftOuter, borderPoints.bottomLeftInner, borderPoints.topLeftOuter, borderPoints.topLeftInner);\n                border.pathArgs = drawSidePath({\n                        c1: [pathBounds.left, pathBounds.bottom],\n                        c2: [pathBounds.left, pathBounds.top]\n                    }, radius[3], radius[0],\n                    borderPoints.bottomLeft, borderPoints.topLeft);\n                break;\n            }\n        }\n        return border;\n    });\n}\n\nNodeParser.prototype.parseBackgroundClip = function(container, borderPoints, borders, radius, bounds) {\n    var backgroundClip = container.css('backgroundClip'),\n        borderArgs = [];\n\n    switch(backgroundClip) {\n    case \"content-box\":\n    case \"padding-box\":\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftInner, borderPoints.topRightInner, bounds.left + borders[3].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightInner, borderPoints.bottomRightInner, bounds.left + bounds.width - borders[1].width, bounds.top + borders[0].width);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightInner, borderPoints.bottomLeftInner, bounds.left + bounds.width - borders[1].width, bounds.top + bounds.height - borders[2].width);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftInner, borderPoints.topLeftInner, bounds.left + borders[3].width, bounds.top + bounds.height - borders[2].width);\n        break;\n\n    default:\n        parseCorner(borderArgs, radius[0], radius[1], borderPoints.topLeftOuter, borderPoints.topRightOuter, bounds.left, bounds.top);\n        parseCorner(borderArgs, radius[1], radius[2], borderPoints.topRightOuter, borderPoints.bottomRightOuter, bounds.left + bounds.width, bounds.top);\n        parseCorner(borderArgs, radius[2], radius[3], borderPoints.bottomRightOuter, borderPoints.bottomLeftOuter, bounds.left + bounds.width, bounds.top + bounds.height);\n        parseCorner(borderArgs, radius[3], radius[0], borderPoints.bottomLeftOuter, borderPoints.topLeftOuter, bounds.left, bounds.top + bounds.height);\n        break;\n    }\n\n    return borderArgs;\n};\n\nfunction getCurvePoints(x, y, r1, r2) {\n    var kappa = 4 * ((Math.sqrt(2) - 1) / 3);\n    var ox = (r1) * kappa, // control point offset horizontal\n        oy = (r2) * kappa, // control point offset vertical\n        xm = x + r1, // x-middle\n        ym = y + r2; // y-middle\n    return {\n        topLeft: bezierCurve({x: x, y: ym}, {x: x, y: ym - oy}, {x: xm - ox, y: y}, {x: xm, y: y}),\n        topRight: bezierCurve({x: x, y: y}, {x: x + ox,y: y}, {x: xm, y: ym - oy}, {x: xm, y: ym}),\n        bottomRight: bezierCurve({x: xm, y: y}, {x: xm, y: y + oy}, {x: x + ox, y: ym}, {x: x, y: ym}),\n        bottomLeft: bezierCurve({x: xm, y: ym}, {x: xm - ox, y: ym}, {x: x, y: y + oy}, {x: x, y:y})\n    };\n}\n\nfunction calculateCurvePoints(bounds, borderRadius, borders) {\n    var x = bounds.left,\n        y = bounds.top,\n        width = bounds.width,\n        height = bounds.height,\n\n        tlh = borderRadius[0][0] < width / 2 ? borderRadius[0][0] : width / 2,\n        tlv = borderRadius[0][1] < height / 2 ? borderRadius[0][1] : height / 2,\n        trh = borderRadius[1][0] < width / 2 ? borderRadius[1][0] : width / 2,\n        trv = borderRadius[1][1] < height / 2 ? borderRadius[1][1] : height / 2,\n        brh = borderRadius[2][0] < width / 2 ? borderRadius[2][0] : width / 2,\n        brv = borderRadius[2][1] < height / 2 ? borderRadius[2][1] : height / 2,\n        blh = borderRadius[3][0] < width / 2 ? borderRadius[3][0] : width / 2,\n        blv = borderRadius[3][1] < height / 2 ? borderRadius[3][1] : height / 2;\n\n    var topWidth = width - trh,\n        rightHeight = height - brv,\n        bottomWidth = width - brh,\n        leftHeight = height - blv;\n\n    return {\n        topLeft: getCurvePoints(x + borders[3].width/2, y + borders[0].width/2, Math.max(0, tlh - borders[3].width/2), Math.max(0, tlv - borders[0].width/2)).topLeft.subdivide(0.5),\n        topRight: getCurvePoints(x + Math.min(topWidth, width + borders[3].width/2), y + borders[0].width/2, (topWidth > width + borders[3].width/2) ? 0 :trh - borders[3].width/2, trv - borders[0].width/2).topRight.subdivide(0.5),\n        bottomRight: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width/2), y + Math.min(rightHeight, height + borders[0].width/2), Math.max(0, brh - borders[1].width/2),  brv - borders[2].width/2).bottomRight.subdivide(0.5),\n        bottomLeft: getCurvePoints(x + borders[3].width/2, y + leftHeight, Math.max(0, blh - borders[3].width/2), blv - borders[2].width/2).bottomLeft.subdivide(0.5),\n\n        topLeftOuter: getCurvePoints(x, y, tlh, tlv).topLeft.subdivide(0.5),\n        topLeftInner: getCurvePoints(x + borders[3].width, y + borders[0].width, Math.max(0, tlh - borders[3].width), Math.max(0, tlv - borders[0].width)).topLeft.subdivide(0.5),\n        topRightOuter: getCurvePoints(x + topWidth, y, trh, trv).topRight.subdivide(0.5),\n        topRightInner: getCurvePoints(x + Math.min(topWidth, width + borders[3].width), y + borders[0].width, (topWidth > width + borders[3].width) ? 0 :trh - borders[3].width, trv - borders[0].width).topRight.subdivide(0.5),\n        bottomRightOuter: getCurvePoints(x + bottomWidth, y + rightHeight, brh, brv).bottomRight.subdivide(0.5),\n        bottomRightInner: getCurvePoints(x + Math.min(bottomWidth, width - borders[3].width), y + Math.min(rightHeight, height + borders[0].width), Math.max(0, brh - borders[1].width),  brv - borders[2].width).bottomRight.subdivide(0.5),\n        bottomLeftOuter: getCurvePoints(x, y + leftHeight, blh, blv).bottomLeft.subdivide(0.5),\n        bottomLeftInner: getCurvePoints(x + borders[3].width, y + leftHeight, Math.max(0, blh - borders[3].width), blv - borders[2].width).bottomLeft.subdivide(0.5)\n    };\n}\n\nfunction bezierCurve(start, startControl, endControl, end) {\n    var lerp = function (a, b, t) {\n        return {\n            x: a.x + (b.x - a.x) * t,\n            y: a.y + (b.y - a.y) * t\n        };\n    };\n\n    return {\n        start: start,\n        startControl: startControl,\n        endControl: endControl,\n        end: end,\n        subdivide: function(t) {\n            var ab = lerp(start, startControl, t),\n                bc = lerp(startControl, endControl, t),\n                cd = lerp(endControl, end, t),\n                abbc = lerp(ab, bc, t),\n                bccd = lerp(bc, cd, t),\n                dest = lerp(abbc, bccd, t);\n            return [bezierCurve(start, ab, abbc, dest), bezierCurve(dest, bccd, cd, end)];\n        },\n        curveTo: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", startControl.x, startControl.y, endControl.x, endControl.y, end.x, end.y]);\n        },\n        curveToReversed: function(borderArgs) {\n            borderArgs.push([\"bezierCurve\", endControl.x, endControl.y, startControl.x, startControl.y, start.x, start.y]);\n        }\n    };\n}\n\nfunction drawSide(borderData, radius1, radius2, outer1, inner1, outer2, inner2) {\n    var borderArgs = [];\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", outer1[1].start.x, outer1[1].start.y]);\n        outer1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", outer2[0].start.x, outer2[0].start.y]);\n        outer2[0].curveTo(borderArgs);\n        borderArgs.push([\"line\", inner2[0].end.x, inner2[0].end.y]);\n        inner2[0].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c2[0], borderData.c2[1]]);\n        borderArgs.push([\"line\", borderData.c3[0], borderData.c3[1]]);\n    }\n\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", inner1[1].end.x, inner1[1].end.y]);\n        inner1[1].curveToReversed(borderArgs);\n    } else {\n        borderArgs.push([\"line\", borderData.c4[0], borderData.c4[1]]);\n    }\n\n    return borderArgs;\n}\n\nfunction drawSidePath(borderData, radius1, radius2, curve1, curve2) {\n    var borderArgs = [];\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", curve1[1].start.x, curve1[1].start.y]);\n        curve1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c1[0], borderData.c1[1]]);\n    }\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", curve2[0].start.x, curve2[0].start.y]);\n        curve2[0].curveTo(borderArgs);\n    } else {\n        borderArgs.push([ \"line\", borderData.c2[0], borderData.c2[1]]);\n    }\n\n    return borderArgs;\n}\n\nfunction parseCorner(borderArgs, radius1, radius2, corner1, corner2, x, y) {\n    if (radius1[0] > 0 || radius1[1] > 0) {\n        borderArgs.push([\"line\", corner1[0].start.x, corner1[0].start.y]);\n        corner1[0].curveTo(borderArgs);\n        corner1[1].curveTo(borderArgs);\n    } else {\n        borderArgs.push([\"line\", x, y]);\n    }\n\n    if (radius2[0] > 0 || radius2[1] > 0) {\n        borderArgs.push([\"line\", corner2[0].start.x, corner2[0].start.y]);\n    }\n}\n\nfunction negativeZIndex(container) {\n    return container.cssInt(\"zIndex\") < 0;\n}\n\nfunction positiveZIndex(container) {\n    return container.cssInt(\"zIndex\") > 0;\n}\n\nfunction zIndex0(container) {\n    return container.cssInt(\"zIndex\") === 0;\n}\n\nfunction inlineLevel(container) {\n    return [\"inline\", \"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction isStackingContext(container) {\n    return (container instanceof StackingContext);\n}\n\nfunction hasText(container) {\n    return container.node.data.trim().length > 0;\n}\n\nfunction noLetterSpacing(container) {\n    return (/^(normal|none|0px)$/.test(container.parent.css(\"letterSpacing\")));\n}\n\nfunction getBorderRadiusData(container) {\n    return [\"TopLeft\", \"TopRight\", \"BottomRight\", \"BottomLeft\"].map(function(side) {\n        var value = container.css('border' + side + 'Radius');\n        var arr = value.split(\" \");\n        if (arr.length <= 1) {\n            arr[1] = arr[0];\n        }\n        return arr.map(asInt);\n    });\n}\n\nfunction renderableNode(node) {\n    return (node.nodeType === Node.TEXT_NODE || node.nodeType === Node.ELEMENT_NODE);\n}\n\nfunction isPositionedForStacking(container) {\n    var position = container.css(\"position\");\n    var zIndex = ([\"absolute\", \"relative\", \"fixed\"].indexOf(position) !== -1) ? container.css(\"zIndex\") : \"auto\";\n    return zIndex !== \"auto\";\n}\n\nfunction isPositioned(container) {\n    return container.css(\"position\") !== \"static\";\n}\n\nfunction isFloating(container) {\n    return container.css(\"float\") !== \"none\";\n}\n\nfunction isInlineBlock(container) {\n    return [\"inline-block\", \"inline-table\"].indexOf(container.css(\"display\")) !== -1;\n}\n\nfunction not(callback) {\n    var context = this;\n    return function() {\n        return !callback.apply(context, arguments);\n    };\n}\n\nfunction isElement(container) {\n    return container.node.nodeType === Node.ELEMENT_NODE;\n}\n\nfunction isPseudoElement(container) {\n    return container.isPseudoElement === true;\n}\n\nfunction isTextNode(container) {\n    return container.node.nodeType === Node.TEXT_NODE;\n}\n\nfunction zIndexSort(contexts) {\n    return function(a, b) {\n        return (a.cssInt(\"zIndex\") + (contexts.indexOf(a) / contexts.length)) - (b.cssInt(\"zIndex\") + (contexts.indexOf(b) / contexts.length));\n    };\n}\n\nfunction hasOpacity(container) {\n    return container.getOpacity() < 1;\n}\n\nfunction asInt(value) {\n    return parseInt(value, 10);\n}\n\nfunction getWidth(border) {\n    return border.width;\n}\n\nfunction nonIgnoredElement(nodeContainer) {\n    return (nodeContainer.node.nodeType !== Node.ELEMENT_NODE || [\"SCRIPT\", \"HEAD\", \"TITLE\", \"OBJECT\", \"BR\", \"OPTION\"].indexOf(nodeContainer.node.nodeName) === -1);\n}\n\nfunction flatten(arrays) {\n    return [].concat.apply([], arrays);\n}\n\nfunction stripQuotes(content) {\n    var first = content.substr(0, 1);\n    return (first === content.substr(content.length - 1) && first.match(/'|\"/)) ? content.substr(1, content.length - 2) : content;\n}\n\nfunction getWords(characters) {\n    var words = [], i = 0, onWordBoundary = false, word;\n    while(characters.length) {\n        if (isWordBoundary(characters[i]) === onWordBoundary) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(punycode.ucs2.encode(word));\n            }\n            onWordBoundary =! onWordBoundary;\n            i = 0;\n        } else {\n            i++;\n        }\n\n        if (i >= characters.length) {\n            word = characters.splice(0, i);\n            if (word.length) {\n                words.push(punycode.ucs2.encode(word));\n            }\n        }\n    }\n    return words;\n}\n\nfunction isWordBoundary(characterCode) {\n    return [\n        32, // <space>\n        13, // \\r\n        10, // \\n\n        9, // \\t\n        45 // -\n    ].indexOf(characterCode) !== -1;\n}\n\nfunction hasUnicode(string) {\n    return (/[^\\u0000-\\u00ff]/).test(string);\n}\n\nmodule.exports = NodeParser;\n\n},{\"./color\":3,\"./fontmetrics\":7,\"./log\":13,\"./nodecontainer\":14,\"./pseudoelementcontainer\":18,\"./stackingcontext\":21,\"./textcontainer\":25,\"./utils\":26,\"punycode\":1}],16:[function(_dereq_,module,exports){\nvar XHR = _dereq_('./xhr');\nvar utils = _dereq_('./utils');\nvar log = _dereq_('./log');\nvar createWindowClone = _dereq_('./clone');\nvar decode64 = utils.decode64;\n\nfunction Proxy(src, proxyUrl, document) {\n    var supportsCORS = ('withCredentials' in new XMLHttpRequest());\n    if (!proxyUrl) {\n        return Promise.reject(\"No proxy configured\");\n    }\n    var callback = createCallback(supportsCORS);\n    var url = createProxyUrl(proxyUrl, src, callback);\n\n    return supportsCORS ? XHR(url) : (jsonp(document, url, callback).then(function(response) {\n        return decode64(response.content);\n    }));\n}\nvar proxyCount = 0;\n\nfunction ProxyURL(src, proxyUrl, document) {\n    var supportsCORSImage = ('crossOrigin' in new Image());\n    var callback = createCallback(supportsCORSImage);\n    var url = createProxyUrl(proxyUrl, src, callback);\n    return (supportsCORSImage ? Promise.resolve(url) : jsonp(document, url, callback).then(function(response) {\n        return \"data:\" + response.type + \";base64,\" + response.content;\n    }));\n}\n\nfunction jsonp(document, url, callback) {\n    return new Promise(function(resolve, reject) {\n        var s = document.createElement(\"script\");\n        var cleanup = function() {\n            delete window.html2canvas.proxy[callback];\n            document.body.removeChild(s);\n        };\n        window.html2canvas.proxy[callback] = function(response) {\n            cleanup();\n            resolve(response);\n        };\n        s.src = url;\n        s.onerror = function(e) {\n            cleanup();\n            reject(e);\n        };\n        document.body.appendChild(s);\n    });\n}\n\nfunction createCallback(useCORS) {\n    return !useCORS ? \"html2canvas_\" + Date.now() + \"_\" + (++proxyCount) + \"_\" + Math.round(Math.random() * 100000) : \"\";\n}\n\nfunction createProxyUrl(proxyUrl, src, callback) {\n    return proxyUrl + \"?url=\" + encodeURIComponent(src) + (callback.length ? \"&callback=html2canvas.proxy.\" + callback : \"\");\n}\n\nfunction documentFromHTML(src) {\n    return function(html) {\n        var parser = new DOMParser(), doc;\n        try {\n            doc = parser.parseFromString(html, \"text/html\");\n        } catch(e) {\n            log(\"DOMParser not supported, falling back to createHTMLDocument\");\n            doc = document.implementation.createHTMLDocument(\"\");\n            try {\n                doc.open();\n                doc.write(html);\n                doc.close();\n            } catch(ee) {\n                log(\"createHTMLDocument write not supported, falling back to document.body.innerHTML\");\n                doc.body.innerHTML = html; // ie9 doesnt support writing to documentElement\n            }\n        }\n\n        var b = doc.querySelector(\"base\");\n        if (!b || !b.href.host) {\n            var base = doc.createElement(\"base\");\n            base.href = src;\n            doc.head.insertBefore(base, doc.head.firstChild);\n        }\n\n        return doc;\n    };\n}\n\nfunction loadUrlDocument(src, proxy, document, width, height, options) {\n    return new Proxy(src, proxy, window.document).then(documentFromHTML(src)).then(function(doc) {\n        return createWindowClone(doc, document, width, height, options, 0, 0);\n    });\n}\n\nexports.Proxy = Proxy;\nexports.ProxyURL = ProxyURL;\nexports.loadUrlDocument = loadUrlDocument;\n\n},{\"./clone\":2,\"./log\":13,\"./utils\":26,\"./xhr\":28}],17:[function(_dereq_,module,exports){\nvar ProxyURL = _dereq_('./proxy').ProxyURL;\n\nfunction ProxyImageContainer(src, proxy) {\n    var link = document.createElement(\"a\");\n    link.href = src;\n    src = link.href;\n    this.src = src;\n    this.image = new Image();\n    var self = this;\n    this.promise = new Promise(function(resolve, reject) {\n        self.image.crossOrigin = \"Anonymous\";\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n\n        new ProxyURL(src, proxy, document).then(function(url) {\n            self.image.src = url;\n        })['catch'](reject);\n    });\n}\n\nmodule.exports = ProxyImageContainer;\n\n},{\"./proxy\":16}],18:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction PseudoElementContainer(node, parent, type) {\n    NodeContainer.call(this, node, parent);\n    this.isPseudoElement = true;\n    this.before = type === \":before\";\n}\n\nPseudoElementContainer.prototype.cloneTo = function(stack) {\n    PseudoElementContainer.prototype.cloneTo.call(this, stack);\n    stack.isPseudoElement = true;\n    stack.before = this.before;\n};\n\nPseudoElementContainer.prototype = Object.create(NodeContainer.prototype);\n\nPseudoElementContainer.prototype.appendToDOM = function() {\n    if (this.before) {\n        this.parent.node.insertBefore(this.node, this.parent.node.firstChild);\n    } else {\n        this.parent.node.appendChild(this.node);\n    }\n    this.parent.node.className += \" \" + this.getHideClass();\n};\n\nPseudoElementContainer.prototype.cleanDOM = function() {\n    this.node.parentNode.removeChild(this.node);\n    this.parent.node.className = this.parent.node.className.replace(this.getHideClass(), \"\");\n};\n\nPseudoElementContainer.prototype.getHideClass = function() {\n    return this[\"PSEUDO_HIDE_ELEMENT_CLASS_\" + (this.before ? \"BEFORE\" : \"AFTER\")];\n};\n\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_BEFORE = \"___html2canvas___pseudoelement_before\";\nPseudoElementContainer.prototype.PSEUDO_HIDE_ELEMENT_CLASS_AFTER = \"___html2canvas___pseudoelement_after\";\n\nmodule.exports = PseudoElementContainer;\n\n},{\"./nodecontainer\":14}],19:[function(_dereq_,module,exports){\nvar log = _dereq_('./log');\n\nfunction Renderer(width, height, images, options, document) {\n    this.width = width;\n    this.height = height;\n    this.images = images;\n    this.options = options;\n    this.document = document;\n}\n\nRenderer.prototype.renderImage = function(container, bounds, borderData, imageContainer) {\n    var paddingLeft = container.cssInt('paddingLeft'),\n        paddingTop = container.cssInt('paddingTop'),\n        paddingRight = container.cssInt('paddingRight'),\n        paddingBottom = container.cssInt('paddingBottom'),\n        borders = borderData.borders;\n\n    var width = bounds.width - (borders[1].width + borders[3].width + paddingLeft + paddingRight);\n    var height = bounds.height - (borders[0].width + borders[2].width + paddingTop + paddingBottom);\n    this.drawImage(\n        imageContainer,\n        0,\n        0,\n        imageContainer.image.width || width,\n        imageContainer.image.height || height,\n        bounds.left + paddingLeft + borders[3].width,\n        bounds.top + paddingTop + borders[0].width,\n        width,\n        height\n    );\n};\n\nRenderer.prototype.renderBackground = function(container, bounds, borderData) {\n    if (bounds.height > 0 && bounds.width > 0) {\n        this.renderBackgroundColor(container, bounds);\n        this.renderBackgroundImage(container, bounds, borderData);\n    }\n};\n\nRenderer.prototype.renderBackgroundColor = function(container, bounds) {\n    var color = container.color(\"backgroundColor\");\n    if (!color.isTransparent()) {\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, color);\n    }\n};\n\nRenderer.prototype.renderShadows = function(container, shape) {\n    var boxShadow = container.css('boxShadow');\n    if (boxShadow !== 'none') {\n        var shadows = boxShadow.split(/,(?![^(]*\\))/);\n        this.shadow(shape, shadows);\n    }\n};\n\nRenderer.prototype.renderBorders = function(borders) {\n    borders.forEach(this.renderBorder, this);\n};\n\nRenderer.prototype.renderBorder = function(data) {\n    if (!data.color.isTransparent() && data.args !== null) {\n        if (data.style === 'dashed' || data.style === 'dotted') {\n            var dash = (data.style === 'dashed') ? 3 : data.width;\n            this.ctx.setLineDash([dash]);\n            this.path(data.pathArgs);\n            this.ctx.strokeStyle = data.color;\n            this.ctx.lineWidth = data.width;\n            this.ctx.stroke();\n        } else {\n            this.drawShape(data.args, data.color);\n        }\n    }\n};\n\nRenderer.prototype.renderBackgroundImage = function(container, bounds, borderData) {\n    var backgroundImages = container.parseBackgroundImages();\n    backgroundImages.reverse().forEach(function(backgroundImage, index, arr) {\n        switch(backgroundImage.method) {\n        case \"url\":\n            var image = this.images.get(backgroundImage.args[0]);\n            if (image) {\n                this.renderBackgroundRepeating(container, bounds, image, arr.length - (index+1), borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"linear-gradient\":\n        case \"gradient\":\n            var gradientImage = this.images.get(backgroundImage.value);\n            if (gradientImage) {\n                this.renderBackgroundGradient(gradientImage, bounds, borderData);\n            } else {\n                log(\"Error loading background-image\", backgroundImage.args[0]);\n            }\n            break;\n        case \"none\":\n            break;\n        default:\n            log(\"Unknown background-image type\", backgroundImage.args[0]);\n        }\n    }, this);\n};\n\nRenderer.prototype.renderBackgroundRepeating = function(container, bounds, imageContainer, index, borderData) {\n    var size = container.parseBackgroundSize(bounds, imageContainer.image, index);\n    var position = container.parseBackgroundPosition(bounds, imageContainer.image, index, size);\n    var repeat = container.parseBackgroundRepeat(index);\n    switch (repeat) {\n    case \"repeat-x\":\n    case \"repeat no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + borderData[3], bounds.top + position.top + borderData[0], 99999, size.height, borderData);\n        break;\n    case \"repeat-y\":\n    case \"no-repeat repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + borderData[0], size.width, 99999, borderData);\n        break;\n    case \"no-repeat\":\n        this.backgroundRepeatShape(imageContainer, position, size, bounds, bounds.left + position.left + borderData[3], bounds.top + position.top + borderData[0], size.width, size.height, borderData);\n        break;\n    default:\n        this.renderBackgroundRepeat(imageContainer, position, size, {top: bounds.top, left: bounds.left}, borderData[3], borderData[0]);\n        break;\n    }\n};\n\nmodule.exports = Renderer;\n\n},{\"./log\":13}],20:[function(_dereq_,module,exports){\nvar Renderer = _dereq_('../renderer');\nvar LinearGradientContainer = _dereq_('../lineargradientcontainer');\nvar log = _dereq_('../log');\n\nfunction CanvasRenderer(width, height) {\n    Renderer.apply(this, arguments);\n    this.canvas = this.options.canvas || this.document.createElement(\"canvas\");\n    this.ctx = this.canvas.getContext(\"2d\");\n    if (!this.options.canvas) {\n        if (this.options.dpi) {\n            this.options.scale = this.options.dpi / 96;   // 1 CSS inch = 96px.\n        }\n        if (this.options.scale) {\n            this.canvas.style.width = width + 'px';\n            this.canvas.style.height = height + 'px';\n            this.canvas.width = Math.floor(width * this.options.scale);\n            this.canvas.height = Math.floor(height * this.options.scale);\n            this.ctx.scale(this.options.scale, this.options.scale);\n        } else {\n            this.canvas.width = width;\n            this.canvas.height = height;\n        }\n    }\n    this.taintCtx = this.document.createElement(\"canvas\").getContext(\"2d\");\n    this.ctx.textBaseline = \"bottom\";\n    this.variables = {};\n    log(\"Initialized CanvasRenderer with size\", width, \"x\", height);\n}\n\nCanvasRenderer.prototype = Object.create(Renderer.prototype);\n\nCanvasRenderer.prototype.setFillStyle = function(fillStyle) {\n    this.ctx.fillStyle = typeof(fillStyle) === \"object\" && !!fillStyle.isColor ? fillStyle.toString() : fillStyle;\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.rectangle = function(left, top, width, height, color) {\n    this.setFillStyle(color).fillRect(left, top, width, height);\n};\n\nCanvasRenderer.prototype.circle = function(left, top, size, color) {\n    this.setFillStyle(color);\n    this.ctx.beginPath();\n    this.ctx.arc(left + size / 2, top + size / 2, size / 2, 0, Math.PI*2, true);\n    this.ctx.closePath();\n    this.ctx.fill();\n};\n\nCanvasRenderer.prototype.circleStroke = function(left, top, size, color, stroke, strokeColor) {\n    this.circle(left, top, size, color);\n    this.ctx.strokeStyle = strokeColor.toString();\n    this.ctx.stroke();\n};\n\nCanvasRenderer.prototype.shadow = function(shape, shadows) {\n    var parseShadow = function(str) {\n        var propertyFilters = { color: /^(#|rgb|hsl|(?!(inset|initial|inherit))\\D+)/i, inset: /^inset/i, px: /px$/i };\n        var pxPropertyNames = [ 'x', 'y', 'blur', 'spread' ];\n        var properties = str.split(/ (?![^(]*\\))/);\n        var info = {};\n        for (var key in propertyFilters) {\n            info[key] = properties.filter(propertyFilters[key].test.bind(propertyFilters[key]));\n            info[key] = info[key].length === 0 ? null : info[key].length === 1 ? info[key][0] : info[key];\n        }\n        for (var i=0; i<info.px.length; i++) {\n            info[pxPropertyNames[i]] = parseInt(info.px[i]);\n        }\n        return info;\n    };\n    var drawShadow = function(shadow) {\n        var info = parseShadow(shadow);\n        if (!info.inset) {\n            context.shadowOffsetX = info.x;\n            context.shadowOffsetY = info.y;\n            context.shadowColor = info.color;\n            context.shadowBlur = info.blur;\n            context.fill();\n        }\n    };\n    var context = this.setFillStyle('white');\n    context.save();\n    this.shape(shape);\n    shadows.forEach(drawShadow, this);\n    context.restore();\n};\n\nCanvasRenderer.prototype.drawShape = function(shape, color) {\n    this.shape(shape);\n    this.setFillStyle(color).fill();\n};\n\nCanvasRenderer.prototype.taints = function(imageContainer) {\n    if (imageContainer.tainted === null) {\n        this.taintCtx.drawImage(imageContainer.image, 0, 0);\n        try {\n            this.taintCtx.getImageData(0, 0, 1, 1);\n            imageContainer.tainted = false;\n        } catch(e) {\n            this.taintCtx = document.createElement(\"canvas\").getContext(\"2d\");\n            imageContainer.tainted = true;\n        }\n    }\n\n    return imageContainer.tainted;\n};\n\nCanvasRenderer.prototype.drawImage = function(imageContainer, sx, sy, sw, sh, dx, dy, dw, dh) {\n    if (!this.taints(imageContainer) || this.options.allowTaint) {\n        this.ctx.drawImage(imageContainer.image, sx, sy, sw, sh, dx, dy, dw, dh);\n    }\n};\n\nCanvasRenderer.prototype.clip = function(shapes, callback, context, container) {\n    this.ctx.save();\n    if (container && container.hasTransform()) {\n        this.setTransform(container.inverseTransform());\n        shapes.filter(hasEntries).forEach(function(shape) {\n            this.shape(shape).clip();\n        }, this);\n        this.setTransform(container.parseTransform());\n    } else {\n        shapes.filter(hasEntries).forEach(function(shape) {\n            this.shape(shape).clip();\n        }, this);\n    }\n    callback.call(context);\n    this.ctx.restore();\n};\n\nCanvasRenderer.prototype.mask = function(shapes, callback, context, container) {\n    var borderClip = shapes[shapes.length-1];\n    if (borderClip && borderClip.length) {\n        var canvasBorderCCW = [\"rect\", this.canvas.width, 0, -this.canvas.width, this.canvas.height];\n        var maskShape = [canvasBorderCCW].concat(borderClip).concat([borderClip[0]]);\n        shapes = shapes.slice(0,-1).concat([maskShape]);\n    }\n    this.clip(shapes, callback, context, container);\n};\n\nCanvasRenderer.prototype.shape = function(shape) {\n    this.ctx.beginPath();\n    shape.forEach(function(point, index) {\n        if (point[0] === \"rect\") {\n            this.ctx.rect.apply(this.ctx, point.slice(1));\n        } else {\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\n        }\n    }, this);\n    this.ctx.closePath();\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.path = function(shape) {\n    this.ctx.beginPath();\n    shape.forEach(function(point, index) {\n        if (point[0] === \"rect\") {\n            this.ctx.rect.apply(this.ctx, point.slice(1));\n        } else {\n            this.ctx[(index === 0) ? \"moveTo\" : point[0] + \"To\" ].apply(this.ctx, point.slice(1));\n        }\n    }, this);\n    return this.ctx;\n};\n\nCanvasRenderer.prototype.font = function(color, style, variant, weight, size, family) {\n    variant = /^(normal|small-caps)$/i.test(variant) ? variant : '';\n    this.setFillStyle(color).font = [style, variant, weight, size, family].join(\" \").split(\",\")[0];\n};\n\nCanvasRenderer.prototype.fontShadow = function(color, offsetX, offsetY, blur) {\n    this.setVariable(\"shadowColor\", color.toString())\n        .setVariable(\"shadowOffsetY\", offsetX)\n        .setVariable(\"shadowOffsetX\", offsetY)\n        .setVariable(\"shadowBlur\", blur);\n};\n\nCanvasRenderer.prototype.clearShadow = function() {\n    this.setVariable(\"shadowColor\", \"rgba(0,0,0,0)\");\n};\n\nCanvasRenderer.prototype.setOpacity = function(opacity) {\n    this.ctx.globalAlpha = opacity;\n};\n\nCanvasRenderer.prototype.setTransform = function(transform) {\n    this.ctx.translate(transform.origin[0], transform.origin[1]);\n    this.ctx.transform.apply(this.ctx, transform.matrix);\n    this.ctx.translate(-transform.origin[0], -transform.origin[1]);\n};\n\nCanvasRenderer.prototype.setVariable = function(property, value) {\n    if (this.variables[property] !== value) {\n        this.variables[property] = this.ctx[property] = value;\n    }\n\n    return this;\n};\n\nCanvasRenderer.prototype.text = function(text, left, bottom) {\n    this.ctx.fillText(text, left, bottom);\n};\n\nCanvasRenderer.prototype.backgroundRepeatShape = function(imageContainer, backgroundPosition, size, bounds, left, top, width, height, borderData) {\n    var shape = [\n        [\"line\", Math.round(left), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(top)],\n        [\"line\", Math.round(left + width), Math.round(height + top)],\n        [\"line\", Math.round(left), Math.round(height + top)]\n    ];\n    this.clip([shape], function() {\n        this.renderBackgroundRepeat(imageContainer, backgroundPosition, size, bounds, borderData[3], borderData[0]);\n    }, this);\n};\n\nCanvasRenderer.prototype.renderBackgroundRepeat = function(imageContainer, backgroundPosition, size, bounds, borderLeft, borderTop) {\n    var offsetX = Math.round(bounds.left + backgroundPosition.left + borderLeft), offsetY = Math.round(bounds.top + backgroundPosition.top + borderTop);\n    this.setFillStyle(this.ctx.createPattern(this.resizeImage(imageContainer, size), \"repeat\"));\n    this.ctx.translate(offsetX, offsetY);\n    this.ctx.fill();\n    this.ctx.translate(-offsetX, -offsetY);\n};\n\nCanvasRenderer.prototype.renderBackgroundGradient = function(gradientImage, bounds) {\n    if (gradientImage instanceof LinearGradientContainer) {\n        var gradient = this.ctx.createLinearGradient(\n            bounds.left + bounds.width * gradientImage.x0,\n            bounds.top + bounds.height * gradientImage.y0,\n            bounds.left +  bounds.width * gradientImage.x1,\n            bounds.top +  bounds.height * gradientImage.y1);\n        gradientImage.colorStops.forEach(function(colorStop) {\n            gradient.addColorStop(colorStop.stop, colorStop.color.toString());\n        });\n        this.rectangle(bounds.left, bounds.top, bounds.width, bounds.height, gradient);\n    }\n};\n\nCanvasRenderer.prototype.resizeImage = function(imageContainer, size) {\n    var image = imageContainer.image;\n    if(image.width === size.width && image.height === size.height) {\n        return image;\n    }\n\n    var ctx, canvas = document.createElement('canvas');\n    canvas.width = size.width;\n    canvas.height = size.height;\n    ctx = canvas.getContext(\"2d\");\n    ctx.drawImage(image, 0, 0, image.width, image.height, 0, 0, size.width, size.height );\n    return canvas;\n};\n\nfunction hasEntries(array) {\n    return array.length > 0;\n}\n\nmodule.exports = CanvasRenderer;\n\n},{\"../lineargradientcontainer\":12,\"../log\":13,\"../renderer\":19}],21:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction StackingContext(hasOwnStacking, opacity, element, parent) {\n    NodeContainer.call(this, element, parent);\n    this.ownStacking = hasOwnStacking;\n    this.contexts = [];\n    this.children = [];\n    this.opacity = (this.parent ? this.parent.stack.opacity : 1) * opacity;\n}\n\nStackingContext.prototype = Object.create(NodeContainer.prototype);\n\nStackingContext.prototype.getParentStack = function(context) {\n    var parentStack = (this.parent) ? this.parent.stack : null;\n    return parentStack ? (parentStack.ownStacking ? parentStack : parentStack.getParentStack(context)) : context.stack;\n};\n\nmodule.exports = StackingContext;\n\n},{\"./nodecontainer\":14}],22:[function(_dereq_,module,exports){\nfunction Support(document) {\n    this.rangeBounds = this.testRangeBounds(document);\n    this.cors = this.testCORS();\n    this.svg = this.testSVG();\n}\n\nSupport.prototype.testRangeBounds = function(document) {\n    var range, testElement, rangeBounds, rangeHeight, support = false;\n\n    if (document.createRange) {\n        range = document.createRange();\n        if (range.getBoundingClientRect) {\n            testElement = document.createElement('boundtest');\n            testElement.style.height = \"123px\";\n            testElement.style.display = \"block\";\n            document.body.appendChild(testElement);\n\n            range.selectNode(testElement);\n            rangeBounds = range.getBoundingClientRect();\n            rangeHeight = rangeBounds.height;\n\n            if (rangeHeight === 123) {\n                support = true;\n            }\n            document.body.removeChild(testElement);\n        }\n    }\n\n    return support;\n};\n\nSupport.prototype.testCORS = function() {\n    return typeof((new Image()).crossOrigin) !== \"undefined\";\n};\n\nSupport.prototype.testSVG = function() {\n    var img = new Image();\n    var canvas = document.createElement(\"canvas\");\n    var ctx =  canvas.getContext(\"2d\");\n    img.src = \"data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>\";\n\n    try {\n        ctx.drawImage(img, 0, 0);\n        canvas.toDataURL();\n    } catch(e) {\n        return false;\n    }\n    return true;\n};\n\nmodule.exports = Support;\n\n},{}],23:[function(_dereq_,module,exports){\nvar XHR = _dereq_('./xhr');\nvar decode64 = _dereq_('./utils').decode64;\n\nfunction SVGContainer(src) {\n    this.src = src;\n    this.image = null;\n    var self = this;\n\n    this.promise = this.hasFabric().then(function() {\n        return (self.isInline(src) ? Promise.resolve(self.inlineFormatting(src)) : XHR(src));\n    }).then(function(svg) {\n        return new Promise(function(resolve) {\n            window.html2canvas.svg.fabric.loadSVGFromString(svg, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGContainer.prototype.hasFabric = function() {\n    return !window.html2canvas.svg || !window.html2canvas.svg.fabric ? Promise.reject(new Error(\"html2canvas.svg.js is not loaded, cannot render svg\")) : Promise.resolve();\n};\n\nSVGContainer.prototype.inlineFormatting = function(src) {\n    return (/^data:image\\/svg\\+xml;base64,/.test(src)) ? this.decode64(this.removeContentType(src)) : this.removeContentType(src);\n};\n\nSVGContainer.prototype.removeContentType = function(src) {\n    return src.replace(/^data:image\\/svg\\+xml(;base64)?,/,'');\n};\n\nSVGContainer.prototype.isInline = function(src) {\n    return (/^data:image\\/svg\\+xml/i.test(src));\n};\n\nSVGContainer.prototype.createCanvas = function(resolve) {\n    var self = this;\n    return function (objects, options) {\n        var canvas = new window.html2canvas.svg.fabric.StaticCanvas('c');\n        self.image = canvas.lowerCanvasEl;\n        canvas\n            .setWidth(options.width)\n            .setHeight(options.height)\n            .add(window.html2canvas.svg.fabric.util.groupSVGElements(objects, options))\n            .renderAll();\n        resolve(canvas.lowerCanvasEl);\n    };\n};\n\nSVGContainer.prototype.decode64 = function(str) {\n    return (typeof(window.atob) === \"function\") ? window.atob(str) : decode64(str);\n};\n\nmodule.exports = SVGContainer;\n\n},{\"./utils\":26,\"./xhr\":28}],24:[function(_dereq_,module,exports){\nvar SVGContainer = _dereq_('./svgcontainer');\n\nfunction SVGNodeContainer(node, _native) {\n    this.src = node;\n    this.image = null;\n    var self = this;\n\n    this.promise = _native ? new Promise(function(resolve, reject) {\n        self.image = new Image();\n        self.image.onload = resolve;\n        self.image.onerror = reject;\n        self.image.src = \"data:image/svg+xml,\" + (new XMLSerializer()).serializeToString(node);\n        if (self.image.complete === true) {\n            resolve(self.image);\n        }\n    }) : this.hasFabric().then(function() {\n        return new Promise(function(resolve) {\n            window.html2canvas.svg.fabric.parseSVGDocument(node, self.createCanvas.call(self, resolve));\n        });\n    });\n}\n\nSVGNodeContainer.prototype = Object.create(SVGContainer.prototype);\n\nmodule.exports = SVGNodeContainer;\n\n},{\"./svgcontainer\":23}],25:[function(_dereq_,module,exports){\nvar NodeContainer = _dereq_('./nodecontainer');\n\nfunction TextContainer(node, parent) {\n    NodeContainer.call(this, node, parent);\n}\n\nTextContainer.prototype = Object.create(NodeContainer.prototype);\n\nTextContainer.prototype.applyTextTransform = function() {\n    this.node.data = this.transform(this.parent.css(\"textTransform\"));\n};\n\nTextContainer.prototype.transform = function(transform) {\n    var text = this.node.data;\n    switch(transform){\n        case \"lowercase\":\n            return text.toLowerCase();\n        case \"capitalize\":\n            return text.replace(/(^|\\s|:|-|\\(|\\))([a-z])/g, capitalize);\n        case \"uppercase\":\n            return text.toUpperCase();\n        default:\n            return text;\n    }\n};\n\nfunction capitalize(m, p1, p2) {\n    if (m.length > 0) {\n        return p1 + p2.toUpperCase();\n    }\n}\n\nmodule.exports = TextContainer;\n\n},{\"./nodecontainer\":14}],26:[function(_dereq_,module,exports){\nexports.smallImage = function smallImage() {\n    return \"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7\";\n};\n\nexports.bind = function(callback, context) {\n    return function() {\n        return callback.apply(context, arguments);\n    };\n};\n\n/*\n * base64-arraybuffer\n * https://github.com/niklasvh/base64-arraybuffer\n *\n * Copyright (c) 2012 Niklas von Hertzen\n * Licensed under the MIT license.\n */\n\nexports.decode64 = function(base64) {\n    var chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var len = base64.length, i, encoded1, encoded2, encoded3, encoded4, byte1, byte2, byte3;\n\n    var output = \"\";\n\n    for (i = 0; i < len; i+=4) {\n        encoded1 = chars.indexOf(base64[i]);\n        encoded2 = chars.indexOf(base64[i+1]);\n        encoded3 = chars.indexOf(base64[i+2]);\n        encoded4 = chars.indexOf(base64[i+3]);\n\n        byte1 = (encoded1 << 2) | (encoded2 >> 4);\n        byte2 = ((encoded2 & 15) << 4) | (encoded3 >> 2);\n        byte3 = ((encoded3 & 3) << 6) | encoded4;\n        if (encoded3 === 64) {\n            output += String.fromCharCode(byte1);\n        } else if (encoded4 === 64 || encoded4 === -1) {\n            output += String.fromCharCode(byte1, byte2);\n        } else{\n            output += String.fromCharCode(byte1, byte2, byte3);\n        }\n    }\n\n    return output;\n};\n\nexports.getBounds = function(node) {\n    if (node.getBoundingClientRect) {\n        var clientRect = node.getBoundingClientRect();\n        var width = node.offsetWidth == null ? clientRect.width : node.offsetWidth;\n        return {\n            top: clientRect.top,\n            bottom: clientRect.bottom || (clientRect.top + clientRect.height),\n            right: clientRect.left + width,\n            left: clientRect.left,\n            width:  width,\n            height: node.offsetHeight == null ? clientRect.height : node.offsetHeight\n        };\n    }\n    return {};\n};\n\nexports.offsetBounds = function(node) {\n    var parent = node.offsetParent ? exports.offsetBounds(node.offsetParent) : {top: 0, left: 0};\n\n    return {\n        top: node.offsetTop + parent.top,\n        bottom: node.offsetTop + node.offsetHeight + parent.top,\n        right: node.offsetLeft + parent.left + node.offsetWidth,\n        left: node.offsetLeft + parent.left,\n        width: node.offsetWidth,\n        height: node.offsetHeight\n    };\n};\n\nexports.parseBackgrounds = function(backgroundImage) {\n    var whitespace = ' \\r\\n\\t',\n        method, definition, prefix, prefix_i, block, results = [],\n        mode = 0, numParen = 0, quote, args;\n    var appendResult = function() {\n        if(method) {\n            if (definition.substr(0, 1) === '\"') {\n                definition = definition.substr(1, definition.length - 2);\n            }\n            if (definition) {\n                args.push(definition);\n            }\n            if (method.substr(0, 1) === '-' && (prefix_i = method.indexOf('-', 1 ) + 1) > 0) {\n                prefix = method.substr(0, prefix_i);\n                method = method.substr(prefix_i);\n            }\n            results.push({\n                prefix: prefix,\n                method: method.toLowerCase(),\n                value: block,\n                args: args,\n                image: null\n            });\n        }\n        args = [];\n        method = prefix = definition = block = '';\n    };\n    args = [];\n    method = prefix = definition = block = '';\n    backgroundImage.split(\"\").forEach(function(c) {\n        if (mode === 0 && whitespace.indexOf(c) > -1) {\n            return;\n        }\n        switch(c) {\n        case '\"':\n            if(!quote) {\n                quote = c;\n            } else if(quote === c) {\n                quote = null;\n            }\n            break;\n        case '(':\n            if(quote) {\n                break;\n            } else if(mode === 0) {\n                mode = 1;\n                block += c;\n                return;\n            } else {\n                numParen++;\n            }\n            break;\n        case ')':\n            if (quote) {\n                break;\n            } else if(mode === 1) {\n                if(numParen === 0) {\n                    mode = 0;\n                    block += c;\n                    appendResult();\n                    return;\n                } else {\n                    numParen--;\n                }\n            }\n            break;\n\n        case ',':\n            if (quote) {\n                break;\n            } else if(mode === 0) {\n                appendResult();\n                return;\n            } else if (mode === 1) {\n                if (numParen === 0 && !method.match(/^url$/i)) {\n                    args.push(definition);\n                    definition = '';\n                    block += c;\n                    return;\n                }\n            }\n            break;\n        }\n\n        block += c;\n        if (mode === 0) {\n            method += c;\n        } else {\n            definition += c;\n        }\n    });\n\n    appendResult();\n    return results;\n};\n\n},{}],27:[function(_dereq_,module,exports){\nvar GradientContainer = _dereq_('./gradientcontainer');\n\nfunction WebkitGradientContainer(imageData) {\n    GradientContainer.apply(this, arguments);\n    this.type = imageData.args[0] === \"linear\" ? GradientContainer.TYPES.LINEAR : GradientContainer.TYPES.RADIAL;\n}\n\nWebkitGradientContainer.prototype = Object.create(GradientContainer.prototype);\n\nmodule.exports = WebkitGradientContainer;\n\n},{\"./gradientcontainer\":9}],28:[function(_dereq_,module,exports){\nfunction XHR(url) {\n    return new Promise(function(resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', url);\n\n        xhr.onload = function() {\n            if (xhr.status === 200) {\n                resolve(xhr.responseText);\n            } else {\n                reject(new Error(xhr.statusText));\n            }\n        };\n\n        xhr.onerror = function() {\n            reject(new Error(\"Network Error\"));\n        };\n\n        xhr.send();\n    });\n}\n\nmodule.exports = XHR;\n\n},{}]},{},[4])(4)\n});\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/html2canvas.js","module.exports = __webpack_public_path__ + \"spa_poster/img/qrcode.b807162.png\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/qrcode.png\n// module id = 5mn2\n// module chunks = 1","<template>\r\n  <div class=\"container\">\r\n\t<div class=\"box\">\r\n\t\t<img class=\"myImg\" src=\"../images/bg.jpg\">\r\n\t\t<p class=\"logo\"></p>\r\n\t\t<p class=\"hi\"></p>\r\n\t\t<p class=\"font\">我在校长邦TOWER教育创新大会现场<br>我为TOWER代言</p>\r\n\t\t<p class=\"qrcode\"><img src=\"../images/qrcode.png\"></p>\r\n\t</div>\r\n\t<transition name=\"fade\" mode=\"out-in\">\r\n\t\t<div class=\"other\" v-if=\"btnShow\">\r\n\t\t\t<p class=\"des\">我们是教育行业的耕耘者，我们为教育挥洒青春拍照上传为教育创业者代言</p>\r\n\t\t\t<p class=\"myBtn\" @click=\"selectPhoto\"></p>\t\t\r\n\t\t</div>\r\n\t\t<p class=\"saveBtn\" v-else>长按图片保存到手机分享朋友圈嘚瑟一下</p>\r\n\t</transition>\r\n\t<div class=\"box1\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport '../config/html2canvas.js'\r\nimport { Toast } from 'mint-ui'\r\nexport default {\r\n  data () {\r\n    return {\r\n    \tbtnShow: true\r\n    }\r\n  },\r\n  methods: {\r\n  \tselectPhoto () {\r\n  \t\tconst $this = this;\t\t\r\n\r\n\t\twx.chooseImage({\r\n\t\t\tcount: 1, // 默认9\r\n\t\t\tsizeType: ['original'], // 可以指定是原图还是压缩图，默认二者都有\r\n\t\t\tsourceType: ['album', 'camera'], // 可以指定来源是相册还是相机，默认二者都有\r\n\t\t\tsuccess: function(res) {\r\n\t\t\t\tvar localIds = res.localIds; // 返回选定照片的本地ID列表，localId可以作为img标签的src属性显示图片\r\n\t\t\t\twx.uploadImage({\r\n\t\t\t\t\tlocalId: localIds[0], // 需要上传的图片的本地ID，由chooseImage接口获得\r\n\t\t\t\t\tisShowProgressTips: 1, // 默认为1，显示进度提示\r\n\t\t\t\t\tsuccess: function(res) {\r\n\t\t\t\t\t\tvar serverId = res.serverId; // 返回图片的服务器端ID\r\n\t\t\t\t\t\tconst w = $('.box').outerWidth(),\r\n\t\t\t\t\t\t\th = $('.box').outerHeight();\r\n\t\t\t\t\t\t// alert(\"图片地址：\" + localIds[0]);\r\n\t\t\t\t\t\t// alert(\"myImg的src：\" + $('.myImg').attr('src'));\r\n\t\t\t\t\t\t$('.myImg').attr('src', localIds[0]);\r\n\r\n\t\t\t\t\t\tsetTimeout(function() {\r\n\t\t\t\t\t\t\thtml2canvas($(\".box\"), {\r\n\t\t\t\t\t\t\t\tallowTaint: true,\r\n\t\t\t\t\t\t\t\ttaintTest: false,\r\n\t\t\t\t\t\t\t\twidth: w,\r\n\t\t\t\t\t\t\t\theight: h,\r\n\t\t\t\t\t\t\t\tscale: window.devicePixelRatio,\r\n\t\t\t\t\t\t\t\tonrendered: function(canvas) {\r\n\t\t\t\t\t\t\t\t\tvar dataUrl = canvas.toDataURL(\"image/png\", 1.0);\r\n\t\t\t\t\t\t\t\t\tvar newImg = document.createElement(\"img\");\r\n\t\t\t\t\t\t\t\t\tnewImg.src = dataUrl;\r\n\t\t\t\t\t\t\t\t\t$('.box').empty().append(newImg);\r\n\t\t\t\t\t\t\t\t\tnewImg.style.width = '100%';\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tToast({\r\n\t\t\t\t\t\t\t\tmessage: '已生成照片海报',\r\n\t\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\t\ticonClass: 'mint-toast-icon mintui mintui-success'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t$this.btnShow = !$this.btnShow;\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}, 150)\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: function(err) {\r\n\t\t\t\t\t\talert(err);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t});\r\n  \t},\r\n\tdoShot() {\r\n\t\tconst $this = this,\r\n\t\t\tw = $('.box').outerWidth(),\r\n\t\t\th = $('.box').outerHeight();\t\t\r\n\r\n\t\thtml2canvas($(\".box\"), {\r\n\t\t\tallowTaint: true,\r\n\t\t\ttaintTest: false,\r\n\t\t\twidth: w,\r\n\t\t\theight: h,\r\n\t\t\tscale: window.devicePixelRatio,\r\n\t\t\tonrendered: function(canvas) {\r\n\t\t\t\tvar dataUrl = canvas.toDataURL(\"image/png\", 1.0);\r\n\t\t\t\tvar newImg = document.createElement(\"img\");\r\n\t\t\t\tnewImg.src = dataUrl;\r\n\t\t\t\t$('.box').empty().append(newImg);\r\n\t\t\t\tnewImg.style.width = '100%';\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.container {\r\n\ttext-align: center;\r\n\tcolor: #fff;\r\n\t.box {\r\n\t\twidth: 100%;\r\n\t\theight: 10rem;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden; \r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\t.myImg {\r\n\t\t\twidth: 100%;\r\n\t\t\tposition: absolute;\r\n\t\t\tleft: 0;\r\n\t\t\ttop: 0;\r\n\t\t\tz-index: -1;\r\n\t\t}\r\n\t\t.logo {\r\n\t\t\twidth: 1.49rem;\r\n\t\t\theight: .84rem;\r\n\t\t\tbackground: url('../images/logo.png') 0 0 no-repeat;\r\n\t\t\tbackground-size: 100%;\r\n\t\t\tmargin-top: .35rem;\r\n\t\t\tmargin-left: -5.2rem;\r\n\t\t}\r\n\t\t.hi {\r\n\t\t\twidth: 1.66rem;\r\n\t\t\theight: 1.57rem;\r\n\t\t\tbackground: url('../images/hi.png') 0 0 no-repeat;\r\n\t\t\tbackground-size: 100%;\t\r\n\t\t\tmargin-top: 4rem;\t\t\r\n\t\t}\r\n\t\t.font {\r\n\t\t\tfont-size: .32rem;\r\n\t\t\tline-height: .5rem;\r\n\t\t\ttext-shadow: 0 0 8px #000;\r\n\t\t}\r\n\t\t.qrcode {\r\n\t\t\tmargin-top: .2rem;\r\n\t\t\timg {\r\n\t\t\t\twidth: 1.86rem;\r\n\t\t\t\theight: 1.71rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.other {\r\n\t\t.des {\r\n\t\t\twidth: 5.5rem;\r\n\t\t\tmargin: .1rem auto 0;\r\n\t\t\tfont-size: .26rem;\r\n\t\t\tline-height: .4rem;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t\t.myBtn {\r\n\t\t\twidth: 1.5rem;\r\n\t\t\theight: .97rem;\r\n\t\t\tmargin: .1rem auto 0;\r\n\t\t\tbackground: url('../images/camara.png') 0 0 no-repeat;\r\n\t\t\tbackground-size: 100%;\r\n\t\t}\t\t\r\n\t}\r\n\t.saveBtn {\r\n\t\twidth: 6rem;\r\n\t\theight: .8rem;\r\n\t\tbackground: #00CCFF;\r\n\t\tmargin: .6rem auto;\r\n\t\tfont-size: .3rem;\r\n\t\tline-height: .8rem;\r\n\t}\r\n\t.fade-enter, .fade-leave-to {\r\n\t\ttransform: scale(0.6);\r\n\t\topacity: 0;\r\n\t}\r\n\t.fade-enter-active, .fade-leave-active {\r\n\t\ttransition: all .8s ease;\r\n\t}\t\r\n}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/photograph.vue","<template>\n  <div id=\"app\">\n    <router-view></router-view>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'app'\n}\n</script>\n\n<style lang=\"less\">\n@import './styles/_reset.less';\n@import './styles/reset.css';\n\n.mintui {\n\tfont-size: .6rem;\n}\n\nhtml, body, #app {\n\twidth: 100%;\n\theight: 100%;\n  \tfont-family: 'Microsoft Yahei UI', 'Avenir', Helvetica, Arial, sans-serif;\n  \t-webkit-font-smoothing: antialiased;\n  \t-moz-osx-font-smoothing: grayscale;\n  \tfont-size: .24rem;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2687bf1d\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/_vue-loader@13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/_vue-loader@13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2687bf1d\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = M93x\n// module chunks = 1","import Vue from 'vue'\nimport MintUI from 'mint-ui'\nimport 'mint-ui/lib/style.css'\nimport App from './App'\nimport router from './router'\nimport $ from 'jquery'\nimport './config/rem'\nimport axios from 'axios'\nimport MyMethods from './config/methods'\n\nVue.config.productionTip = false\nVue.prototype.axios = axios\nVue.prototype.$md = MyMethods\nVue.use(MintUI)\n\naxios({\n  url: '/xzdd/getUrlConfig',\n  method: 'get',\n  dataType: 'json',\n  params: {\n    url: window.location.href.substring(0, window.location.href.lastIndexOf('#'))\n  }\n}).then(function(data) {\n    if (data && !data.code) {\n      MyMethods.WXConfigInit(data.data);\n    } else {\n      console.log(data.msg);\n    }\n  })\n  .catch(function(err) {\n    console.log(err);\n  });\n\nnew Vue({\n  el: '#app',\n  router,\n  template: '<App/>',\n  components: { App }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-2687bf1d\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/_vue-loader@13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = ORVr\n// module chunks = 1","// (function(doc, win) {\n//   var docEl = doc.documentElement,\n//     resizeEvt = 'orientationchange' in window ? 'orientationchange' : 'resize',\n//     recalc = function() {\n//       var clientWidth = docEl.clientWidth;\n//       if (!clientWidth) return;\n//       docEl.style.fontSize = 20 * (clientWidth / 320) + 'px';\n//     };\n//   if (!doc.addEventListener) return;\n//   win.addEventListener(resizeEvt, recalc, false);\n//   doc.addEventListener('DOMContentLoaded', recalc, false);\n// })(document, window);\n\n$(\"html\").css(\"font-size\",document.documentElement.clientHeight/document.documentElement.clientWidth<1.5 ? (document.documentElement.clientHeight/603*312.5+\"%\") : (document.documentElement.clientWidth/375*312.5+\"%\"));\n// 单屏全屏布局时使用,短屏下自动缩放\n$(\"html\").css(\"font-size\",document.documentElement.clientWidth/375*312.5+\"%\");//长页面时使用,不缩放\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/rem.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport Photograph from '@/pages/photograph'\n\nVue.use(Router)\n\nexport default new Router({\n  routes: [\n    {\n      path: '/',\n      name: 'photograph',\n      component: Photograph\n    }\n  ]\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_vm._m(0),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"fade\",\"mode\":\"out-in\"}},[(_vm.btnShow)?_c('div',{staticClass:\"other\"},[_c('p',{staticClass:\"des\"},[_vm._v(\"我们是教育行业的耕耘者，我们为教育挥洒青春拍照上传为教育创业者代言\")]),_vm._v(\" \"),_c('p',{staticClass:\"myBtn\",on:{\"click\":_vm.selectPhoto}})]):_c('p',{staticClass:\"saveBtn\"},[_vm._v(\"长按图片保存到手机分享朋友圈嘚瑟一下\")])]),_vm._v(\" \"),_c('div',{staticClass:\"box1\"})],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box\"},[_c('img',{staticClass:\"myImg\",attrs:{\"src\":require(\"../images/bg.jpg\")}}),_vm._v(\" \"),_c('p',{staticClass:\"logo\"}),_vm._v(\" \"),_c('p',{staticClass:\"hi\"}),_vm._v(\" \"),_c('p',{staticClass:\"font\"},[_vm._v(\"我在校长邦TOWER教育创新大会现场\"),_c('br'),_vm._v(\"我为TOWER代言\")]),_vm._v(\" \"),_c('p',{staticClass:\"qrcode\"},[_c('img',{attrs:{\"src\":require(\"../images/qrcode.png\")}})])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/_vue-loader@13.3.0@vue-loader/lib/template-compiler?{\"id\":\"data-v-8ff347ca\",\"hasScoped\":true,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./~/_vue-loader@13.3.0@vue-loader/lib/selector.js?type=template&index=0!./src/pages/photograph.vue\n// module id = hNm4\n// module chunks = 1","export default {\n  WXConfigInit: function(weixinObj) {\n    console.log(JSON.stringify(weixinObj));\n    wx.config({\n      debug: false, // 开启调试模式\n      appId: weixinObj.data.appId, // 必填，公众号的唯一标识\n      timestamp: weixinObj.data.timestamp, // 必填，生成签名的时间戳\n      nonceStr: weixinObj.data.noncestr, // 必填，生成签名的随机串\n      signature: weixinObj.data.signature, // 必填，签名，见附录1\n      jsApiList: ['chooseImage', 'previewImage', 'uploadImage', 'downloadImage', 'getLocalImgData', 'hideOptionMenu', 'showOptionMenu', 'hideMenuItems', 'showMenuItems', 'hideAllNonBaseMenuItem', 'showAllNonBaseMenuItem']\n    });\n    wx.ready(function() {\n      console.log(\"微信回调成功\");\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/config/methods.js","module.exports = __webpack_public_path__ + \"spa_poster/img/bg.7fbf4a0.jpg\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/images/bg.jpg\n// module id = nSZi\n// module chunks = 1","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/_extract-text-webpack-plugin@2.1.2@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.3.0@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-8ff347ca\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=styles&index=0!./photograph.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/_vue-loader@13.3.0@vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=script&index=0!./photograph.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/_vue-loader@13.3.0@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8ff347ca\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/_vue-loader@13.3.0@vue-loader/lib/selector?type=template&index=0!./photograph.vue\"\n/* template functional */\n  var __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-8ff347ca\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/photograph.vue\n// module id = vs20\n// module chunks = 1"],"sourceRoot":""}